var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(s,r){function o(t){try{h(n.next(t))}catch(e){r(e)}}function a(t){try{h(n["throw"](t))}catch(e){r(e)}}function h(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,a)}h((n=n.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(s)throw new TypeError("Generator is already executing.");for(;h;)try{if(s=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return h.label++,{value:i[1],done:!1};case 5:h.label++,r=i[1],i=[0];continue;case 7:i=h.ops.pop(),h.trys.pop();continue;default:if(o=h.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){h=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){h.label=i[1];break}if(6===i[0]&&h.label<o[1]){h.label=o[1],o=i;break}if(o&&h.label<o[2]){h.label=o[2],h.ops.push(i);break}o[2]&&h.ops.pop(),h.trys.pop();continue}i=e.call(t,h)}catch(n){i=[6,n],r=0}finally{s=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var s,r,o,a,h={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},xlLib;!function(t){var e=function(e){function i(i){var n=e.call(this)||this;return n.uiLayer=new egret.DisplayObjectContainer,n.topLayer=new egret.DisplayObjectContainer,n.effectLayer=new egret.DisplayObjectContainer,n.mainUILayer=new egret.DisplayObjectContainer,n.maskLayer=new egret.DisplayObjectContainer,n.tipsLayer=new egret.DisplayObjectContainer,n.gameLayer=new egret.DisplayObjectContainer,t.SceneMgr.instance.init(n),n.initBaseLayers(),n.addEventListener(egret.Event.ADDED_TO_STAGE,n.start,n),n}return __extends(i,e),i.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.topLayer),this.addChild(this.effectLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},i.prototype.awake=function(){},i.prototype.start=function(t){void 0===t&&(t=null)},i.prototype.resize=function(){},i.prototype.destroy=function(){},i.prototype.reConnectFail=function(){},i.prototype.addGame=function(e){this.currentGame=e,null==this._bgMask&&(this._bgMask=new egret.Sprite,this._bgMask.graphics.clear(),this._bgMask.graphics.beginFill(0,0),this._bgMask.graphics.drawRect(0,0,t.Global.screenWidth,t.Global.screenHeight),this._bgMask.graphics.endFill(),this._bgMask.width=t.Global.screenWidth,this._bgMask.height=t.Global.screenHeight,this._bgMask.touchEnabled=!0,this._bgMask.visible=!0),this.gameLayer.addChild(this._bgMask),this.gameLayer.addChild(e),this.addChildAt(this.gameLayer,1)},i.prototype.removeGame=function(e){void 0===e&&(e=null);var i=t.SceneMgr.instance.currentScene.currentGame;i&&(i.parent&&i.parent.removeChild(i),i.destroy(),i=null),t.DisplayUtils.removeFromParent(this.gameLayer),this.gameLayer.removeChildren(),this.currentGame=null},i}(egret.DisplayObjectContainer);t.LobbyScene=e,__reflect(e.prototype,"xlLib.LobbyScene",["xlLib.IScene"])}(xlLib||(xlLib={}));var Const=function(){function t(){}return t.GAME_HOST="47.52.138.199",t.GAME_PORT="9081",t.httpUrl="http://47.52.138.199:80",t.GAME_NIUNIU="niuniu",t.GAME_BAIJIALE="baijiale",t.GAME_ERBAGANG="erbagang",t.GAME_MAJIANG="majiang",t.GAME_ZHAJINHUA="zhajinhua",t.TYPE_QZNN="niuniu",t.TYPE_TBNN="tbnn",t.TYPE_QRNIUNIU="qrnn",t.TYPE_JINGDIANJINHUA="jingdianjinhua",t.TYPE_JINGDIANBAIJIALE="jingdianbaijiale",t.TYPE_ERBAGANGJINDIAN="erbagangjindian",t.PLAYWAY_CHUJICHANG="chujichang",t.PLAYWAY_TIYANFANG="tiyanfang",t.PLAYWAY_TIYANCHANG="tiyanchang",t}();__reflect(Const.prototype,"Const");var xlLib;!function(t){var e=function(e){function i(i){var n=e.call(this)||this;return n.uiLayer=new egret.DisplayObjectContainer,n.topLayer=new egret.DisplayObjectContainer,n.effectLayer=new egret.DisplayObjectContainer,n.mainUILayer=new egret.DisplayObjectContainer,n.maskLayer=new egret.DisplayObjectContainer,n.tipsLayer=new egret.DisplayObjectContainer,n.thmLoaded=!1,n.resLoaded=!1,i&&(n._gameInfo=i),t.SceneMgr.instance.init(n),n.initBaseLayers(),n.addEventListener(egret.Event.ADDED_TO_STAGE,n.onAddToStage,n),n}return __extends(i,e),i.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.topLayer),this.addChild(this.effectLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},i.prototype.awake=function(){},i.prototype.onAddToStage=function(t){void 0===t&&(t=null),this._gameInfo?this.preLoadAndInit():this.start(t)},i.prototype.preLoadAndInit=function(){if(this._gameInfo.gameTheme&&""!=this._gameInfo.gameTheme){var t=new eui.Theme(this._gameInfo.gameTheme,this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.loadedthm,this)}else this.thmLoaded=!0;RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.loadedCfg,this),RES.loadConfig(this._gameInfo.gameResConfigUrl,this._gameInfo.gameResRoot)},i.prototype.loadedthm=function(t){this.thmLoaded=!0,this.cfgComplete()},i.prototype.loadedCfg=function(t){this.resLoaded=!0,RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.loadedCfg,this),this.cfgComplete()},i.prototype.start=function(t){void 0===t&&(t=null)},i.prototype.cfgComplete=function(){1==this.thmLoaded&&1==this.resLoaded&&(this._gameInfo.preLoad&&""!=this._gameInfo.preLoad?t.ResLoadMgr.instance.load(this._gameInfo.preLoad,this.onResComplete,this.onResError,this,this._gameInfo.preloadUI):(this.preLoadEnd(),this.preLoadCallBack&&this.preLoadCallBack()))},i.prototype.onResComplete=function(t){t.groupName==this._gameInfo.preLoad&&(this.preLoadEnd(),this.preLoadCallBack&&this.preLoadCallBack())},i.prototype.preLoadEnd=function(){},i.prototype.resize=function(){},i.prototype.destroy=function(){},i.prototype.onResError=function(t){console.warn("Group:"+t.groupName+" has failed to load")},i.prototype.backToLobby=function(){"LobbyScene"==egret.getQualifiedSuperclassName(t.SceneMgr.instance.currentScene)&&t.SceneMgr.instance.currentScene.removeGame()},i}(egret.DisplayObjectContainer);t.GameDoc=e,__reflect(e.prototype,"xlLib.GameDoc",["xlLib.IGameDoc"])}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(t){function e(e){var i=t.call(this)||this;return i.uiLayer=new egret.DisplayObjectContainer,i.topLayer=new egret.DisplayObjectContainer,i.effectLayer=new egret.DisplayObjectContainer,i.mainUILayer=new egret.DisplayObjectContainer,i.maskLayer=new egret.DisplayObjectContainer,i.tipsLayer=new egret.DisplayObjectContainer,i.initBaseLayers(),i.addEventListener(egret.Event.ADDED_TO_STAGE,i.start,i),i}return __extends(e,t),e.prototype.initBaseLayers=function(){this.addChild(this.uiLayer),this.addChild(this.effectLayer),this.addChild(this.topLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.tipsLayer),this.awake()},e.prototype.awake=function(){},e.prototype.start=function(t){void 0===t&&(t=null)},e.prototype.resize=function(){},e.prototype.destroy=function(){},e.prototype.reConnectFail=function(){},e}(egret.DisplayObjectContainer);t.GameScene=e,__reflect(e.prototype,"xlLib.GameScene",["xlLib.IScene"])}(xlLib||(xlLib={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,n){function s(t){e.call(n,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}var o=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){e.call(n,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(t,i){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(n,generateEUI2)},o)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(t.indexOf(".exml")>-1){var a=t.split("/");a.pop();var h=a.join("/")+"_EUI.json";generateJSON.paths[t]?egret.callLater(function(){e.call(n,generateJSON.paths[t])},this):RES.getResByUrl(h,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){e.call(n,generateJSON.paths[t])},o)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){e.call(n,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var VersionController=function(){function t(){var t=this;this.resourceRoot="resource/",this.versionPath="assets/",this.versionConfigPath="resource/version.json",this.currentVersion="1.0.7",this.versionCacheWxgame=function(){var e=egret.localStorage.getItem("resVersion");if(e!=t.currentVersion){egret.localStorage.setItem("resVersion",t.currentVersion),console.log("版本更新");var i=wx.getFileSystemManager(),n=wx.env.USER_DATA_PATH+"/cache_crc32/assets";i.readdir({dirPath:n,success:function(e){for(var s=t.getRemoveList(e.files),r=s.length,o=0;r>o;++o)console.log("删除",n+"/"+s[o]),i.unlinkSync(n+"/"+s[o])},fail:function(t){}})}},this.versionCacheWeb=function(){var e=egret.localStorage.getItem("resVersion");e!=t.currentVersion&&(egret.localStorage.setItem("resVersion",t.currentVersion),console.log("Web版本更新"))}}return t.prototype.init=function(){var t=this;return new Promise(function(e,i){var n=new egret.HttpRequest;n.responseType=egret.HttpResponseType.TEXT,n.open(t.versionConfigPath,egret.HttpMethod.GET),n.send(),n.addEventListener(egret.Event.COMPLETE,function(i){var n=i.currentTarget;egret.log("post data : ",n.response),t.versionConfig=JSON.parse(n.response),egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME?t.versionCacheWxgame():egret.Capabilities.runtimeType==egret.RuntimeType.WEB&&t.versionCacheWeb(),e()},t),n.addEventListener(egret.IOErrorEvent.IO_ERROR,function(){egret.log("post error : "+event),i()},t)})},t.prototype.getRemoveList=function(t){var e=[],i="";for(var n in this.versionConfig)i+=this.versionConfig[n]+",";for(var s=t.length,r=0;s>r;++r){var o=t[r],a=o.slice(0,o.indexOf("."));-1==i.indexOf(a)&&e.push(o)}return e},t.prototype.getVirtualUrl=function(t){return this.getResUrlByVersion(t)},t.prototype.getResUrlByVersion=function(t){if(-1==t.indexOf(this.resourceRoot))return t;if(t=t.replace(this.resourceRoot,""),this.versionConfig){var e=t.indexOf("?v=");-1!=e&&(t=t.slice(0,e));var i=t.replace(this.versionPath,"");if(this.versionConfig&&this.versionConfig[i]){var n=this.versionConfig[i],s=t.slice(t.lastIndexOf("."));t=this.versionPath+n+s}}return t=this.resourceRoot+t},t}();__reflect(VersionController.prototype,"VersionController",["RES.IVersionController"]),RES.registerVersionController(new VersionController);var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var s=RES.getRes(t);s?n(s):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var EventConst=function(){function t(){}return t.ON_SOCKET_SUC="onSocketSuc",t.ON_SOCKET_FAIL="onSocketFail",t.ON_SOCKET_CLOSE="onSocketClose",t.niuniu_manual="niuniu_manual",t.niuniu_player="niuniu_player",t.joinroom="joinroom",t.niuniu_start="niuniu_start",t.niuniu_dohog="niuniu_dohog",t.niuniu_dobet="niuniu_dobet",t.niuniu_leave="niuniu_leave",t.BaccaratEfcsh="BaccaratEfcsh",t.baijialegamestatus="gamestatus",t.BaccaratJoinroom="BaccaratJoinroom",t.baijialebeton="baijialebeton",t.BaccaratOnleave="BaccaratOnleave",t.prepare="prepare",t.play="play",t.botpour="botpour",t.pressure="pressure",t.seecard="seecard",t.compareCard="compareCard",t.abandon="abandon",t.leave="leave",t.isLeave="isLeave",t.zjhLeave="zjhLeave",t.outRoom="outRoom",t.erbagang_start="erbagang_start",t.erbagang_hog="erbagang_hog",t.erbagang_bet="erbagang_bet",t.closeAutoFollow="closeAutoFollow",t.onAutoFollow="onAutoFollow",t.onUserShowOrderUpdate="onUserShowOrderUpdate",t.onGameStatusChange="onGameStatusChange",t.players="players",t.onUserList="onUserList",t.onNewUserEnterGame="onNewUserEnterGame",t.onUserBetOrderUpdate="onUserBetOrderUpdate",t.onUserHogOrderUpdate="onUserHogOrderUpdate",t.onUserLeave="onUserLeave",t.hog="hog",t.hognum="hognum",t.banker="banker",t.bet="bet",t.betnum="betnum",t.summary="summary",t.parteySuccess="parteySuccess",t.playersUserWin="playersUserWin",t.userwin="userwin",t.onSendJetton="onSendJetton",t.OnUpdateLimitItem="OnUpdateLimitItem",t.onUpdateUserBalance="onUpdateUserBalance",t.onUserLeaveGame="onUserLeaveGame",t.onUserAllPress="onUserAllPress",t.onUserSeeCard="onUserSeeCard",t.onUserToCard="onUserToCard",t.onUserWaiveCard="onUserWaiveCard",t.onTimelyNotify="onTimelyNotify",t.singonAiReadyTocard="singonAiReadyTocard",t.gamestatus="gamestatus",t.onUserBetSelect="onUserBetSelect",t.onAiBetOrderUpdate="onAiBetOrderUpdate",t.onAiSeeCard="onAiSeeCard",t.onAiWaiveCard="onAiWaiveCard",t.onUserExceWaiveCard="onUserExceWaiveCard",t.onCheckout="onCheckout",t.otherBotpour="otherBotpour",t.otherSeecard="otherSeecard",t.otherAbandon="otherAbandon",t.gameOver="gameOver",t.gambleType="gambleType",t.settlement="settlement",t.onUserIsLeave="onUserIsLeave",t.onUserOutRoom="onUserOutRoom",t}();__reflect(EventConst.prototype,"EventConst");var HttpAddress=function(){function t(){}return t.guestUrl=Const.httpUrl+"/api/guest",t.sendmsgUrl=Const.httpUrl+"/api/sendmsg",t.login=Const.httpUrl+"/api/login",t}();__reflect(HttpAddress.prototype,"HttpAddress");var LodingView=function(t){function e(){var e=t.call(this)||this;return e.skinName="LodingViewSkin",e}return __extends(e,t),e.prototype.playLiuguang=function(){this.liuguang=xlLib.DisplayUtils.createDragonBonesDisplay("wzqp","wzqp"),dragonBones.WorldClock.clock.add(this.liuguang);var t=this.liuguang.getDisplay();t.x=1230,t.y=400,this.addChild(t),xlLib.DisplayUtils.runDragonBonesArmature(this.liuguang,"wzqp")},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.ami.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.play(),this.playLiuguang(),this.resize()},e.prototype.partRemoved=function(e,i){this.stop(),xlLib.DisplayUtils.destoryDragonBonesArmature(this.liuguang,"wzqp"),t.prototype.partRemoved.call(this,e,i)},e.prototype.onTweenComplete=function(t){this.ami.play(0)},e.prototype.play=function(){this.ami.play(0)},e.prototype.stop=function(){this.ami.stop()},e.prototype.resize=function(){this.bg_img&&(this.bg_img.width=xlLib.Global.screenWidth,this.bg_img.height=xlLib.Global.screenHeight)},e.prototype.setProgress=function(t,e,i,n,s){if(void 0===s&&(s=!1),e&&0!=e){var r=Math.floor(524*(t/e));this.load_rec.width=r,this.load_img.mask=this.load_rec}},e}(eui.Component);__reflect(LodingView.prototype,"LodingView");var xlLib;!function(t){var e=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.initPushMessage=function(){t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.parteySuccess,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.BaccaratEfcsh,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserList,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserLeave,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.niuniu_leave,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserShowOrderUpdate,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserBetOrderUpdate,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserHogOrderUpdate,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onGameStatusChange,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.players,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onNewUserEnterGame,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.hog,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.hognum,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.banker,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.bet,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.betnum,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.summary,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.play,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.OnUpdateLimitItem,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUpdateUserBalance,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onSendJetton,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.userwin,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserLeaveGame,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserBetSelect,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserSeeCard,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onAiSeeCard,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserWaiveCard,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onAiWaiveCard,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserBetOrderUpdate,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onAiBetOrderUpdate,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserToCard,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserAllPress,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onTimelyNotify,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserExceWaiveCard,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onCheckout,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.leave,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.zjhLeave,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserIsLeave,this.onMessage),t.WebSocketMgr.getInstance().registerMsgHandler(EventConst.onUserOutRoom,this.onMessage)},e.prototype.onMessage=function(t){switch(t.command){case EventConst.onGameStatusChange:return UserInfo.getInstance().gameStatu(t),void EventUtil.dispatchEvent(t.command,t);case EventConst.players:return console.log(t),UserInfo.getInstance().addPlayes(t),void EventUtil.dispatchEvent(t.command,t);case EventConst.onNewUserEnterGame:return console.log(t),UserInfo.getInstance().joinRoomPlayer(t),void EventUtil.dispatchEvent(t.command,t);default:return console.log("收到服务器推送："+t.command),void EventUtil.dispatchEvent(t.command,t)}},e}();t.ReceiveMessageMgr=e,__reflect(e.prototype,"xlLib.ReceiveMessageMgr")}(xlLib||(xlLib={}));var AlertDialog=function(t){function e(){var e=t.call(this)||this;return e.skinName="AlertDialogSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.resize(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this)},e.prototype.resize=function(){this.close_rect&&(this.close_rect.width=xlLib.Global.screenWidth,this.close_rect.height=xlLib.Global.screenHeight)},e.prototype.showAlertDialog=function(t,e,i){this.des_txt.text=t,this.cb=e,this.thisArg=i},e.prototype.onTouchHandler=function(t){t.target==this.qd_btn&&(this.cb&&this.cb.call(this.thisArg),xlLib.UIMgr.instance.hideUI(this))},e.prototype.destroy=function(){this.cb=null,this.thisArg=null,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this)},e}(eui.Component);__reflect(AlertDialog.prototype,"AlertDialog");var ComBox=function(t){function e(e){void 0===e&&(e=16777215);var i=t.call(this)||this;return i.skinName="ComBoxSkin",i.tab_txt.textColor=e,i.initEventListener(),i}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.isShowMenu(!1)},e.prototype.initEventListener=function(){egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchStageHandler,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this),this.table_list.addEventListener(egret.TouchEvent.TOUCH_TAP,this.itemClickHandler,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this)},e.prototype.isShowMenu=function(t){this.isShow=t,this.scroller.visible=t,this.table_list.visible=t,this.bgImg.visible=t},e.prototype.onTouchStageHandler=function(t){t.target!=this.sel_btn&&t.target!=this.combox_grp&&t.target!=this.scroller&&t.target!=this.table_list&&this.isShowMenu(!1)},e.prototype.itemClickHandler=function(t){var e=t.target;e&&(this.cb&&this.cb.call(this.thisArg,e.data),e.data&&(this.tab_txt.text=e.data.name),this.isShowMenu(!1))},e.prototype.onTouchHandler=function(t){(t.target==this.sel_btn||t.target==this.combox_grp)&&this.isShowMenu(!this.isShow)},e.prototype.setComBoxData=function(t,e,i){this.cb=e,this.thisArg=i,this.arrayCollection=new eui.ArrayCollection(t),this.table_list.dataProvider=this.arrayCollection,this.table_list.itemRenderer=ComBoxItem,this.scroller.viewport=this.table_list,this.tab_txt.text=t[0].name},e.prototype.destroy=function(){this.cb=null,this.thisArg=null,this.scroller.stopAnimation(),this.table_list.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.itemClickHandler,this),egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchStageHandler,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this)},e}(eui.Component);__reflect(ComBox.prototype,"ComBox");var ComBoxItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="ComBoxItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){this.des_txt.text=this.data.name},e}(eui.ItemRenderer);__reflect(ComBoxItem.prototype,"ComBoxItem");var DatePickerView=function(t){function e(){var e=t.call(this)||this;return e.skinName="DatePickerViewSkin",e.initEventListener(),e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.resize()},e.prototype.resize=function(){this.close_rect&&(this.close_rect.width=xlLib.Global.screenWidth,this.close_rect.height=xlLib.Global.screenHeight)},e.prototype.showDatePicker=function(t,e,i){this.currdate=t,this.cb=e,this.thisArg=i,this.updataDateText(),this.resize()},e.prototype.updataDateText=function(){this.time_txt.text=GlobalFunction.getDateString(this.currdate)+"/08:00:00",this.year_txt.text=this.currdate.getFullYear()+"",this.month_txt.text=this.currdate.getMonth()+1+"",this.date_txt.text=this.currdate.getDate()+""},e.prototype.initEventListener=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this)},e.prototype.onTouchHandler=function(t){t.target==this.close_rect||t.target==this.qx_btn?xlLib.PopUpMgr.removePopUp(this,1):t.target==this.qd_btn?(this.cb&&this.cb.call(this.thisArg,this.currdate),xlLib.PopUpMgr.removePopUp(this,1)):t.target==this.addyear_btn?(this.currdate.setFullYear(this.currdate.getFullYear()+1),this.updataDateText()):t.target==this.addmonth_btn?(this.currdate.setMonth(this.currdate.getMonth()+1),this.updataDateText()):t.target==this.adddate_btn?(this.currdate.setDate(this.currdate.getDate()+1),this.updataDateText()):t.target==this.reyear_btn?(this.currdate.setFullYear(this.currdate.getFullYear()-1),this.updataDateText()):t.target==this.remonth_btn?(this.currdate.setMonth(this.currdate.getMonth()-1),this.updataDateText()):t.target==this.redate_btn&&(this.currdate.setDate(this.currdate.getDate()-1),this.updataDateText())},e.prototype.destroy=function(){this.cb=null,this.thisArg=null,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this)},e}(eui.Component);__reflect(DatePickerView.prototype,"DatePickerView");var EToggleSwitch=function(t){function e(e,i,n,s,r,o){void 0===i&&(i=""),void 0===n&&(n=""),void 0===s&&(s=""),void 0===r&&(r=null),void 0===o&&(o="assets");var a=t.call(this)||this;return a.isPlayCartoon=!1,a.isSelected=!1,a.switchOffName="",a.switchOnName="",a.switchBarName="",a.param={context:null,data:null},a.param.context=e,a.switchOffName=i,a.switchOnName=n,a.switchBarName=s,a.init(r,o),a}return __extends(e,t),e.prototype.init=function(t,e){void 0===t&&(t=null),void 0===e&&(e="assets"),this.backFun=t,this.switchOffImg=new egret.Bitmap,this.switchOnImg=new egret.Bitmap,this.switchBarImg=new egret.Bitmap,this.switchOffImg.texture=RES.getRes(this.switchOffName),this.addChild(this.switchOffImg),this.switchOnImg.texture=RES.getRes(this.switchOnName),this.addChild(this.switchOnImg),this.switchOnImg.alpha=0,this.switchBarImg.texture=RES.getRes(this.switchBarName),this.switchBarImg.x=5,this.switchBarImg.y=this.switchOffImg.height/2-this.switchBarImg.height/2+4,this.addChild(this.switchBarImg),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuttonTouchTap,this)},e.prototype.onbuttonTouchTap=function(t){if(!this.isPlayCartoon){this.isPlayCartoon=!0;var e=function(){this.isPlayCartoon=!1,this.isSelected=!this.isSelected,null!=this.backFun&&this.backFun.apply(this.param.context,[this.param.data])};this.isSelected?(egret.Tween.get(this.switchBarImg).to({x:5},400).call(e,this),egret.Tween.get(this.switchOffImg).to({alpha:1},400),egret.Tween.get(this.switchOnImg).to({alpha:0},400)):(egret.Tween.get(this.switchBarImg).to({x:this.switchOffImg.width-this.switchBarImg.width-6},400).call(e,this),egret.Tween.get(this.switchOffImg).to({alpha:0},400),egret.Tween.get(this.switchOnImg).to({alpha:1},400))}},e.prototype.setBindData=function(t){this.param.data=t},e.prototype.getBindData=function(){return this.param.data},e.prototype.getSelected=function(){return this.isSelected},e}(egret.DisplayObjectContainer);__reflect(EToggleSwitch.prototype,"EToggleSwitch");var Hint=function(t){function e(){var e=t.call(this)||this;return e.skinName="HintSkin",e}return __extends(e,t),e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this._qding.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},e.prototype.onClick=function(t){xlLib.PopUpMgr.removePopUp(e,1)},e}(eui.Component);__reflect(Hint.prototype,"Hint",["eui.UIComponent","egret.DisplayObject"]);var Inthematch=function(t){function e(){var e=t.call(this)||this;return e.TYPE_TAP="",e.skinName="InthematchSkin",e}return __extends(e,t),e.prototype.partAdded=function(e,i){this.clearTime(),t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.initData(),this._quxiao.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),EventUtil.addEventListener(EventConst.onUserLeave,this.onleave,this)},e.prototype.onleave=function(t){if(200==t._obj.code){xlLib.PopUpMgr.removePopUp(e,1);var i=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(i),xlLib.SceneMgr.instance.changeScene(Lobby)}this.destroy()},e.prototype.onClick=function(t){this.quxiaopipei()},e.prototype.quxiaopipei=function(){var t=UserInfo.getInstance().getGameDataByindex(Const.GAME_NIUNIU),e=t.getTypeDataByindex(this.TYPE_TAP),i=e.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:i.id};xlLib.WebSocketMgr.getInstance().send(EventConst.niuniu_leave,n,function(t){},this)},e.prototype.initData=function(){this.str=this._waitfor.text,this.startCountDown(0)},e.prototype.startCountDown=function(t){this.time=t,null==this.timer&&(this.timer=new egret.Timer(300),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer.start())},e.prototype.timerFunc=function(t){for(var e=0;e<=this.time%4;e++)switch(e){case 0:this._waitfor.text=this.str+"";break;case 1:this._waitfor.text=this.str+".";break;case 2:this._waitfor.text=this.str+"..";break;case 3:this._waitfor.text=this.str+"..."}this.time++},e.prototype.clearTime=function(){this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer=null)},e.prototype.destroy=function(){this.TYPE_TAP="",this._quxiao.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),EventUtil.removeEventListener(EventConst.onUserLeave,this.onleave,this)},e}(eui.Component);__reflect(Inthematch.prototype,"Inthematch");var TipsLoading=function(t){function e(){var e=t.call(this)||this;return e.init(),e.once(egret.Event.ADDED_TO_STAGE,e.onAddHandler,e),e.once(egret.Event.REMOVED_FROM_STAGE,e.destroy,e),e}return __extends(e,t),e.prototype.init=function(){var t=xlLib.DisplayUtils.createMask(.5,xlLib.Global.screenWidth,xlLib.Global.screenHeight);t.touchEnabled=!0,this.addChild(t),this._tips_bg=xlLib.DisplayUtils.createBitmapByName("spinner"),this._tips_bg.x=xlLib.Global.screenWidth>>1,this._tips_bg.y=xlLib.Global.screenHeight>>1,this._tips_bg.anchorOffsetX=this._tips_bg.width/2,this._tips_bg.anchorOffsetY=this._tips_bg.height/2,this._tips_bg.scaleX=this._tips_bg.scaleY=.4,this.addChild(this._tips_bg)},e.prototype.onAddHandler=function(t){this.starRotation()},e.prototype.starRotation=function(){egret.Tween.get(this._tips_bg).to({rotation:this._tips_bg.rotation+20},100).call(this.starRotation,this)},e.prototype.destroy=function(){egret.Tween.removeTweens(this._tips_bg),this._tips_bg=null},e}(egret.DisplayObjectContainer);__reflect(TipsLoading.prototype,"TipsLoading");var ComBoxData=function(){function t(t){this.id=t.id,this.name=t.name,this.data=t.data}return t}();__reflect(ComBoxData.prototype,"ComBoxData");var gameData=function(){function t(){this.types=[]}return t.prototype.initData=function(t){this.id=t.id,this.code=t.code,this.name=t.name,this.indexStr=t.indexStr;for(var e,i=0;i<t.types.length;i++)e=new typeData,e.initData(t.types[i]),this.types.push(e)},t.prototype.getTypeDataByindex=function(t){for(var e,i=0;i<this.types.length;i++)if(this.types[i].indexStr==t){e=this.types[i];break}return e},t}();__reflect(gameData.prototype,"gameData");var GameIconData=function(){function t(){}return t.prototype.initData=function(t){return this.url=t.url,this.isOpen=t.isOpen,this.game=t.game,this.type=t.type,this.ishot=t.ishot,this.isNew=t.isNew,this},t}();__reflect(GameIconData.prototype,"GameIconData");var GlobalData=function(){function t(){}return t.clearData=function(t){void 0===t&&(t=!1)},t.md5PassWord="",t.isReConnect=!1,t.gameVersion="2018050905",t.isOutLogin=!1,t.hasNetwork=!0,t.recNum=0,t.liveCloseBtn=!1,t.isLiveRoom=!1,t}();__reflect(GlobalData.prototype,"GlobalData");var InfoBoxData=function(){function t(t){this.id=t.id,this.name=t.name,this.data=t.data}return t}();__reflect(InfoBoxData.prototype,"InfoBoxData");var PlayerData=function(){function t(){}return t.prototype.initData=function(t){this.integral=t.id,this.lastlogintime=t.lastlogintime,this.login=t.login,this.message=t.message,this.online=t.online,this.opendeal=t.opendeal,this.orgi=t.orgi,this.passupdatetime=t.passupdatetime,this.playerindex=t.playerindex,this.playertype=t.playertype,this.province=t.province,this.roomid=t.roomid,this.roomready=t.roomready,this.token=t.token,this.updatetime=t.updatetime,this.username=t.username,this.goldcoins=t.goldcoins,this.id=t.id,this.index=t.index
},t}();__reflect(PlayerData.prototype,"PlayerData");var playWayData=function(){function t(){}return t.prototype.initData=function(t){this.changecard=t.changecard,this.code=t.code,this.extpro=t.extpro,this.free=t.free,this.groups=t.groups,this.id=t.id,this.items=t.items,this.level=t.level,this.maxcoins=t.maxcoins,this.memo=t.memo,this.mincoins=t.mincoins,this.name=t.name,this.onlineusers=t.onlineusers,this.roomtitle=t.roomtitle,this.score=t.score,this.shuffle=t.shuffle,this.indexStr=t.indexStr},t}();__reflect(playWayData.prototype,"playWayData");var typeData=function(){function t(){this.playways=[]}return t.prototype.initData=function(t){this.id=t.id,this.code=t.code,this.name=t.name,this.indexStr=t.indexStr;for(var e,i=0;i<t.playways.length;i++)e=new playWayData,e.initData(t.playways[i]),this.playways.push(e)},t.prototype.getPlayWayByindex=function(t){for(var e,i=0;i<this.playways.length;i++)if(this.playways[i].indexStr==t){e=this.playways[i];break}return e},t}();__reflect(typeData.prototype,"typeData");var UserInfo=function(){function t(){this.gamelist=[],this.playes=[]}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.getGameDataByindex=function(t){for(var e,i=0;i<this.gamelist.length;i++)if(this.gamelist[i].indexStr==t){e=this.gamelist[i];break}return e},t.prototype.gameStatu=function(t){this.gameData=t},t.prototype.addPlayes=function(t){for(var e=0;e<t.player.length;e++){t.player[e].id==this.uid&&(this.myPlayer=new PlayerData,this.myPlayer.initData(t.player[e]));var i=new PlayerData;i.initData(t.player[e]),this.playes.push(i)}},t.prototype.joinRoomPlayer=function(t){t.player.id==this.myPlayer.id||this.playes.push(t.player)},t.prototype.initUserInfo=function(t){var e=t.data;this.uid=e.id,this.username=e.username,this.goldcoins=e.goldcoins,this.token=e.token;for(var i,n=0;n<t.games.length;n++)i=new gameData,i.initData(t.games[n]),this.gamelist.push(i)},t.prototype.findUserInfo=function(t){for(var e=0;e<this.playes.length;e++)if(this.playes[e].id==t)return this.playes[e]},t.prototype.findSeatNumber=function(t){var e=0;return t==this.playes[0].index?0:e=t<this.playes[0].index?this.playes.length-(this.playes[0].index-t):t-this.playes[0].index},t}();__reflect(UserInfo.prototype,"UserInfo");var BJLframe=function(t){function e(){var e=t.call(this)||this;return e.skinName="BJLframeSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){this.data&&(this.img_order.source=this.data.tp,this.label_index.visible=this.data.fot,this.label_index.text=this.data.index+"",this.imghead.source=this.data.img,this.labelName.text=this.data.name,this.labelGold.text=GlobalFunction.Formatconversion(this.data.gold),this.labelGold1.text=GlobalFunction.Formatconversion(this.data.gold1))},e.prototype.destroy=function(){},e}(eui.ItemRenderer);__reflect(BJLframe.prototype,"BJLframe");var BJLHead=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNHeadSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this);var e=new egret.Shape;e.graphics.beginFill(16711680),e.graphics.drawCircle(46,46,46),e.graphics.endFill(),e.x=this.imghead.x+3,e.y=this.imghead.y+3,this.addChild(e),this.imghead.mask=e},e.prototype.setUserInfo=function(t,e,i){this.imghead.source=i,this.labelName.text=t,this.labelGold.text=e},e.prototype.setZhuang=function(t){this.img_zhuang.visible=t},e.prototype.destroy=function(){},e}(eui.Component);__reflect(BJLHead.prototype,"BJLHead");var BJLjiesuan1=function(t){function e(){var e=t.call(this)||this;return e.skinName="BJLjiesuan_1Skin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.zhuangyin.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.visible=!1,this.zhuangyin.stop()},e.prototype.play=function(){this.visible=!0,this.zhuangyin.play(0)},e.prototype.stop=function(){this.zhuangyin.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(BJLjiesuan1.prototype,"BJLjiesuan1");var BJLjiesuan2=function(t){function e(){var e=t.call(this)||this;return e.skinName="BJLjiesuan_2Skin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.zhuangyin.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.visible=!1,this.zhuangyin.stop()},e.prototype.play=function(){this.visible=!0,this.zhuangyin.play(0)},e.prototype.stop=function(){this.zhuangyin.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(BJLjiesuan2.prototype,"BJLjiesuan2");var BJLjiesuan3=function(t){function e(){var e=t.call(this)||this;return e.skinName="BJLjiesuan_3Skin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.zhuangyin.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.visible=!1,this.zhuangyin.stop()},e.prototype.play=function(){this.visible=!0,this.zhuangyin.play(0)},e.prototype.stop=function(){this.zhuangyin.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(BJLjiesuan3.prototype,"BJLjiesuan3");var BJLroomView=function(t){function e(){var e=t.call(this)||this;return e.skinName="BJLroomViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.initData(),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this._coin_label.text=GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins),this._btn_enter.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGame,this),EventUtil.addEventListener(EventConst.parteySuccess,this.OnparteySuccess,this),EventUtil.addEventListener(EventConst.onTimelyNotify,this.OnbaccaratOnJoinRoom,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.GameStatus,this)},e.prototype.GameStatus=function(t){200==t._obj.code&&xlLib.SceneMgr.instance.changeScene(BJLScene)},e.prototype.initData=function(){this._btn_enter.touchEnabled=!1,this.isRoomid=[]},e.prototype.OnbaccaratOnJoinRoom=function(t){6==t._obj.change&&xlLib.TipsUtils.showFloatWordTips(t._obj.reminder)},e.prototype.OnparteySuccess=function(t){this._btn_enter.touchEnabled=!0;for(var e=0;e<t._obj.gameRooms.length;e++){var i=t._obj.gameRooms[e].roomid;this.isRoomid.push(i)}xlLib.TipsUtils.showFloatWordTips("加入房间列表成功！")},e.prototype.onEnterGame=function(){if(this.gameIconData){var t=UserInfo.getInstance().getGameDataByindex(this.gameIconData.game),e=t.getTypeDataByindex(this.gameIconData.type),i=e.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:i.id,roomid:this.isRoomid[0]};xlLib.WebSocketMgr.getInstance().send(EventConst.BaccaratJoinroom,n,function(t){},this)}},e.prototype.setGameIconData=function(t){if(this.gameIconData=t,this.gameIconData){var e=UserInfo.getInstance().getGameDataByindex(this.gameIconData.game),i=e.getTypeDataByindex(this.gameIconData.type),n=i.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),s={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:n.id};xlLib.WebSocketMgr.getInstance().send(EventConst.BaccaratEfcsh,s,function(t){},this)}},e.prototype.dispose=function(){xlLib.PopUpMgr.removePopUp(this,1)},e.prototype.destroy=function(){this.gameIconData=null,this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),EventUtil.removeEventListener(EventConst.parteySuccess,this.OnparteySuccess,this),EventUtil.removeEventListener(EventConst.onTimelyNotify,this.OnbaccaratOnJoinRoom,this),EventUtil.removeEventListener(EventConst.onGameStatusChange,this.GameStatus,this)},e}(eui.Component);__reflect(BJLroomView.prototype,"BJLroomView",["eui.UIComponent","egret.DisplayObject"]);var BJLScene=function(t){function e(){var e=t.call(this)||this;return e.BJLView=new BJLView,e.uiLayer.addChild(e.BJLView),e}return __extends(e,t),e.prototype.destroy=function(){this.BJLView.destroy(),t.prototype.destroy.call(this)},e.prototype.resize=function(){this.BJLView&&this.BJLView.resize()},e}(xlLib.GameScene);__reflect(BJLScene.prototype,"BJLScene");var BJLtingzhi=function(t){function e(){var e=t.call(this)||this;return e.skinName="BJLtingzhiSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.bjlkaishi.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.bjlkaishi.stop()},e.prototype.play=function(){this.bjlkaishi.play(0)},e.prototype.stop=function(){this.bjlkaishi.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(BJLtingzhi.prototype,"BJLtingzhi");var BJLTypeItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="BJLTypeItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){},e}(eui.ItemRenderer);__reflect(BJLTypeItem.prototype,"BJLTypeItem");var BJLUtil=function(){function t(){if(t.instance)throw new Error("Instance is alreally exist")}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getBetNumber=function(t){switch(t){case 0:return Math.pow(10,4);case 1:return Math.pow(10,5);case 2:return 5*Math.pow(10,6);case 3:return Math.pow(10,7);case 4:return 1*Math.pow(10,8);case 5:return 5*Math.pow(10,8)}},t.prototype.getMsgSource=function(t){var e="";switch(t){case 2:e="d2";break;case 3:e="d3";break;case 4:e="d4";break;case 5:e="d5"}return e},t.prototype.getSoundEffect=function(t){switch(t){case 0:return"bgm";case 1:return"jh.jackpot";case 2:return"jh.start";case 3:return"jh.end";case 4:return"jh.ts";case 5:return"jh.tp";case 6:return"jh.dealCard";case 7:return"jh.openCard";case 8:return"jh.stake"}},t.prototype.getCoinsPos=function(t){var e=new egret.Point;switch(t){case 1:e.x=240,e.y=240;break;case 2:e.x=920,e.y=240;break;case 3:e.x=260,e.y=430;break;case 4:e.x=930,e.y=430;break;case 5:e.x=590,e.y=430}return e},t.prototype.getCardType=function(t){switch(t){case 1:return"豹子";case 2:return"同花顺";case 3:return"金花";case 4:return"顺子";case 5:return"对子";case 6:return"单张"}},t.prototype.coinsType=function(t,e){var i=[],n=0,s="";4==e?(n=e,s="baccarat_game_icon_chouma_4_png"):10==e?(n=e,s="baccarat_game_icon_chouma_10_png"):20==e?(n=e,s="baccarat_game_icon_chouma_20_png"):50==e?(n=e,s="baccarat_game_icon_chouma_50_png"):100==e?(n=e,s="baccarat_game_icon_chouma_100_png"):200==e&&(n=e,s="baccarat_game_icon_chouma_200_png");var r=new eui.Image(s);return r.x=t.x,r.y=t.y,r.scaleX=.3,r.scaleY=.3,i.push(r),i},t.prototype.coinPos=function(){var t=new egret.Point,e=Math.floor(4*Math.random());switch(e){case 0:t.x=-100,t.y=400;break;case 1:t.x=-100,t.y=800;break;case 2:t.x=650,t.y=400;break;case 3:t.x=650,t.y=800}return t},t.instance=null,t}();__reflect(BJLUtil.prototype,"BJLUtil");var BJLView=function(t){function e(){var e=t.call(this)||this;return e.r=null,e.num=0,e.arrCoin=[],e.isAction=!1,e.multipleList=[0,0,0,0,0,0],e.istzxzDh=!1,e.interval=-1,e.selfbetsNum={},e.betsPostion=-1,e.betsNum=0,e.cardResult=null,e.isChangeBanker=!1,e.changeBankerObj={},e.isCanBets=!0,e.poolBetArray={},e.limitGold=0,e.limitVip=0,e.curBankerRanking=-1,e.isApplyBanker=!1,e.lastGameBankerNum=0,e.isSysBanker=!1,e.orginBankerCardPos=[],e.orginPlayerCardPos=[],e.isBanker=!1,e.isBets=!1,e.maxUserData=null,e.banker_total_gold=0,e.isBoomBanker=!1,e.resultCaijin=0,e.totalCaijin=0,e.cdNum=10,e.lastTouchBetIndex=1,e.coinsNumArr={},e.isCoinsReturn=!0,e.curRate=0,e.lastTouchBetTime=0,e.isCardEffectShow=!1,e.fapai_0=0,e.fapai_1=0,e.flyIntval=0,e.flyBankerIndex=0,e.flyIndex0=0,e.flyIndex1=0,e.effectPlayerIndex=0,e.skinName="BJLViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.getOrginCardPos(),this.addEvent(),this.initData(),this.labelHead0.text=UserInfo.getInstance().username,this.labelGold0.text=GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins)},e.prototype.initData=function(){this.selfbetsNum={1:0,2:0,3:0,4:0},this.poolBetArray={1:0,2:0,3:0,4:0},this.coinsNumArr={1:0,2:0,3:0,4:0},this.grpCoins.touchEnabled=!1,this.grpTips.touchEnabled=!1,this.grpTips.touchChildren=!1,this.grpTips.visible=!1,this.grpCard.visible=!0,UserInfo.getInstance().isGameStart=!1,this.istzxzDh=!1,this.isAction=!0;for(var t=0;5>t;t++)this["grade_text_"+t+"_0"].text="",this["grade_text_"+t+"_1"].text="",this["effectTouch"+t].alpha=0;this.arrCoin=[],this.wjlistkuang.visible=!1,this.dianshu_0.visible=!1,this.dianshu_1.visible=!1,this.dianshu_img_0.source="",this.dianshu_img_1.source="",this.Themitoken.visible=!1,this.xian_tishi.visible=!1,this.zhuang_tishi.visible=!1;for(var t=0;3>t;t++)this["puke_0_"+t].source="",this["puke_0_"+t].visible=!1,this["puke_1_"+t].source="",this["puke_1_"+t].visible=!1;this._bei_puke_0_2.source="",this._bei_puke_1_2.source=""},e.prototype.getOrginCardPos=function(){for(var t=0;2>t;t++){for(var e=[],i=0;3>i;i++){var n=this["grpCard_"+t+"_"+i];n.source="",n.anchorOffsetX=n.width/2,n.x+=n.width/2;var s=new egret.Point;s.x=n.x,s.y=n.y,e[i]=s}this.orginPlayerCardPos[t]=e}},e.prototype.resize=function(){},e.prototype.onClick=function(t){t.target==this.wanjialist?(this.wjlistkuang.visible=!0,this.wanjialiebiao(EventConst.playersUserWin)):t.target==this._image_1?this.onTouchBet(1):t.target==this._image_2?this.onTouchBet(2):t.target==this._image_3?this.onTouchBet(3):t.target==this._image_4?this.onTouchBet(4):t.target==this._image_5?this.onTouchBet(5):t.target==this._image_6?this.onTouchBet(6):t.target==this.effectTouch0?this.isAction&&this.sendamessage(EventConst.baijialebeton,this.multipleList[this.lastTouchBetIndex-1],1):t.target==this.effectTouch1?this.isAction&&this.sendamessage(EventConst.baijialebeton,this.multipleList[this.lastTouchBetIndex-1],2):t.target==this.effectTouch2?this.isAction&&this.sendamessage(EventConst.baijialebeton,this.multipleList[this.lastTouchBetIndex-1],3):t.target==this.effectTouch3?this.isAction&&this.sendamessage(EventConst.baijialebeton,this.multipleList[this.lastTouchBetIndex-1],4):t.target==this.effectTouch4?this.isAction&&this.sendamessage(EventConst.baijialebeton,this.multipleList[this.lastTouchBetIndex-1],5):t.target==this._btn_meun||(t.target==this.packup?this.wjlistkuang.visible=!1:t.target==this._btn_close&&this.Onquit())},e.prototype.sendamessage=function(t,e,i){var n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:Const.PLAYWAY_CHUJICHANG,extparams:{moneys:e,types:i}};xlLib.WebSocketMgr.getInstance().send(t,n,function(t){},this)},e.prototype.addEvent=function(){this._image_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._image_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._image_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._image_4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._image_5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._image_6.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_meun.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.wanjialist.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.packup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),EventUtil.addEventListener(EventConst.onUserBetOrderUpdate,this.OnBetUpdate,this),EventUtil.addEventListener(EventConst.onCheckout,this.bofangEffect,this),EventUtil.addEventListener(EventConst.onUpdateUserBalance,this.onAcquisitionGolbBack,this),EventUtil.addEventListener(EventConst.OnUpdateLimitItem,this.UpdateLimitItem,this),EventUtil.addEventListener(EventConst.onSendJetton,this.SendJetton,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.GameStatus,this),EventUtil.addEventListener(EventConst.userwin,this.initGameIconList,this),EventUtil.addEventListener(EventConst.onUserLeaveGame,this.ongameOverSuccesBack,this),EventUtil.addEventListener(EventConst.onTimelyNotify,this.TimelyNotify,this)},e.prototype.UpdateLimitItem=function(t){xlLib.TipsUtils.showFloatWordTips("个人限红通知!")},e.prototype.GameStatus=function(t){switch(console.log("收到----------------------------------------"+t._obj.roomStatus),t._obj.roomStatus){case 1:break;case 2:this.onStartBetonBack(t);break;case 5:this.startCountDown(t._obj.seconds),this.fapai();break;case 3:this.xianjiamipai(t);break;case 6:this.zhuangjiamipai(t);break;case 7:this.xianjiaBupai(t);break;case 8:this.zhuangjiaBupai(t);break;case 4:this.onBeginBteonBack(t);break;case 9:this.Zhuangbeizho(t)}},e.prototype.Zhuangbeizho=function(t){this.startCountDown(t._obj.seconds),this.resetGame()},e.prototype.SendJetton=function(t){for(var e=0;e<t._obj.betrules.length;e++)this.multipleList[e]=t._obj.betrules[e]},e.prototype.ononBJLjoinroomBack=function(t){console.log("赔率")},e.prototype.onStartBetonBack=function(t){console.log("可以开始下注  倒计时"),this.xiazhu_Effect(),this.istzxzDh=!0,this.startCountDown(t._obj.seconds),this.isAction=!0;for(var e=0;5>e;e++)this["effectTouch"+e].alpha=1},e.prototype.OnBetUpdate=function(t){console.log(UserInfo.getInstance().uid),console.log(t._obj.userid),200==t._obj.code&&(UserInfo.getInstance().uid==t._obj.userid?(UserInfo.getInstance().isGameStart=!0,this.onGenZhuClick(t._obj.money,t._obj.base),this.onJettongrade(t._obj.zongsocre,t._obj.base),this.onplaygrade(t._obj.playsocre,t._obj.base),UserInfo.getInstance().goldcoins=t._obj.golbcontis,this.labelGold0.text=GlobalFunction.Formatconversion(t._obj.golbcontis)):(this.onPlayerGenZhu(t._obj.money,t._obj.base),this.onJettongrade(t._obj.zongsocre,t._obj.base)))},e.prototype.xianjiamipai=function(t){this.istzxzDh=!1,this.startCountDown(t._obj.seconds),this.dianshu_0.visible=!0,this.dianshu_img_0.source="baccarat_game_point_"+t._obj.playersce+"_png",this.Themitoken.visible=!0,this.xian_tishi.visible=!0,this.xian_Label.text="闲家咪牌中",this.zhuang_tishi.visible=!1,this.grpCard_0_0.source="qznn_card_"+t._obj.playerCard[0],this.grpCard_0_1.source="qznn_card_"+t._obj.playerCard[1],this.puke_0_0.source="qznn_card_"+t._obj.playerCard[1],this.puke_0_0.visible=!0,this.puke_0_1.source="qznn_card_"+t._obj.playerCard[0],this.puke_0_1.visible=!0,this._bei_puke_0_0.visible=!1,this._bei_puke_0_1.visible=!1},e.prototype.zhuangjiamipai=function(t){this.startCountDown(t._obj.seconds),this.dianshu_1.visible=!0,this.dianshu_img_1.source="baccarat_game_point_"+t._obj.bankersce+"_png",this.xian_tishi.visible=!1,this.zhuang_tishi.visible=!0,this.zhuang_Label.text="庄家咪牌中",this.grpCard_1_0.source="qznn_card_"+t._obj.bankerCard[0],this.grpCard_1_1.source="qznn_card_"+t._obj.bankerCard[1],this.puke_1_0.source="qznn_card_"+t._obj.bankerCard[1],this.puke_1_0.visible=!0,this.puke_1_1.source="qznn_card_"+t._obj.bankerCard[0],this.puke_1_1.visible=!0,this._bei_puke_1_0.visible=!1,this._bei_puke_1_1.visible=!1},e.prototype.xianjiaBupai=function(t){this.startCountDown(t._obj.seconds),this.dianshu_img_0.source="baccarat_game_point_"+t._obj.playersce+"_png",this.xian_tishi.visible=!0,this.xian_Label.text="闲家补牌中",this.zhuang_tishi.visible=!1;for(var e=0;2>e;e++)this["puke_0_"+e].source="",this["puke_0_"+e].visible=!1,this["puke_1_"+e].source="",this["puke_1_"+e].visible=!1;this.fapai2(0,t._obj.playerCard[0]),this.puke_0_2.source="qznn_card_"+t._obj.playerCard[0],this.puke_0_2.visible=!0},e.prototype.zhuangjiaBupai=function(t){this.startCountDown(t._obj.seconds),this.dianshu_img_1.source="baccarat_game_point_"+t._obj.bankersce+"_png",this.xian_tishi.visible=!1,this.zhuang_Label.text="庄家补牌中",this.zhuang_tishi.visible=!0;for(var e=0;2>e;e++)this["puke_0_"+e].source="",this["puke_0_"+e].visible=!1,this["puke_1_"+e].source="",this["puke_1_"+e].visible=!1;this.fapai2(1,t._obj.bankerCard[0]),this.puke_1_2.source="qznn_card_"+t._obj.bankerCard[0],this.puke_1_2.visible=!0},e.prototype.onAcquisitionGolbBack=function(t){console.log("金币变为**"),200==t._obj.code&&UserInfo.getInstance().uid==t._obj.userid&&(UserInfo.getInstance().goldcoins=t._obj.wingolb,this.labelGold0.text=GlobalFunction.Formatconversion(t._obj.goldcoins))},e.prototype.onBeginBteonBack=function(t){UserInfo.getInstance().isGameStart=!1,this.dianshu_0.visible=!1,this.dianshu_1.visible=!1,this.Themitoken.visible=!1,this.startCountDown(t._obj.seconds)},e.prototype.bofangEffect=function(t){this.startCountDown(t._obj.seconds),1==t._obj.base?this.addjiesuan_1Effect():2==t._obj.base?this.addjiesuan_2Effect():3==t._obj.base&&this.addjiesuan_3Effect()},e.prototype.wanjialiebiao=function(t){var e={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token};xlLib.WebSocketMgr.getInstance().send(t,e,function(t){},this)},e.prototype.ongameOverSuccesBack=function(t){if(200==t._obj.code){xlLib.SoundMgr.instance.stopBgMusic();var e=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(e),xlLib.SceneMgr.instance.changeScene(Lobby)}else xlLib.TipsUtils.showFloatWordTips(t._obj.reminder+"!")},e.prototype.addPlayers=function(t){var e=new egret.Shape;e.graphics.beginFill(16711680),e.graphics.drawCircle(62,62,62),e.graphics.endFill(),e.x=this.imghead0.x+6,e.y=this.imghead0.y+5,this.grpHead0.addChild(e),this.imghead0.mask=e,t._obj.player[0].id==UserInfo.getInstance().myPlayer.id&&(this.labelHead0.text=UserInfo.getInstance().myPlayer.username,this.labelGold0.text=UserInfo.getInstance().myPlayer.goldcoins+"",this.imghead0.source="women7_png")},e.prototype.initGameIconList=function(t){for(var e,i=[],n=0;n<t._obj.subList.length;n++)e=new Object,0==n?(e.tp="baccarat_players_rank1_png",e.fot=!1):1==n?(e.tp="baccarat_players_rank2_png",e.fot=!1):2==n?(e.tp="baccarat_players_rank3_png",e.fot=!1):(e.tp="baccarat_players_rankBg_png",e.fot=!0),e.index=t._obj.subList[n].index+1,e.name=t._obj.subList[n].username,e.gold=t._obj.subList[n].goldcoins,e.gold1=t._obj.subList[n].xss,e.img="women7_png",i.push(e);this.userlist.dataProvider=new eui.ArrayCollection(i),this.scroller.viewport=this.userlist},e.prototype.TimelyNotify=function(t){switch(t._obj.change){case 1:break;case 2:break;case 3:break;case 4:this.tichufj();break;case 5:break;case 6:break;case 7:}},e.prototype.tichufj=function(){xlLib.SoundMgr.instance.stopBgMusic();var t=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(t),xlLib.SceneMgr.instance.changeScene(Lobby)},e.prototype.addjiesuan_1Effect=function(){this.jiesuan_1||(this.jiesuan_1=new BJLjiesuan1,this.jiesuan_1.anchorOffsetX=this.jiesuan_1.width/2,this.jiesuan_1.anchorOffsetY=this.jiesuan_1.height/2,this.jiesuan_1.x=xlLib.Global.screenWidth/2,this.jiesuan_1.y=xlLib.Global.screenHeight/2),this.jiesuan_1.play(),this.addChild(this.jiesuan_1)},e.prototype.addjiesuan_2Effect=function(){this.jiesuan_2||(this.jiesuan_2=new BJLjiesuan2,this.jiesuan_2.anchorOffsetX=this.jiesuan_2.width/2,this.jiesuan_2.anchorOffsetY=this.jiesuan_2.height/2,this.jiesuan_2.x=xlLib.Global.screenWidth/2,this.jiesuan_2.y=xlLib.Global.screenHeight/2),this.jiesuan_2.play(),this.addChild(this.jiesuan_2)},e.prototype.addjiesuan_3Effect=function(){this.jiesuan_3||(this.jiesuan_3=new BJLjiesuan3,this.jiesuan_3.anchorOffsetX=this.jiesuan_3.width/2,this.jiesuan_3.anchorOffsetY=this.jiesuan_3.height/2,this.jiesuan_3.x=xlLib.Global.screenWidth/2,this.jiesuan_3.y=xlLib.Global.screenHeight/2),this.jiesuan_3.play(),this.addChild(this.jiesuan_3)},e.prototype.xiazhu_Effect=function(){this.xiazhu||(this.xiazhu=new BJLxiazhu,this.xiazhu.anchorOffsetX=this.xiazhu.width/2,this.xiazhu.anchorOffsetY=this.xiazhu.height/2,this.xiazhu.x=xlLib.Global.screenWidth/2,this.xiazhu.y=xlLib.Global.screenHeight/2),this.xiazhu.play(),this.addChild(this.xiazhu)},e.prototype.tingzhi_Effect=function(){this.tingzhi||(this.tingzhi=new BJLtingzhi,this.tingzhi.anchorOffsetX=this.tingzhi.width/2,this.tingzhi.anchorOffsetY=this.tingzhi.height/2,this.tingzhi.x=xlLib.Global.screenWidth/2,this.tingzhi.y=xlLib.Global.screenHeight/2),this.tingzhi.play(),this.addChild(this.tingzhi)},e.prototype.onGenZhuClick=function(t,e){var i=new egret.Point;i.x=68,i.y=762,this.showCoins(i,t,e)},e.prototype.onPlayerGenZhu=function(t,e){var i=new egret.Point;i.x=50,i.y=604,this.showCoins(i,t,e)},e.prototype.onJettongrade=function(t,e){var i=this["grade_text_"+(e-1)+"_0"].text;if(""==i)this["grade_text_"+(e-1)+"_0"].text=""+t;else{var n=parseInt(i);t>n&&(this["grade_text_"+(e-1)+"_0"].text=""+t)}},e.prototype.onplaygrade=function(t,e){var i=this["grade_text_"+(e-1)+"_1"].text;if(""==i)this["grade_text_"+(e-1)+"_1"].text=""+t;else{var n=parseInt(i);t>n&&(this["grade_text_"+(e-1)+"_1"].text=""+t)}},e.prototype.startCountDown=function(t){this.timeTxt.text=t+"",this.timeTxt.visible=!0,this.time=t,null==this.timer&&(this.timer=new egret.Timer(1e3),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer.start())},e.prototype.timerFunc=function(t){this.time>=0?(this.timeTxt.text=this.time+"",this.time--,1==this.time&&this.istzxzDh&&this.tingzhi_Effect()):(this.timeTxt.text="0",this.clearTime())},e.prototype.clearTime=function(){this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer=null)},e.prototype.onTouchBet=function(t){if(this.lastTouchBetIndex!=t)switch(this["_image_"+this.lastTouchBetIndex].y+=20,this.lastTouchBetIndex=t,this["_image_"+t].y-=20,t){case 1:this.xuanzho.x=337.78;break;case 2:this.xuanzho.x=475.16;break;case 3:this.xuanzho.x=603.77;break;case 4:this.xuanzho.x=736.77;break;case 5:this.xuanzho.x=866.1;break;case 6:this.xuanzho.x=997.77}},e.prototype.showGameTips=function(t){this.grpTipsInfo.source=BRNNUtil.getInstance().getMsgSource(t),this.grpTips.visible=!0,this.grpTipsbg.alpha=0,this.grpTipsInfo.x=640,this.playClickSound(BRNNUtil.getInstance().getSoundEffect(t)),egret.Tween.get(this.grpTipsbg).to({alpha:1},400).wait(400).call(function(){egret.Tween.get(this).to({alpha:0},400)},this.grpTipsbg),egret.Tween.get(this.grpTipsInfo).to({x:0},400).wait(400).call(function(){egret.Tween.get(this).to({x:-1640},400)},this.grpTipsInfo)},e.prototype.showCoins=function(t,e,i){this.playClickSound(BJLUtil.getInstance().getSoundEffect(8));for(var n=BJLUtil.getInstance().getCoinsPos(i),s=BJLUtil.getInstance().coinsType(t,e),r=0;r<s.length;r++){var o=n.x+250*Math.random(),a=n.y+80*Math.random();this.grpCoins.addChild(s[r]),egret.Tween.get(s[r]).to({x:o,y:a},200).call(function(t){},this,[s[r]]),this.arrCoin.push(s[r])}},e.prototype.fapai=function(){var t=this["grpCard_"+this.fapai_0+"_"+this.fapai_1];t.x=713.5,t.y=100,t.source="gf_poker0_png";var e=this.orginPlayerCardPos[this.fapai_0][this.fapai_1];egret.Tween.get(t).to({x:e.x,y:e.y},400).call(this.fapai1,this)},e.prototype.fapai1=function(){return 1==this.fapai_0?(this.fapai_0=0,this.fapai_1++):this.fapai_0++,this.fapai_1>1?(this.fapai_0=0,this.fapai_1=0,void(0!=this.fapai_1&&clearInterval(this.fapai_1))):void this.fapai()},e.prototype.fapai2=function(t,e){var i=this["grpCard_"+t+"_2"];i.x=713.5,i.y=100,i.source="qznn_card_"+e;var n=this.orginPlayerCardPos[t][2];egret.Tween.get(i).to({x:n.x,y:n.y},400)},e.prototype.cardEffect=function(){this.flyIndex0=0,this.flyIndex1=0,this.playCardFly()},e.prototype.playCardFly=function(){var t=this["grpCard_"+this.flyIndex0+"_"+this.flyIndex1];t.x=713.5,t.y=100,t.source="gf_poker0_png",t.anchorOffsetX=t.width/2,t.x+=t.width/2;var e=this.orginPlayerCardPos[this.flyIndex0][this.flyIndex1];this.playClickSound(BJLUtil.getInstance().getSoundEffect(6)),egret.Tween.get(t).to({x:e.x,y:e.y},400).call(this.playerCardRotation,this)},e.prototype.playerCardRotation=function(){this.playClickSound(BJLUtil.getInstance().getSoundEffect(7));var t=this.cardResult.pokes,e=this["grpCard_"+this.flyIndex0+"_"+this.flyIndex1];e.source="gf_poker0_png",egret.Tween.get(e).to({scaleX:0},300).call(function(){this[0].source="nn.card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},300)},[e,t[this.flyIndex0].value[this.flyIndex1]]).call(this.cycleCallback,this)},e.prototype.cycleCallback=function(){return 1==this.flyIndex0?(this.flyIndex0=0,this.flyIndex1++):this.flyIndex0++,-1==this.cardResult.pokes[this.flyIndex0].value[this.flyIndex1]?void this.cycleCallback():this.flyIndex1>2?(this.flyIndex0=0,this.flyIndex1=0,void(0!=this.flyIntval&&clearInterval(this.flyIntval))):void this.playCardFly()},e.prototype.bankerCardFly=function(){if(5==this.flyBankerIndex)return this.flyBankerIndex=0,clearInterval(this.flyIntval),void(this.interval=setInterval(this.playerCardRotation.bind(this),800));var t=this["bankerCard_"+this.flyBankerIndex];t.x=713.5,t.y=300,t.source="gf_poker0_png",t.anchorOffsetX=t.width/2,t.x+=t.width/2,this.orginBankerCardPos;var e=this.orginBankerCardPos[this.flyBankerIndex];this.playClickSound(BJLUtil.getInstance().getSoundEffect(6)),egret.Tween.get(t).to({x:e.x,y:e.y},400),this.flyBankerIndex++},e.prototype.bankerCardRotation=function(){this.playClickSound(BJLUtil.getInstance().getSoundEffect(7));for(var t=this.cardResult.pokes[0],e=0;5>e;e++){var i=this["bankerCard_"+e];i.source="gf_poker0_png",egret.Tween.get(i).to({scaleX:0},300).call(function(){this[0].source="nn.card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},300)},[i,t.value[e]])}if(0!=t.type)for(var e=0;5>e;e++){var i=this["bankerCard_"+e];3>e?egret.Tween.get(i).wait(700).to({x:i.x-10},100):egret.Tween.get(i).wait(700).to({x:i.x+10},100)}this.interval=setInterval(this.blinkEffect.bind(this),500)},e.prototype.blinkEffect=function(){clearInterval(this.interval);for(var t=this.cardResult.result,e=0;4>e;e++)1==t[e];this.interval=setInterval(this.cardEffectEnd.bind(this),2e3)},e.prototype.cardEffectEnd=function(){clearInterval(this.interval);var t=this.cardResult,e=!1;1==t.result[0]&&1==t.result[1]&&1==t.result[2]&&1==t.result[3]&&(this.showGameTips(5),e=!0),0==t.result[0]&&0==t.result[1]&&0==t.result[2]&&0==t.result[3]&&(this.showGameTips(4),e=!0)},e.prototype.resetGame=function(){this.initData();for(var t=0;2>t;t++)for(var e=0;3>e;e++){var i=this["grpCard_"+t+"_"+e];i.source="",egret.Tween.removeTweens(i)}for(;this.grpCoins.numChildren>0;)this.grpCoins.removeChildAt(0);for(var n=0;n<this.arrCoin.length;n++)null!=this.arrCoin[n].parent&&this.arrCoin[n].parent.removeChild(this.arrCoin[n]);this.arrCoin=[]},e.prototype.getHistoryCallback=function(t){for(var e=t.data,i=0;10>i;i++)if(i<e.length){this["grpHistroy"+i].visible=!0;for(var n=e[i],s=0;4>s;s++)this["grpHistroy"+s+"_"+i].source=1==n[s]?"nn.a8":"nn.a7"}else this["grpHistroy"+i].visible=!1},e.prototype.updateDataGold=function(){},e.prototype.playClickSound=function(t){xlLib.SoundMgr.instance.playSound(t+"_mp3")},e.prototype.Onquit=function(){if(UserInfo.getInstance().isGameStart)return void xlLib.PopUpMgr.addPopUp(Hint,this,!0,!0,null,1);var t={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token};xlLib.WebSocketMgr.getInstance().send(EventConst.BaccaratOnleave,t,function(t){},this)},e.prototype.destroy=function(){this._image_1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._image_2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._image_3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._image_4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._image_5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._image_6.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch0.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_meun.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.wanjialist.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.packup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),EventUtil.removeEventListener(EventConst.onUserBetOrderUpdate,this.OnBetUpdate,this),EventUtil.removeEventListener(EventConst.onCheckout,this.bofangEffect,this),EventUtil.removeEventListener(EventConst.onUpdateUserBalance,this.onAcquisitionGolbBack,this),EventUtil.removeEventListener(EventConst.OnUpdateLimitItem,this.UpdateLimitItem,this),EventUtil.removeEventListener(EventConst.onSendJetton,this.SendJetton,this),EventUtil.removeEventListener(EventConst.onGameStatusChange,this.GameStatus,this),EventUtil.removeEventListener(EventConst.userwin,this.initGameIconList,this),EventUtil.removeEventListener(EventConst.onUserLeaveGame,this.ongameOverSuccesBack,this),EventUtil.removeEventListener(EventConst.onTimelyNotify,this.TimelyNotify,this)
},e}(eui.Component);__reflect(BJLView.prototype,"BJLView");var BJLxiazhu=function(t){function e(){var e=t.call(this)||this;return e.skinName="BJLxiazhuSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.bjlkaishi.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.bjlkaishi.stop()},e.prototype.play=function(){this.bjlkaishi.play(0)},e.prototype.stop=function(){this.bjlkaishi.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(BJLxiazhu.prototype,"BJLxiazhu");var BRNNframe=function(t){function e(){var e=t.call(this)||this;return e.skinName="BRNNframeSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){this.data&&(this.imghead.source=this.data.img,this.labelName.text=this.data.name,this.labelGold.text=GlobalFunction.Formatconversion(this.data.gold))},e.prototype.destroy=function(){},e}(eui.ItemRenderer);__reflect(BRNNframe.prototype,"BRNNframe");var BRNNHead=function(t){function e(){var e=t.call(this)||this;return e.skinName="BRNNHeadSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this);var e=new egret.Shape;e.graphics.beginFill(16711680),e.graphics.drawCircle(46,46,46),e.graphics.endFill(),e.x=this.imghead.x+3,e.y=this.imghead.y+3,this.addChild(e),this.imghead.mask=e},e.prototype.setUserInfo=function(t,e,i){this.imghead.source=i,this.labelName.text=t,this.labelGold.text=e},e.prototype.setGold=function(t){this.labelGold.text=t+""},e.prototype.destroy=function(){},e}(eui.Component);__reflect(BRNNHead.prototype,"BRNNHead");var BrnnMainView=function(t){function e(){var e=t.call(this)||this;return e.skinName="BrnnMainViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.btn_brnn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickCloBtn,this)},e.prototype.OnClickCloBtn=function(t){xlLib.SoundMgr.instance.playSound("Special_menu_mp3"),xlLib.PopUpMgr.removePopUp(e,1)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.destroy=function(){this.btn_brnn_return.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickCloBtn,this)},e}(eui.Component);__reflect(BrnnMainView.prototype,"BrnnMainView");var BRNNroomView=function(t){function e(){var e=t.call(this)||this;return e.skinName="BRNNroomViewSkin",e}return __extends(e,t),e.prototype.partRemoved=function(e,i){this.effectIcon&&this.effectIcon.stop(),t.prototype.partRemoved.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this.effectIcon=xlLib.DisplayUtils.createAsyncMovieClicp("brnn_hall_effect_hg","brnn_hall_effect_hg"),this.effectIcon.play(-1),this.effectIcon.x=80,this.effectIcon.y=208,this.effectIcon.frameRate=20,this.addChild(this.effectIcon),this._coin_label.text=GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins),this._btn_cjc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGame,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.GameStatus,this)},e.prototype.GameStatus=function(t){200==t._obj.code&&xlLib.SceneMgr.instance.changeScene(BRNNScene)},e.prototype.onEnterGame=function(){if(this.gameIconData){var t=UserInfo.getInstance().getGameDataByindex(this.gameIconData.game),e=t.getTypeDataByindex(this.gameIconData.type),i=e.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:i.id};xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,n,function(t){},this)}},e.prototype.setGameIconData=function(t){this.gameIconData=t},e.prototype.dispose=function(){xlLib.PopUpMgr.removePopUp(this,1)},e.prototype.destroy=function(){this.gameIconData=null,this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),EventUtil.removeEventListener(EventConst.onGameStatusChange,this.GameStatus,this)},e}(eui.Component);__reflect(BRNNroomView.prototype,"BRNNroomView");var BRNNScene=function(t){function e(){var e=t.call(this)||this;return e.BRNNView=new BRNNView,e.uiLayer.addChild(e.BRNNView),e}return __extends(e,t),e.prototype.destroy=function(){this.BRNNView.destroy(),t.prototype.destroy.call(this)},e.prototype.resize=function(){this.BRNNView&&this.BRNNView.resize()},e}(xlLib.GameScene);__reflect(BRNNScene.prototype,"BRNNScene");var BRNNUtil=function(){function t(){if(t.instance)throw new Error("Instance is alreally exist")}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getBetNumber=function(t){switch(t){case 0:return Math.pow(10,4);case 1:return Math.pow(10,5);case 2:return Math.pow(10,6);case 3:return Math.pow(10,7);case 4:return 5*Math.pow(10,7);case 5:return Math.pow(10,8)}},t.prototype.getMsgSource=function(t){var e="";switch(t){case 2:e="nn.d2";break;case 3:e="nn.d3";break;case 4:e="nn.d4";break;case 5:e="nn.d5"}return e},t.prototype.getCoinsPos=function(t){var e=new egret.Point;switch(t){case 1:e.x=320,e.y=350;break;case 2:e.x=550,e.y=350;break;case 3:e.x=800,e.y=350;break;case 4:e.x=1050,e.y=350}return e},t.prototype.getCardType2=function(t){switch(t){case 0:return"无牛";case 1:return"牛一";case 2:return"牛二";case 3:return"牛三";case 4:return"牛四";case 5:return"牛五";case 6:return"牛六";case 7:return"牛七";case 8:return"牛八";case 9:return"牛九";case 10:return"牛牛";case 11:return"四炸";case 12:return"五花牛";case 13:return"五小牛"}},t.prototype.getCardType=function(t){switch(t){case 0:return"nn.n1";case 1:return"nn.n2";case 2:return"nn.n3";case 3:return"nn.n4";case 4:return"nn.n5";case 5:return"nn.n6";case 6:return"nn.n7";case 7:return"nn.n8";case 8:return"nn.n9";case 9:return"nn.n10";case 10:return"nn.n11";case 11:return"nn.n13";case 12:return"nn.n14";case 13:return"nn.n12"}},t.prototype.getCardMusicType=function(t){switch(t){case 0:return"nn.niu0";case 1:return"nn.niu1";case 2:return"nn.niu2";case 3:return"nn.niu3";case 4:return"nn.niu4";case 5:return"nn.niu5";case 6:return"nn.niu6";case 7:return"nn.niu7";case 8:return"nn.niu8";case 9:return"nn.niu9";case 10:return"nn.niuniu";case 11:return"nn.playNiuZhadan";case 12:return"nn.playNiu5hua";case 13:return"nn.playNiuXiao5"}},t.prototype.coinsType=function(t,e){var i=[],n=0,s="";2==e?(n=e,s="brnn_couma_1_1_png"):5==e?(n=e,s="brnn_couma_1_2_png"):10==e?(n=e,s="brnn_couma_1_3_png"):20==e?(n=e,s="brnn_couma_1_4_png"):50==e&&(n=e,s="brnn_couma_1_5_png");var r=new eui.Image(s);return r.x=t.x,r.y=t.y,r.scaleX=.3,r.scaleY=.3,i.push(r),i},t.prototype.coinPos=function(){var t=new egret.Point,e=Math.floor(4*Math.random());switch(e){case 0:t.x=-100,t.y=400;break;case 1:t.x=-100,t.y=800;break;case 2:t.x=650,t.y=400;break;case 3:t.x=650,t.y=800}return t},t.prototype.getSoundEffect=function(t){switch(t){case 0:return"bgm";case 1:return"nn.jackpot";case 2:return"nn.start";case 3:return"nn.end";case 4:return"nn.ts";case 5:return"nn.tp";case 6:return"nn.dealCard";case 7:return"nn.openCard";case 8:return"nn.stake"}},t.instance=null,t}();__reflect(BRNNUtil.prototype,"BRNNUtil");var BRNNView=function(t){function e(){var e=t.call(this)||this;return e.arr=[0,0],e.multipleList=[0,0,0,0,0],e.game_result=0,e.isAction=!1,e.isPaly=!1,e.isWin=!1,e.isScore=0,e.interval=-1,e.selfbetsNum={},e.betsPostion=-1,e.betsNum=0,e.cardResult=null,e.isChangeBanker=!1,e.changeBankerObj={},e.isCanBets=!0,e.poolBetArray={},e.limitGold=0,e.limitVip=0,e.curBankerRanking=-1,e.isApplyBanker=!1,e.lastGameBankerNum=0,e.isSysBanker=!1,e.orginBankerCardPos=[],e.orginPlayerCardPos=[],e.isBanker=!1,e.isBets=!1,e.maxUserData=null,e.banker_total_gold=0,e.isBoomBanker=!1,e.resultCaijin=0,e.totalCaijin=0,e.cdNum=10,e.lastTouchBetIndex=1,e.coinsNumArr={},e.isCoinsReturn=!0,e.curRate=0,e.lastTouchBetTime=0,e.isCardEffectShow=!1,e.flyIntval=0,e.flyIndex0=0,e.flyIndex1=0,e.flyBankerIndex=0,e.effectPlayerIndex=0,e.skinName="BRNNViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.getOrginCardPos(),this.addEvent(),this.initData(),this.labelHead0.text=UserInfo.getInstance().username,this.labelGold0.text=GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins)},e.prototype.initGameIconList=function(t){for(var e,i=[],n=0;n<t._obj.player.length;n++)e=new Object,e.name=t._obj.player[n].username,e.gold=t._obj.player[n].goldcoins,e.img="women7_png",i.push(e);this.userlist.dataProvider=new eui.ArrayCollection(i),this.scroller.viewport=this.userlist},e.prototype.initData=function(){this.labBankerRank.text="",this.labBankerLastNum.text="",this.selfbetsNum={1:0,2:0,3:0,4:0},this.poolBetArray={1:0,2:0,3:0,4:0},this.coinsNumArr={1:0,2:0,3:0,4:0},this.grpBankerList.visible=!1,this.grpTips.touchEnabled=!1,this.grpTips.touchChildren=!1,this.grpSecondPanel.visible=!1,this.btnUpBanker.visible=!0,this.btnDownBanker.visible=!1,this.grpTips.visible=!1,this.grpResult.visible=!1,this.imgBaoZhuang.visible=!1,this.grpCardType.touchChildren=!1,this.grpCardType.touchEnabled=!1,this.grpCaijin.visible=!1,this.grpCard.visible=!0,this.isAction=!1;for(var t=0;4>t;t++)this["grade_text_"+t+"_0"].text="",this["grade_text_"+t+"_1"].text="";this.wanjia.x=-237,this.isPaly=!1,this.isWin=!1,this.isScore=0},e.prototype.getOrginCardPos=function(){for(var t=0;5>t;t++){var e=this["bankerCard_"+t];e.source="",e.anchorOffsetX=e.width/2,e.x+=e.width/2;var i=new egret.Point;i.x=e.x,i.y=e.y,this.orginBankerCardPos[t]=i}this.labCardTypeBanker.visible=!1;for(var n=0;4>n;n++){this["labCardType"+n].visible=!1;for(var s=[],r=0;5>r;r++){var e=this["grpCard_"+n+"_"+r];e.source="",e.anchorOffsetX=e.width/2,e.x+=e.width/2;var i=new egret.Point;i.x=e.x,i.y=e.y,s[r]=i}this.orginPlayerCardPos[n]=s}},e.prototype.addEvent=function(){this.wanjialist.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.packup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buttonClose,this),this._btn_double_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),EventUtil.addEventListener(EventConst.players,this.addPlayers,this),EventUtil.addEventListener(EventConst.onUserList,this.initGameIconList,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.GameStatus,this),EventUtil.addEventListener(EventConst.onUserBetOrderUpdate,this.OnBetUpdate,this),EventUtil.addEventListener(EventConst.onUserLeave,this.onleave,this)},e.prototype.GameStatus=function(t){switch(console.log(t._obj.roomStatus),t._obj.roomStatus){case 1:this.onprepare(t);break;case 4:this.onbetBack(t);break;case 5:this.onstopBack(t);break;case 7:this.onjiesuan(t);break;case 8:this.onrest(t);break;case 9:this.onshuffle(t);break;case 10:this.onfapai(t)}},e.prototype.onprepare=function(t){this.startCountDown(t._obj.seconds)},e.prototype.onbetBack=function(t){this.startCountDown(t._obj.seconds),this.showGameTips(2),this.isAction=!0;for(var e=0;4>e;e++)t._obj.hogList[e].allow||(this["_btn_double_"+e].touchEnabled=!1,this["_btn_double_"+e].visible=!1);for(var e=0;5>e;e++)this.multipleList[e]=t._obj.hogList[e].hogOrBet},e.prototype.onstopBack=function(t){this.isAction=!1,this.showGameTips(3),this.startCountDown(t._obj.seconds),this.isPaly=t._obj.play,this.isWin=t._obj.win,UserInfo.getInstance().goldcoins=t._obj.balance,this.isScore=t._obj.score,this.game_result=t._obj.result;for(var e={pokes:[],result:[1,0,0,0],bankerWin:0,rate:"0.05",bomb:"0"},i=0;i<t._obj.players.length;i++){var n={type:t._obj.players[i].pai.niu,value:t._obj.players[i].cardsList};e.pokes.push(n)}this.cardResult=e,this.interval=setInterval(this.playerCardRotation.bind(this),800)},e.prototype.onjiesuan=function(t){this.startCountDown(t._obj.seconds),this.victoryEffect(),this.isPaly&&(this.labelGold0.text=GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins))},e.prototype.onrest=function(t){this.startCountDown(t._obj.seconds),UserInfo.getInstance().isGameStart=!1},e.prototype.onshuffle=function(t){this.resetGame(),this.startCountDown(t._obj.seconds)},e.prototype.onfapai=function(t){this.startCountDown(t._obj.seconds),this.cardEffect()},e.prototype.OnBetUpdate=function(t){console.log(UserInfo.getInstance().uid),console.log(t._obj.userid),200==t._obj.code?UserInfo.getInstance().uid==t._obj.userid?(UserInfo.getInstance().isGameStart=!0,this.onGenZhuClick(t._obj.money,t._obj.deskNum),this.onplaygrade(t._obj.myMoney,t._obj.deskNum),this.onJettongrade(t._obj.totalMoney,t._obj.deskNum),UserInfo.getInstance().goldcoins=t._obj.balance,this.labelGold0.text=GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins)):(this.onPlayerGenZhu(t._obj.money,t._obj.deskNum),this.onJettongrade(t._obj.totalMoney,t._obj.deskNum)):xlLib.TipsUtils.showFloatWordTips(t._obj.message)},e.prototype.onGenZhuClick=function(t,e){var i=new egret.Point;i.x=268,i.y=792,this.showCoins(i,t,e)},e.prototype.onPlayerGenZhu=function(t,e){var i=new egret.Point;i.x=80,i.y=400+80*Math.random(),this.showCoins(i,t,e)},e.prototype.onJettongrade=function(t,e){var i=this["grade_text_"+(e-1)+"_0"].text;if(""==i)this["grade_text_"+(e-1)+"_0"].text=""+t;else{var n=parseInt(i);t>n&&(this["grade_text_"+(e-1)+"_0"].text=""+t)}},e.prototype.onplaygrade=function(t,e){var i=this["grade_text_"+(e-1)+"_1"].text;if(""==i)this["grade_text_"+(e-1)+"_1"].text=""+t;else{var n=parseInt(i);t>n&&(this["grade_text_"+(e-1)+"_1"].text=""+t)}},e.prototype.onClick=function(t){t.target==this.wanjialist?(this.wanjialiebiao(EventConst.niuniu_player),this.wanjialist.visible=!1,egret.Tween.get(this.wanjia).to({x:0},400)):t.target==this.packup?egret.Tween.get(this.wanjia).to({x:-237},400).call(function(){this.wanjialist.visible=!0},this):t.target==this._btn_double_1?this.onTouchBet(1):t.target==this._btn_double_2?this.onTouchBet(2):t.target==this._btn_double_3?this.onTouchBet(3):t.target==this._btn_double_4?this.onTouchBet(4):t.target==this._btn_double_5?this.onTouchBet(5):t.target==this.effectTouch0?(console.log(this.lastTouchBetIndex),this.isAction&&this.sendamessage(EventConst.niuniu_dobet,1,this.multipleList[this.lastTouchBetIndex-1])):t.target==this.effectTouch1?(console.log(this.lastTouchBetIndex),this.isAction&&this.sendamessage(EventConst.niuniu_dobet,2,this.multipleList[this.lastTouchBetIndex-1])):t.target==this.effectTouch2?(console.log(this.lastTouchBetIndex),this.isAction&&this.sendamessage(EventConst.niuniu_dobet,3,this.multipleList[this.lastTouchBetIndex-1])):t.target==this.effectTouch3?(console.log(this.lastTouchBetIndex),this.isAction&&this.sendamessage(EventConst.niuniu_dobet,4,this.multipleList[this.lastTouchBetIndex-1])):t.target==this._btn_close&&this.buttonClose()},e.prototype.sendamessage=function(t,e,i){var n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,data:e,money:i};xlLib.WebSocketMgr.getInstance().send(t,n,function(t){},this)},e.prototype.wanjialiebiao=function(t){var e={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token};xlLib.WebSocketMgr.getInstance().send(t,e,function(t){},this)},e.prototype.addPlayers=function(t){var e=new egret.Shape;e.graphics.beginFill(16711680),e.graphics.drawCircle(62,62,62),e.graphics.endFill(),e.x=this.imghead0.x+6,e.y=this.imghead0.y+5,this.grpHead0.addChild(e),this.imghead0.mask=e,this.labelHead0.text=UserInfo.getInstance().username,this.labelGold0.text=GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins),this.imghead0.source="F1_03_png"},e.prototype.onleave=function(t){if(200==t._obj.code){xlLib.PopUpMgr.removePopUp(Inthematch,1),xlLib.SoundMgr.instance.stopBgMusic();var e=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(e),xlLib.SceneMgr.instance.changeScene(Lobby)}},e.prototype.buttonClose=function(){if(this.playClickSound(QZNNUtil.getInstance().getSoundEffect(10)),UserInfo.getInstance().isGameStart)return void xlLib.PopUpMgr.addPopUp(Hint,this,!0,!0,null,1);var t={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token};xlLib.WebSocketMgr.getInstance().send(EventConst.niuniu_leave,t,function(t){},this)},e.prototype.victoryEffect=function(){clearInterval(this.interval),this.interval=0,1==this.game_result?this.game_result=0:2==this.game_result?this.game_result=0:3==this.game_result&&(this.game_result=0)},e.prototype.resize=function(){},e.prototype.startCountDown=function(t){this.timeTxt.visible=!0,this.time=t,null==this.timer&&(this.timer=new egret.Timer(1e3),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer.start())},e.prototype.timerFunc=function(t){this.time>=0?(this.timeTxt.text=""+this.time,this.time--):(this.timeTxt.text="0",this.clearTime())},e.prototype.clearTime=function(){this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer=null)},e.prototype.onTouchBet=function(t){if(this.lastTouchBetIndex!=t)switch(this.lastTouchBetIndex=t,t){case 1:this._xuanzho.x=92.49;break;case 2:this._xuanzho.x=244.97;break;case 3:this._xuanzho.x=396.51;break;case 4:this._xuanzho.x=547.43;break;case 5:this._xuanzho.x=695.9}},e.prototype.moneyStr=function(t){return t>=1e4&&1e8>t?this.get2Num(t/1e4)+"万":t>=1e8?this.get2Num(t/1e8)+"亿":t+""},e.prototype.get2Num=function(t){var e=t.toFixed(3);e=e.substr(0,e.length-1);var i=e.split(".");return i[1]+""=="00"?i[0]+"":e+""},e.prototype.showGameTips=function(t){this.grpTipsInfo.source=BRNNUtil.getInstance().getMsgSource(t),this.grpTips.visible=!0,this.grpTipsbg.alpha=0,this.grpTipsInfo.x=640,this.playClickSound(BRNNUtil.getInstance().getSoundEffect(t)),egret.Tween.get(this.grpTipsbg).to({alpha:1},400).wait(400).call(function(){egret.Tween.get(this).to({alpha:0},400)},this.grpTipsbg),egret.Tween.get(this.grpTipsInfo).to({x:0},400).wait(400).call(function(){egret.Tween.get(this).to({x:-1640},400)},this.grpTipsInfo)},e.prototype.showCoins=function(t,e,i){this.playClickSound(BRNNUtil.getInstance().getSoundEffect(8));for(var n=BRNNUtil.getInstance().getCoinsPos(i),s=BRNNUtil.getInstance().coinsType(t,e),r=0;r<s.length;r++){var o=n.x+80*Math.random(),a=n.y+80*Math.random();this.grpCoins.addChild(s[r]),egret.Tween.get(s[r]).to({x:o,y:a},200).call(function(t){},this,[s[r]])}},e.prototype.cardEffect=function(){this.isCardEffectShow=!0,this.flyIntval=setInterval(this.playCardFly.bind(this),200)},e.prototype.playCardFly=function(){var t=this["grpCard_"+this.flyIndex0+"_"+this.flyIndex1];t.source="qznn_card_100",t.x=713.5,t.y=250,t.anchorOffsetX=t.width/2,t.x+=t.width/2;var e=this.orginPlayerCardPos[this.flyIndex0][this.flyIndex1];this.playClickSound(BRNNUtil.getInstance().getSoundEffect(6)),egret.Tween.get(t).to({x:e.x,y:e.y},300),4==this.flyIndex1?3==this.flyIndex0?(this.flyIndex0=0,this.flyIndex1=0,clearInterval(this.flyIntval),this.flyBankerIndex=0,this.flyIntval=setInterval(this.bankerCardFly.bind(this),200)):(this.flyIndex1=0,this.flyIndex0++):this.flyIndex1++},e.prototype.bankerCardFly=function(){if(5==this.flyBankerIndex)return this.flyBankerIndex=0,void clearInterval(this.flyIntval);var t=this["bankerCard_"+this.flyBankerIndex];t.x=713.5,t.y=250,t.source="qznn_card_100",t.anchorOffsetX=t.width/2,t.x+=t.width/2,this.orginBankerCardPos;var e=this.orginBankerCardPos[this.flyBankerIndex];this.playClickSound(BRNNUtil.getInstance().getSoundEffect(6)),egret.Tween.get(t).to({x:e.x,y:e.y},400),this.flyBankerIndex++},e.prototype.playerCardRotation=function(){if(4==this.effectPlayerIndex)return clearInterval(this.interval),this.effectPlayerIndex=0,void this.bankerCardRotation();this.playClickSound(BRNNUtil.getInstance().getSoundEffect(7));for(var t=this.cardResult.pokes,e=this.effectPlayerIndex,i=0;5>i;i++){var n=this["grpCard_"+e+"_"+i];n.source="qznn_card_100",egret.Tween.get(n).to({scaleX:0},300).call(function(){this[0].source="nn.card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},300)},[n,t[e+1].value[i]])}if(this["labCardType"+e].source=BRNNUtil.getInstance().getCardType(t[e+1].type),this.playClickSound(BRNNUtil.getInstance().getCardMusicType(t[e+1].type)),this["labCardType"+e].visible=!0,this["labCardType"+e].width=98,this["labCardType"+e].height=44,0!=t[e+1].type)for(var i=0;5>i;i++){var n=this["grpCard_"+e+"_"+i];3>i?egret.Tween.get(n).wait(700).to({x:n.x-10},100):egret.Tween.get(n).wait(700).to({x:n.x+10},100)}this.effectPlayerIndex++},e.prototype.bankerCardRotation=function(){this.playClickSound(BRNNUtil.getInstance().getSoundEffect(7));for(var t=this.cardResult.pokes[0],e=0;5>e;e++){var i=this["bankerCard_"+e];i.source="qznn_card_100",egret.Tween.get(i).to({scaleX:0},300).call(function(){this[0].source="nn.card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},300)},[i,t.value[e]])}if(this.labCardTypeBanker.source=BRNNUtil.getInstance().getCardType(t.type),this.playClickSound(BRNNUtil.getInstance().getCardMusicType(t.type)),this.labCardTypeBanker.visible=!0,this.labCardTypeBanker.width=98,this.labCardTypeBanker.height=44,0!=t.type)for(var e=0;5>e;e++){var i=this["bankerCard_"+e];3>e?egret.Tween.get(i).wait(700).to({x:i.x-10},100):egret.Tween.get(i).wait(700).to({x:i.x+10},100)}this.interval=setInterval(this.blinkEffect.bind(this),500)},e.prototype.blinkEffect=function(){clearInterval(this.interval);for(var t=this.cardResult.result,e=0;4>e;e++)1==t[e];this.interval=setInterval(this.cardEffectEnd.bind(this),2e3)},e.prototype.cardEffectEnd=function(){clearInterval(this.interval);var t=this.cardResult,e=!1;1==t.result[0]&&1==t.result[1]&&1==t.result[2]&&1==t.result[3]&&(this.showGameTips(5),e=!0),0==t.result[0]&&0==t.result[1]&&0==t.result[2]&&0==t.result[3]&&(this.showGameTips(4),e=!0),e?this.interval=setInterval(this.showGameResult.bind(this),1e3):this.showGameResult()},e.prototype.showGameResult=function(){clearInterval(this.interval);var t=this.cardResult;this.grpResult.visible=!0,null!=this.maxUserData?(this.grpMax.visible=!0,this.grpMaxHead.source=this.maxUserData.headurl,this.grpMaxHead.width=this.grpMaxHead.height=70,this.grpMaxName.text=this.maxUserData.name):this.grpMax.visible=!1,this.grpBankerHead.source=this.bankerHead.source,this.grpBankerName.text=this.bankerName.text,this.grpBankerBeishu.text=t.pokes[0].num+"倍",this.grpBankerType.source="",this.labelBankerType.text=BRNNUtil.getInstance().getCardType2(t.pokes[0].type),parseInt(t.bankerWin)<0||0!=t.bankerWin;for(var e=0,i=0;4>i;i++){var n=parseInt(t.pokes[i+1].num);this["resultType"+i].text=BRNNUtil.getInstance().getCardType2(t.pokes[i+1].type),this["labResult0_"+i].text=n+"倍",this["labResult1_"+i].text=this.moneyStr(this.selfbetsNum[i+1]);var s=this.selfbetsNum[i+1];if(0!=s)if(this["labResult2_"+i].text="",1==t.result[i]){var r=0;r=this.isBanker?parseInt(t.pokes[0].num):parseInt(t.pokes[i+1].num),e+=parseInt(s)*(r+1)}else{var o=0;o=this.isBanker?parseInt(t.pokes[i+1].num):parseInt(t.pokes[0].num),1==o||(e-=parseInt(s)*(o-1))}else this["labResult2_"+i].text=0}for(var a=0,i=1;5>i;i++)a+=this.selfbetsNum[i];(e>0||0==e)&&(e*=1-this.curRate),e-=a,!this.isSysBanker,e>0&&this.resultCaijin>0||(0==this.cardResult.bomb?this.interval=setInterval(this.setStartBet.bind(this),4e3):this.interval=setInterval(this.boomShow.bind(this),3e3))},e.prototype.boomShow=function(){this.grpCaijin.visible=!1,this.imgBaoZhuang.visible=!0,clearInterval(this.interval),this.interval=setInterval(this.setStartBet.bind(this),4e3)},e.prototype.setStartBet=function(){this.grpResult.visible=!1,clearInterval(this.interval),this.showGameTips(2),this.grpCountdown.visible=!0,this.isSysBanker||this.isChangeBanker||(this.lastGameBankerNum--,this.labBankerLastNum.text="剩余"+Math.round(this.lastGameBankerNum)+"次"),this.isChangeBanker&&(this.isChangeBanker=!1,this.grpBankerList.visible=!1)},e.prototype.resetGame=function(){for(var t=0;5>t;t++){var e=this["bankerCard_"+t];e.source="",egret.Tween.removeTweens(e)}for(var i=0;4>i;i++){this["labCardType"+i].visible=!1,this.labCardTypeBanker.visible=!1;for(var n=0;5>n;n++){var e=this["grpCard_"+i+"_"+n];e.source="",egret.Tween.removeTweens(e)}}this.selfbetsNum={1:0,2:0,3:0,4:0},this.poolBetArray={1:0,2:0,3:0,4:0},this.coinsNumArr={1:0,2:0,3:0,4:0},this.isCanBets=!0,this.isBets=!1,this.imgBaoZhuang.visible=!1,this.resultCaijin=0,this.grpCaijin.visible=!1,this.isCoinsReturn=!0,this.isCardEffectShow=!1,this.initData()},e.prototype.getHistoryCallback=function(t){for(var e=t.data,i=0;10>i;i++)if(i<e.length){this["grpHistroy"+i].visible=!0;for(var n=e[i],s=0;4>s;s++)this["grpHistroy"+s+"_"+i].source=1==n[s]?"nn.a8":"nn.a7"}else this["grpHistroy"+i].visible=!1;this.grpSecondPanel.visible=!0,this.grpCardType.visible=!1,this.grpHistory.visible=!0},e.prototype.onTouchCloseSecondPanel=function(){this.grpSecondPanel.visible=!1},e.prototype.onTouchRedBox=function(){},e.prototype.operateBoxComplete=function(){},e.prototype.updateDataGold=function(){},e.prototype.dispose=function(){this.parent&&this.parent.removeChild(this)},e.prototype.setTouchEnabled=function(){},e.prototype.playClickSound=function(t){xlLib.SoundMgr.instance.playSound(t+"_mp3")},e.prototype.destroy=function(){this.wanjialist.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.packup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.buttonClose,this),this._btn_double_1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch0.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.effectTouch3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),EventUtil.removeEventListener(EventConst.players,this.addPlayers,this),EventUtil.removeEventListener(EventConst.onUserList,this.initGameIconList,this),EventUtil.removeEventListener(EventConst.onGameStatusChange,this.GameStatus,this),EventUtil.removeEventListener(EventConst.onUserBetOrderUpdate,this.OnBetUpdate,this),EventUtil.removeEventListener(EventConst.onUserLeave,this.onleave,this)},e}(eui.Component);__reflect(BRNNView.prototype,"BRNNView");var SystemMsgItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="SystemMsgItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.getMsgContent=function(t){this._label_content.text=t},e.prototype.getSelectedState=function(){return this._checkBox.selected},e.prototype.setSelectedState=function(t){this._checkBox.selected=t},e}(eui.Component);__reflect(SystemMsgItem.prototype,"SystemMsgItem");var SystemMsgTypeItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="SystemMsgTypeItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){},e}(eui.ItemRenderer);__reflect(SystemMsgTypeItem.prototype,"SystemMsgTypeItem");var SystemMsgView=function(t){function e(){var e=t.call(this)||this;return e.skinName="SystemMsgViewSkin",e._group_msg=null,e._arr_msg=[],e._ver_item=[],e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this._btn_select_all.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSelectAll,this),this._btn_delete.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onDelete,this);var e=[{name:"系统通知",down_url:"btn_notice_0_png",up_url:"btn_notice_1_png"},{name:"推送消息",down_url:"btn_push_0_png",up_url:"btn_push_1_png"}];this._tabBar_meun.dataProvider=new eui.ArrayCollection(e),this._tabBar_meun.useVirtualLayout=!0,this._tabBar_meun.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onBarItemTap,this),this.arr_msg_1=["菲斯塔中控台呈现“中间饱满，两边锋利”的造型，相比原先车型软绵绵的风格，不要硬朗太多。最为显眼就是正中央的10.25英寸中控彩色大屏，辨识度很高。但传统的物理按键都偏向了驾驶一侧","菲斯塔中控台呈现“中间饱满，两边锋利”的造型，相比原先车型软绵绵的风格，不要硬朗太多。最为显眼就是正中央的10.25英寸中控彩色大屏，辨识度很高。但传统的物理按键都偏向了驾驶一侧，菲斯塔中控台呈现“中间饱满，两边锋利”的造型，相比原先车型软绵绵的风格，不要硬朗太多。最为显眼就是正中央的10.25英寸中控彩色大屏，辨识度很高。但传统的物理按键都偏向了驾驶一侧","菲斯塔中控台呈现“中间饱满，两边锋利”的造型，相比原先车型软绵绵的风格，不要硬朗太多。最为显眼就是正中央的10.25英寸中控彩色大屏，辨识度很高。但传统的物理按键都偏向了驾驶一侧，最为显眼就是正中央的10.25英寸中控彩色大屏，辨识度很高。但传统的物理按键都偏向了驾驶一侧"],this.arr_msg_2=["最为显眼就是正中央的10.25英寸中控彩色大屏，辨识度很高。但传统的物理按键都偏向了驾驶一侧","菲斯塔中控台呈现“中间饱满，两边锋利”的造型，不要硬朗太多。最为显眼就是正中央的10.25英寸中控彩色大屏，辨识度很高。但传统的物理按键都偏向了驾驶一侧","菲斯塔中控台呈现“中间饱满，两边锋利”的造型"],this._arr_msg=this.arr_msg_1,this._group_msg=this._group_msg_notice,this.onAcceptMessage()},e.prototype.onBarItemTap=function(t){this._btn_viewStack.selectedIndex=t.itemIndex,0==t.itemIndex?(this._arr_msg=this.arr_msg_1,this._group_msg=this._group_msg_notice,this.onAcceptMessage()):(this._arr_msg=this.arr_msg_2,this._group_msg=this._group_msg_push,this.onAcceptMessage())},e.prototype.onAcceptMessage=function(){this._ver_item=[],this._group_msg.removeChildren();for(var t=10,e=0;e<this._arr_msg.length;e++)if(null!=this._arr_msg[e]){var i=new SystemMsgItem;i.getMsgContent(this._arr_msg[e]),i.x=0,i.y=i.height*e+40*e+10,i.y=t,t=i.y+i.height+40,this._group_msg.addChild(i),this._ver_item.push(i)}},e.prototype.onSelectAll=function(){for(var t=0;t<this._ver_item.length;t++)this._ver_item[t].setSelectedState(!0)},e.prototype.onDelete=function(){for(var t=[],e=0;e<this._ver_item.length;e++)1==this._ver_item[e].getSelectedState()||t.push(this._arr_msg[e]);this._arr_msg=t,this.onAcceptMessage()},e.prototype.dispose=function(){xlLib.PopUpMgr.removePopUp(this,1)},e.prototype.destroy=function(){this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this._btn_select_all.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this._btn_delete.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this._tabBar_meun.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onBarItemTap,this),this._group_msg=null,this._arr_msg=[],this._ver_item=[]},e}(eui.Component);__reflect(SystemMsgView.prototype,"SystemMsgView");var InfoBox=function(t){function e(e){void 0===e&&(e=16777215);var i=t.call(this)||this;return i.skinName="InfoBoxSkin",i.tab_txt.textColor=e,i.initEventListener(),i}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.isShowMenu(!1)},e.prototype.initEventListener=function(){egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchStageHandler,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this),this.table_list.addEventListener(egret.TouchEvent.TOUCH_TAP,this.itemClickHandler,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this)},e.prototype.isShowMenu=function(t){this.isShow=t,this.scroller.visible=t,this.table_list.visible=t,this.bgImg.visible=t},e.prototype.onTouchStageHandler=function(t){t.target!=this.sel_btn&&t.target!=this.combox_grp&&t.target!=this.scroller&&t.target!=this.table_list&&this.isShowMenu(!1)
},e.prototype.itemClickHandler=function(t){var e=t.target;e&&(this.cb&&this.cb.call(this.thisArg,e.data),e.data&&(this.tab_txt.text=e.data.name),this.isShowMenu(!1))},e.prototype.onTouchHandler=function(t){(t.target==this.sel_btn||t.target==this.combox_grp)&&this.isShowMenu(!this.isShow)},e.prototype.setInfoBoxData=function(t,e,i){this.cb=e,this.thisArg=i,this.arrayCollection=new eui.ArrayCollection(t),this.table_list.dataProvider=this.arrayCollection,this.table_list.itemRenderer=InfoBoxItem,this.scroller.viewport=this.table_list,this.tab_txt.text=t[0].name},e.prototype.destroy=function(){this.cb=null,this.thisArg=null,this.scroller.stopAnimation(),this.table_list.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.itemClickHandler,this),egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchStageHandler,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this)},e}(eui.Component);__reflect(InfoBox.prototype,"InfoBox");var InfoBoxItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="InfoBoxItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){this.des_txt.text=this.data.name},e}(eui.ItemRenderer);__reflect(InfoBoxItem.prototype,"InfoBoxItem");var PlayerInfoTypeItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="PlayerInfoTypeItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){},e}(eui.ItemRenderer);__reflect(PlayerInfoTypeItem.prototype,"PlayerInfoTypeItem");var PlayerInfoView=function(t){function e(){var e=t.call(this)||this;return e.skinName="PlayerInfoViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickRetuBtn,this),this.btn_bind_number.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickBindPhoneNum,this),this.btn_myhead.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickMyHead,this),this.btn_vip.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickVipBtn,this),this.btn_bindzfb.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickBindzfbBtn,this),this.btn_bindcard.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickBindBanCard,this),this.select_sex.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickSelectSex,this),this.btn_changezfb.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickChangezfb,this),this.btn_changebancard.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickChangeBankCard,this),this.btn_wxti_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickWxtsRetu,this),this.btn_xiugai_name.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnclickCangeName,this);var e=[{name:"基本资料",down_url:"btn_info_down_png",up_url:"btn_info_up_png"},{name:"我的钱包",down_url:"btn_mywallet_down_png",up_url:"btn_mywallet_up_png"},{name:"我的背包",down_url:"btn_pack_down_png",up_url:"btn_pack_up_png"}];this._playerInfo_meun.dataProvider=new eui.ArrayCollection(e),this._playerInfo_meun.useVirtualLayout=!0,this._playerInfo_meun.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onBarItemTap,this)},e.prototype.onBarItemTap=function(t){this._viewstack_viewInerface.selectedIndex=t.itemIndex,xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.OnClickRetuBtn=function(t){xlLib.SoundMgr.instance.playSound("Special_menu_mp3"),xlLib.PopUpMgr.removePopUp(e,1)},e.prototype.OnClickMyHead=function(t){this._MaxBtnHid(),this._MinBtnHid(),this.group_chang_head.visible=!0,xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.OnClickVipBtn=function(t){this._MaxBtnHid(),this._MinBtnHid(),this.group_Vip.visible=!0,xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.OnClickSelectSex=function(t){xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.OnclickCangeName=function(t){this._MaxBtnHid(),this._MinBtnHid(),this.group_changename.visible=!0,xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.OnClickBindPhoneNum=function(t){this._MaxBtnHid(),this._MinBtnHid(),this.group_bind_number.visible=!0,xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.OnClickBindzfbBtn=function(t){this._MaxBtnHid(),this._MinBtnHid(),this.group_bindzfb.visible=!0,xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.OnClickBindBanCard=function(t){this._MaxBtnHid(),this._MinBtnHid(),this.group_bind_bankCard.visible=!0,xlLib.SoundMgr.instance.playSound("Special_menu_mp3");var e=new InfoBox;e.x=420,e.y=410;var i=[new InfoBoxData({id:1,name:"建设银行",data:null}),new InfoBoxData({id:2,name:"招商银行",data:null}),new InfoBoxData({id:3,name:"中国银行",data:null}),new InfoBoxData({id:4,name:"平安银行",data:null}),new InfoBoxData({id:5,name:"工商银行",data:null}),new InfoBoxData({id:6,name:"农业银行",data:null}),new InfoBoxData({id:7,name:"渤海银行",data:null}),new InfoBoxData({id:8,name:"汉口银行",data:null})];e.setInfoBoxData(i,this.selectIndexFunction,this),this.group_bind_bankCard.addChild(e)},e.prototype.selectIndexFunction=function(){},e.prototype.OnClickChangezfb=function(t){this._MaxBtnHid(),this._MinBtnHid(),this.group_wxti.visible=!0,xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.OnClickChangeBankCard=function(t){this._MaxBtnHid(),this._MinBtnHid(),this.group_wxti.visible=!0,xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.OnClickWxtsRetu=function(t){xlLib.SoundMgr.instance.playSound("Special_menu_mp3"),xlLib.TipsUtils.showFloatWordTips("温馨提示")},e.prototype._MaxBtnHid=function(){this.group_Info.visible=!1,this.group_wallet.visible=!1,this.group_pack.visible=!1,this.group_bind_number.visible=!1,this.group_chang_head.visible=!1,this.group_Vip.visible=!1,this.group_bindzfb.visible=!1,this.group_bind_bankCard.visible=!1,this.group_changename.visible=!1},e.prototype._MinBtnHid=function(){this.group_tittle.visible=!1,this.group_rechang_btn.visible=!1},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.destroy=function(){this.btn_return.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickRetuBtn,this),this.btn_bind_number.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickBindPhoneNum,this),this.btn_myhead.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickMyHead,this),this.btn_vip.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickVipBtn,this),this.select_sex.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickSelectSex,this),this.btn_bindzfb.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickBindzfbBtn,this),this.btn_bindcard.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickBindBanCard,this),this.btn_changezfb.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickChangezfb,this),this.btn_changebancard.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickChangeBankCard,this),this.btn_wxti_return.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickWxtsRetu,this),this.btn_xiugai_name.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnclickCangeName,this)},e}(eui.Component);__reflect(PlayerInfoView.prototype,"PlayerInfoView");var NiuJiao=function(t){function e(){var e=t.call(this)||this;return e.skinName="NiuJiaoSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.niujiao.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.niujiao.play(0)},e.prototype.play=function(){this.niujiao.play(0)},e.prototype.stop=function(){this.niujiao.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(NiuJiao.prototype,"NiuJiao",["INiuNiuBetEffect"]);var NiuNBei=function(t){function e(){var e=t.call(this)||this;return e.skinName="NiuNBeiSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.niuniuanmin.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.niuniuanmin.stop()},e.prototype.play=function(t){this.image0.source=t,this.niuniuanmin.play(0)},e.prototype.stop=function(){this.niuniuanmin.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(NiuNBei.prototype,"NiuNBei");var NiuZhang0=function(t){function e(){var e=t.call(this)||this;return e.skinName="DZHEffSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.qiangzhuang1.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.visible=!1,this.qiangzhuang1.stop()},e.prototype.play=function(){this.visible=!0,this.qiangzhuang1.play(0)},e.prototype.stop=function(){this.visible=!1,this.qiangzhuang1.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(NiuZhang0.prototype,"NiuZhang0");var NiuZhang1=function(t){function e(){var e=t.call(this)||this;return e.skinName="DZVEffSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.qiangzhuang2.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.visible=!1,this.qiangzhuang2.stop()},e.prototype.play=function(){this.visible=!0,this.qiangzhuang2.play(0)},e.prototype.stop=function(){this.visible=!1,this.qiangzhuang2.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(NiuZhang1.prototype,"NiuZhang1");var QZNNGameStart=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNGameStartSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.kaishiyouxi.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.kaishiyouxi.stop(),this.parent&&this.parent.removeChild(this)},e.prototype.play=function(){this.playClickSound(QZNNUtil.getInstance().getSoundEffect(14)),this.kaishiyouxi.play(0)},e.prototype.playClickSound=function(t){xlLib.SoundMgr.instance.playSound(t+"_mp3")},e.prototype.stop=function(){this.kaishiyouxi.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(QZNNGameStart.prototype,"QZNNGameStart");var QZNNGoldFly=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNGoldFlySkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.win.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.win.stop()},e.prototype.play=function(){this.win.play(0)},e.prototype.stop=function(){this.win.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(QZNNGoldFly.prototype,"QZNNGoldFly");var QZNNHead=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNHeadSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this);var e=new egret.Shape,i=[13627658,16777215,6881224,8218879],n=0,s=0,r=0;r=n%4,e.graphics.beginFill(i[r]),e.graphics.drawRect(0,30*n+15,500,20),e.graphics.beginFill(i[r]),e.graphics.drawRoundRect(100*s+n%2*50,n%2==0?n/2*60:(n-1)/2*60+30,50,50,13,13),e.graphics.endFill(),e.graphics.beginFill(i[3!=r?r+1:0]),e.graphics.drawRoundRect(100*s+n%2*50+10,n%2==0?n/2*60+10:(n-1)/2*60+30+10,30,30,10,10),e.graphics.endFill(),e.graphics.lineStyle(4,13382451,1),e.graphics.drawRoundRect(50,30,200,300,20,20),e.graphics.endFill(),this.addChild(e)},e.prototype.setUserInfo=function(t,e,i,n){this["imghead"+t].source=n,this["imghead"+t].source=n,this["labelName"+t].text=e,this["labelGold"+t].text=i},e.prototype.setZhuang=function(t){t&&this.addNNbankerEff()},e.prototype.removeNNbankerEff=function(){this.nnbankerEff&&(this.nnbankerEff.stop(),this.nnbankerEff.parent&&this.nnbankerEff.parent.removeChild(this.nnbankerEff))},e.prototype.addNNbankerEff=function(){this.nnbankerEff||(this.nnbankerEff=xlLib.DisplayUtils.createMovieClicp("nn_banker","nn_banker"),this.nnbankerEff.x=90,this.nnbankerEff.y=70,this.nnbankerEff.frameRate=10,this.nnbankerEff.touchEnabled=!1),this.addChild(this.nnbankerEff),this.nnbankerEff.gotoAndPlay(0,1)},e.prototype.setGold=function(t){this.labelGold.text=t+""},e.prototype.destroy=function(){this.removeNNbankerEff()},e}(eui.Component);__reflect(QZNNHead.prototype,"QZNNHead");var QZNNHEff=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNHEffSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.win.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.win.stop()},e.prototype.play=function(){this.win.play(0)},e.prototype.stop=function(){this.win.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(QZNNHEff.prototype,"QZNNHEff");var QZNNHHeadEff=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNHHeadEffSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.qznnwin.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.qznnwin.play(0)},e.prototype.play=function(){this.qznnwin.play(0)},e.prototype.stop=function(){this.qznnwin.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(QZNNHHeadEff.prototype,"QZNNHHeadEff");var QZNNroomEff=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNroomEffSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.dicheng.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.wangzhefang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.tiyanfang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.chujifang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.zhongjifang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.gaojifang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.zhizunfang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){t.target.play(0)},e.prototype.play=function(){this.dicheng.play(0),this.wangzhefang.play(0),this.tiyanfang.play(0),this.chujifang.play(0),this.zhongjifang.play(0),this.gaojifang.play(0),this.zhizunfang.play(0)},e.prototype.stop=function(){this.dicheng.stop(),this.wangzhefang.stop(),this.tiyanfang.stop(),this.chujifang.stop(),this.zhongjifang.stop(),this.gaojifang.stop(),this.zhizunfang.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(QZNNroomEff.prototype,"QZNNroomEff");var QZNNroomView=function(t){function e(){var e=t.call(this)||this;e.skinName="QZNNroomViewSkin";var i=["qznn_bg_mp3"];return xlLib.SoundMgr.instance.playBgMusic(i),e}return __extends(e,t),e.prototype.playPlayerDragonBones=function(){this.playerDb=xlLib.DisplayUtils.createDragonBonesDisplay("qznn_nvrenwu","armatureName"),dragonBones.WorldClock.clock.add(this.playerDb);var t=this.playerDb.getDisplay();t.scaleX=t.scaleY=1.2,t.x=300,t.y=500,this.addChild(t),xlLib.DisplayUtils.runDragonBonesArmature(this.playerDb,"newAnimation")},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this._coin_label.text=GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins),this._btn_cjc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGame,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.GameStatus,this),this.qzroomeff=new QZNNroomEff,this.addChildAt(this.qzroomeff,0),this.qzroomeff.play(),this.playPlayerDragonBones()},e.prototype.GameStatus=function(t){200==t._obj.code&&xlLib.SceneMgr.instance.changeScene(QZNNScene)},e.prototype.onEnterGame=function(){if(this.playClickSound(),this.gameIconData){var t=UserInfo.getInstance().getGameDataByindex(this.gameIconData.game),e=t.getTypeDataByindex(this.gameIconData.type),i=e.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:i.id};xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,n,function(t){},this)}},e.prototype.setGameIconData=function(t){this.gameIconData=t},e.prototype.dispose=function(){var t=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(t),xlLib.PopUpMgr.removePopUp(this,1)},e.prototype.playClickSound=function(){xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.destroy=function(){xlLib.DisplayUtils.destoryDragonBonesArmature(this.playerDb,"newAnimation"),this.qzroomeff.stop(),this.gameIconData=null,this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),EventUtil.removeEventListener(EventConst.onGameStatusChange,this.GameStatus,this),this._btn_cjc.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGame,this)},e}(eui.Component);__reflect(QZNNroomView.prototype,"QZNNroomView",["eui.UIComponent","egret.DisplayObject"]);var QZNNScene=function(t){function e(){var e=t.call(this)||this;return e.QZNNView=new QZNNView,e.uiLayer.addChild(e.QZNNView),e}return __extends(e,t),e.prototype.destroy=function(){this.QZNNView.destroy(),t.prototype.destroy.call(this)},e.prototype.resize=function(){this.QZNNView&&this.QZNNView.resize()},e}(xlLib.GameScene);__reflect(QZNNScene.prototype,"QZNNScene");var QZNNTongpei=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNTongpeiSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.shibai.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.shibai.stop(),this.parent&&this.parent.removeChild(this)},e.prototype.play=function(){this.visible=!0,this.playClickSound(QZNNUtil.getInstance().getSoundEffect(17)),this.shibai.play(0)},e.prototype.playClickSound=function(t){xlLib.SoundMgr.instance.playSound(t+"_mp3")},e.prototype.stop=function(){this.visible=!1,this.shibai.stop()},e.prototype.destroy=function(){this.shibai.removeEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e}(eui.Component);__reflect(QZNNTongpei.prototype,"QZNNTongpei");var QZNNTongsha=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNTongshaSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.tongsha.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.tongsha.stop(),this.parent&&this.parent.removeChild(this)},e.prototype.play=function(){this.visible=!0,this.playClickSound(QZNNUtil.getInstance().getSoundEffect(16)),this.tongsha.play(0)},e.prototype.playClickSound=function(t){xlLib.SoundMgr.instance.playSound(t+"_mp3")},e.prototype.stop=function(){this.visible=!1,this.tongsha.stop()},e.prototype.destroy=function(){this.tongsha.removeEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e}(eui.Component);__reflect(QZNNTongsha.prototype,"QZNNTongsha");var QZNNUtil=function(){function t(){if(t.instance)throw new Error("Instance is alreally exist")}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getBetNumber=function(t){switch(t){case 0:return Math.pow(10,4);case 1:return Math.pow(10,5);case 2:return Math.pow(10,6);case 3:return Math.pow(10,7);case 4:return 5*Math.pow(10,7);case 5:return Math.pow(10,8)}},t.prototype.getMsgSource=function(t){var e="";switch(t){case 2:e="nn.d2";break;case 3:e="nn.d3";break;case 4:e="nn.d4";break;case 5:e="nn.d5"}return e},t.prototype.getCoinsPos=function(t){var e=new egret.Point;switch(t){case 1:e.x=195,e.y=523;break;case 2:e.x=383,e.y=523;break;case 3:e.x=195,e.y=633;break;case 4:e.x=383,e.y=633}return e},t.prototype.getCardType2=function(t){switch(t){case 0:return"无牛";case 1:return"牛一";case 2:return"牛二";case 3:return"牛三";case 4:return"牛四";case 5:return"牛五";case 6:return"牛六";case 7:return"牛七";case 8:return"牛八";case 9:return"牛九";case 10:return"牛牛";case 11:return"四炸";case 12:return"五花牛";case 13:return"五小牛"}},t.prototype.getCardBmpUrl=function(t){switch(t){case 0:case 1:case 2:case 3:case 4:case 5:case 6:return"qznntype1_tex"+t+"_png";case 7:return"qznntype2_tex1_png";case 8:return"qznntype2_tex2_png";case 9:return"qznntype2_tex3_png";case 10:return"qznntype3_tex1_png";case 11:return"qznntype6_tex1_png";case 12:return"qznntype4_tex1_png";case 13:return"qznntype5_tex1_png";case 14:return"qznntype7_tex1_png"}},t.prototype.getCardType=function(t){switch(t){case 0:return"nn.n1";case 1:return"nn.n2";case 2:return"nn.n3";case 3:return"nn.n4";case 4:return"nn.n5";case 5:return"nn.n6";case 6:return"nn.n7";case 7:return"nn.n8";case 8:return"nn.n9";case 9:return"nn.n10";case 10:return"nn.n11";case 11:return"nn.n13";case 12:return"nn.n14";case 13:return"nn.n12"}},t.prototype.getCardMusicType=function(t){switch(t){case 0:return"nn.niu0";case 1:return"nn.niu1";case 2:return"nn.niu2";case 3:return"nn.niu3";case 4:return"nn.niu4";case 5:return"nn.niu5";case 6:return"nn.niu6";case 7:return"nn.niu7";case 8:return"nn.niu8";case 9:return"nn.niu9";case 10:return"nn.niuniu";case 11:return"nn.playNiuZhadan";case 12:return"nn.playNiu5hua";case 13:return"nn.playNiuXiao5"}},t.prototype.coinsType=function(t){var e=[],i=0,n="";t=Math.round(t/1e4),t>0&&10>t?(i=t,n="nn.b1a"):t>9&&100>t?(i=t/10,n="nn.b2a"):t>99&&1e3>t?(i=t/100,n="nn.b3a"):t>999&&5e3>t?(i=t/1e3,n="nn.b4a"):t>4999&&1e4>t?(i=t/5e3,n="nn.b5a"):(i=t/1e4,n="nn.b6a");for(var s=0;s<Math.round(i);s++){var r=new eui.Image(n),o=this.coinPos();r.x=o.x,r.y=o.y,e.push(r)}return e},t.prototype.coinPos=function(){var t=new egret.Point,e=Math.floor(4*Math.random());switch(e){case 0:t.x=-100,t.y=400;break;case 1:t.x=-100,t.y=800;break;case 2:t.x=650,t.y=400;break;case 3:t.x=650,t.y=800}return t},t.prototype.getSoundEffect=function(t){switch(t){case 0:return"qznn_bg";case 1:return"nn.jackpot";case 2:return"nn.start";case 3:return"nn.end";case 4:return"nn.ts";case 5:return"nn.tp";case 6:return"nn.dealCard";case 7:return"nn.openCard";case 8:return"nn.stake";case 9:return"gold_diaoluo";case 10:return"Special_menu";case 11:return"nn_LampEnd";case 12:return"nn_montageerror";case 13:return"nn_LampRun";case 14:return"nn_gamestart";case 15:return"nn_wingold";case 16:return"qznn_win_all";case 17:return"qznn_tongpei"}},t.instance=null,t}();__reflect(QZNNUtil.prototype,"QZNNUtil");var QZNNVEff=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNVEffSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.win.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.win.stop()},e.prototype.play=function(){this.win.play(0)},e.prototype.stop=function(){this.win.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(QZNNVEff.prototype,"QZNNVEff");var QZNNVHeadEff=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNVHeadEffSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.qznnwin.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.qznnwin.play(0)},e.prototype.play=function(){this.qznnwin.play(0)},e.prototype.stop=function(){this.qznnwin.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(QZNNVHeadEff.prototype,"QZNNVHeadEff");var QZNNVictory=function(t){function e(){var e=t.call(this)||this;return e.skinName="QZNNVictorySkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.youxishengli.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.youxishengli.stop(),this.parent&&this.parent.removeChild(this)},e.prototype.play=function(){this.playClickSound(QZNNUtil.getInstance().getSoundEffect(15)),this.youxishengli.play(0)},e.prototype.playClickSound=function(t){xlLib.SoundMgr.instance.playSound(t+"_mp3")},e.prototype.stop=function(){this.youxishengli.stop()},e.prototype.destroy=function(){this.youxishengli.removeEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e}(eui.Component);__reflect(QZNNVictory.prototype,"QZNNVictory");var QZNNView=function(t){function e(){var e=t.call(this)||this;return e.r=null,e.arr=[null,null,null],e.score=[0,0,0,0,0],e.score1=[0,0,0,0,0],e.arr_fen=[0,0,0],e.arr_fen1=[0,0,0,0,0],e.multipleList=[0,0,0,0,0],e.game_result=0,e.niu=0,e.zijipokes=[0,0,0,0,0],e.turn_score_arr=[],e.win_eff_err=[],e.goldFlyAnimatorarr=[],e.intnum=[0,0,0,0],e.num01=0,e.startCardRotation=!1,e.interval=-1,e.selfbetsNum={},e.betsPostion=-1,e.betsNum=0,e.cardResult=null,e.isChangeBanker=!1,e.changeBankerObj={},e.isCanBets=!0,e.poolBetArray={},e.limitGold=0,e.limitVip=0,e.curBankerRanking=-1,e.isApplyBanker=!1,e.lastGameBankerNum=0,e.isSysBanker=!1,e.orginBankerCardPos=[],e.orginPinCardPos=[],e.orginPlayerCardPos=[],e.orginZhanCardPos=[],e.orginPlayerHeadPos=[],e.isBanker=!1,e.isBets=!1,e.maxUserData=null,e.banker_total_gold=0,e.isBoomBanker=!1,e.resultCaijin=0,e.totalCaijin=0,e.cdNum=10,e.lastTouchBetIndex=-1,e.coinsNumArr={},e.isCoinsReturn=!0,e.curRate=0,e.lastTouchBetTime=0,e.isCardEffectShow=!1,e.zhaungIndex=0,e.turn0=0,e.timeNum=0,e.betNum=[],e.cur_Num=0,e.bet_data=[],e.flyIntval=0,e.flyBankerIndex=0,e.flyIntval_1=0,e.flyIntval_2=0,e.flyIntval_3=0,e.flyIntval_4=0,e.flyIndex_1=0,e.flyIndex_2=4,e.flyIndex_3=4,e.flyIndex_4=0,e.flyPaiTime=500,e.faPaiTime=200,e.effectPlayerIndex=0,e.skinName="QZNNViewSkin",e}return __extends(e,t),e.prototype.addNNEff=function(){var t=this;this.nnEff||(this.nnEff=xlLib.DisplayUtils.createAsyncMovieClicp("nn_myCardType10","nn_myCardType10",!1),this.nnEff.x=xlLib.Global.screenWidth/2,this.nnEff.y=xlLib.Global.screenHeight/2,this.nnEff.frameRate=10,this.nnEff.touchEnabled=!1),this.nnEff.gotoAndPlay(0,1),this.addChild(this.nnEff),this.nnEff.addEventListener(egret.Event.COMPLETE,function(e){t.nnEff.parent&&t.nnEff.parent.removeChild(t.nnEff)},this)},e.prototype.addWhnEff=function(){var t=this;this.whnEff||(this.whnEff=xlLib.DisplayUtils.createAsyncMovieClicp("nn_myCardType14","nn_myCardType14",!1),this.whnEff.x=xlLib.Global.screenWidth/2,this.whnEff.y=xlLib.Global.screenHeight/2,this.whnEff.frameRate=10,this.whnEff.touchEnabled=!1),this.whnEff.gotoAndPlay(0,1),this.addChild(this.whnEff),this.whnEff.addEventListener(egret.Event.COMPLETE,function(e){t.whnEff.parent&&t.whnEff.parent.removeChild(t.whnEff)},this)},e.prototype.childrenCreated=function(){this.getOrginCardPos(),this.addEvent(),this.initData(),this.labelHead0.text=UserInfo.getInstance().username,this.labelGold0.text=""+GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins);var t=xlLib.PopUpMgr.addPopUp(Inthematch,this,!0,!0,null,1);t.TYPE_TAP=Const.TYPE_TBNN,UserInfo.getInstance().isGameStart=!0,this.texiao=new NiuJiao,this.texiao.x=-180,this.texiao.y=-150,this._niujia.addChild(this.texiao)},e.prototype.initData=function(){this.selfbetsNum={1:0,2:0,3:0,4:0},this.poolBetArray={1:0,2:0,3:0,4:0},this.coinsNumArr={1:0,2:0,3:0,4:0},this.grpCard.visible=!0,this._btn_switch.visible=!1,this._group_qiang.visible=!1,this.grpCountdown.visible=!1,this._whether_.visible=!0,this._whether_0.visible=!1,this._whether_1.visible=!1,this._whether_2.visible=!1,this._whether_3.visible=!1,this._img_0.visible=!1,this._img_1.visible=!1,this._img_2.visible=!1,this._img_3.visible=!1,this._xiabei.visible=!0,this._xiabei_0_0_0.visible=!1,this._xiabei_0_0_1.visible=!1,this._xiabei_0_0_2.visible=!1,this._xiabei_0_0_3.visible=!1,this._xiabei_0_0.visible=!1,this._xiabei_0.visible=!1,this._xiabei_0_1.visible=!1,this._xiabei_1.visible=!1,this._xiabei_0_2.visible=!1,this._xiabei_2.visible=!1,this._xiabei_0_3.visible=!1,this._xiabei_3.visible=!1,this._jixu.visible=!1,this._pingpai.visible=!1,this._my_pai.visible=!1,this.arr=[],this._zhi_0.text="",this._zhi_1.text="",this._zhi_2.text="",this._zhi_3.text="",this._btn_switch.visible=!1,this._btn_double_1.visible=!1,this._btn_double_2.visible=!1,this._btn_double_3.visible=!1,this._btn_double_4.visible=!1,this._btn_double_5.visible=!1,this.beishu_0.visible=!1,this.beishu_1.visible=!1,this.beishu_2.visible=!1,this.beishu_3.visible=!1,this.beishu_4.visible=!1,this.beishu_0_0.visible=!1,this.beishu_0_1.visible=!1,this.beishu_0_2.visible=!1,this.beishu_0_3.visible=!1,this.beishu_0_4.visible=!1,this.bs_img_0.visible=!1,this.bs_img_1.visible=!1,this.bs_img_2.visible=!1,this.bs_img_3.visible=!1,this.bs_img_4.visible=!1,this.pinpaiType.visible=!1,this.pinpaiType0.visible=!1,this.pinpaiType1.visible=!1,this.pinpaiType2.visible=!1,this._xiabei_0.x=295.61,this._xiabei_1.x=368.16,this._xiabei_2.x=530.48,this._xiabei_3.x=1146.78,this.grpHead0.visible=!1,this.grpHead1.visible=!1,this.grpHead2.visible=!1,this.grpHead3.visible=!1,this._tishi.visible=!1,this._zhuang_img0.visible=!1,this._zhuang_img1.visible=!1,this._zhuang_img2.visible=!1,this._zhuang_img3.visible=!1,this.zhaungIndex=0;for(var t=0;5>t;t++){var e=this["grpCard_0_"+t];this.grpCard.setChildIndex(e,5-t)}},e.prototype.getOrginCardPos=function(){for(var t=0;5>t;t++){var e=this["bankerCard_"+t];e.source="",e.anchorOffsetX=e.width/2,e.x+=e.width/2;var i=new egret.Point;i.x=e.x,i.y=e.y,this.orginBankerCardPos[t]=i;var e=this["_puke_"+t];e.source="",e.anchorOffsetX=e.width/2,e.x+=e.width/2;var i=new egret.Point;i.x=e.x,i.y=e.y,this.orginPinCardPos[t]=i}this.labCardTypeBanker.visible=!1;for(var n=0;3>n;n++){this["labCardType"+n].visible=!1;for(var s=[],r=0;5>r;r++){var e=this["grpCard_"+n+"_"+r];e.source="",e.anchorOffsetX=e.width/2,e.x+=e.width/2;var i=new egret.Point;i.x=e.x,i.y=e.y,s[r]=i}this.orginPlayerCardPos[n]=s}for(var o=0;4>o;o++){0!=o&&this.setUserInfo(o,"","","");var e=this["grpCard_z_"+o];e.source="",e.anchorOffsetX=e.width/2,e.x+=e.width/2;var i=new egret.Point;i.x=e.x,i.y=e.y,this.orginZhanCardPos[o]=i}for(var a=0;4>a;a++){var i=new egret.Point;0==a||2==a?(i.x=this["grpHead"+a].x+45,i.y=this["grpHead"+a].y+45):(i.x=this["grpHead"+a].x+55,i.y=this["grpHead"+a].y+70),this.orginPlayerHeadPos[a]=i}},e.prototype.resize=function(){},e.prototype.onRestartGame=function(){var t=xlLib.PopUpMgr.addPopUp(Inthematch,this,!0,!0,null,1);t.TYPE_TAP=Const.TYPE_TBNN;var e=UserInfo.getInstance().getGameDataByindex(Const.GAME_NIUNIU),i=e.getTypeDataByindex(Const.TYPE_QZNN),n=i.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),s={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:n.id};xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,s,function(t){},this),UserInfo.getInstance().isGameStart=!0,this.resetGame()},e.prototype.onClick=function(t){if(this.playClickSound(QZNNUtil.getInstance().getSoundEffect(10)),t.target==this._btn_begin)this.onRestartGame();else if(t.target==this._btn_meun);else if(t.target==this._btn_buqiang)this.sendamessage(EventConst.niuniu_dohog,0);else if(t.target==this._btn_qiang_1)this.sendamessage(EventConst.niuniu_dohog,1);else if(t.target==this._btn_qiang_2)this.sendamessage(EventConst.niuniu_dohog,2);else if(t.target==this._btn_qiang_3)this.sendamessage(EventConst.niuniu_dohog,3);else if(t.target==this._btn_qiang_4)this.sendamessage(EventConst.niuniu_dohog,4);else if(t.target==this._btn_double_1)this.sendamessage1(EventConst.niuniu_dobet,this.multipleList[0]);else if(t.target==this._btn_double_2)this.sendamessage1(EventConst.niuniu_dobet,this.multipleList[1]);else if(t.target==this._btn_double_3)this.sendamessage1(EventConst.niuniu_dobet,this.multipleList[2]);else if(t.target==this._btn_double_4)this.sendamessage1(EventConst.niuniu_dobet,this.multipleList[3]);else if(t.target==this._btn_double_5)this.sendamessage1(EventConst.niuniu_dobet,this.multipleList[4]);
else if(t.target==this._youniu){var e=this.arr_fen[0]+this.arr_fen[1]+this.arr_fen[2];0!=this.arr_fen[0]&&0!=this.arr_fen[1]&&0!=this.arr_fen[2]?e%10==0?(this._pingpai.visible=!1,this.texiao.stop(),this._my_pai.visible=!0,this.returnpinpai(1)):(this.playClickSound(QZNNUtil.getInstance().getSoundEffect(12)),this.ppcuowu()):this.ppcuowu()}else t.target==this._meiniu&&(0!=this.niu?(this.playClickSound(QZNNUtil.getInstance().getSoundEffect(12)),this.ppcuowu()):(this._pingpai.visible=!1,this.texiao.stop(),this._my_pai.visible=!0,this.returnpinpai(0)))},e.prototype.returnpinpai=function(t){if(0==t){var e=UserInfo.getInstance().getGameDataByindex(Const.GAME_NIUNIU),i=e.getTypeDataByindex(Const.TYPE_QZNN),n=i.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),s={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:n.id,centerCard:[this.score1[0],this.score1[1],this.score1[2],this.score1[3],this.score1[4]]};xlLib.WebSocketMgr.getInstance().send(EventConst.niuniu_manual,s,function(t){},this)}else if(1==t){for(var r=3,o=0;o<this.arr_fen1.length;o++)for(var a=0;a<this.score1.length;a++)this.arr_fen1[o]!=this.score1[a]||(this.score1[a]=null);for(var h=0;h<this.score1.length;h++)null!==this.score1[h]&&(this.arr_fen1[r]=this.score1[h],r++);var l=UserInfo.getInstance().getGameDataByindex(Const.GAME_NIUNIU),c=l.getTypeDataByindex(Const.TYPE_QZNN),n=c.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),s={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:n.id,centerCard:[this.arr_fen1[0],this.arr_fen1[1],this.arr_fen1[2],this.arr_fen1[3],this.arr_fen1[4]]};xlLib.WebSocketMgr.getInstance().send(EventConst.niuniu_manual,s,function(t){},this)}},e.prototype.ppcuowu=function(){var t=this;this.pinpaicuowu||(this.pinpaicuowu=xlLib.DisplayUtils.createMovieClicp("pinpaicuowu","pinpaicuowu"),this.pinpaicuowu.x=1200,this.pinpaicuowu.y=580,this.pinpaicuowu.frameRate=10,this.pinpaicuowu.touchEnabled=!1),this.pinpaicuowu.gotoAndPlay(0,1),this.addChild(this.pinpaicuowu),this.pinpaicuowu.addEventListener(egret.Event.COMPLETE,function(e){t.pinpaicuowu.parent&&t.pinpaicuowu.parent.removeChild(t.pinpaicuowu)},this)},e.prototype.sendamessage=function(t,e){var i={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,data:e};xlLib.WebSocketMgr.getInstance().send(t,i,function(t){},this),this._group_qiang.visible=!1},e.prototype.sendamessage1=function(t,e){var i={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,data:e};xlLib.WebSocketMgr.getInstance().send(t,i,function(t){},this)},e.prototype.addEvent=function(){this._btn_meun.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_begin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_buqiang.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._youniu.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._meiniu.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Onquit,this),EventUtil.addEventListener(EventConst.onUserShowOrderUpdate,this.onShowOrder,this),EventUtil.addEventListener(EventConst.players,this.addPlayers,this),EventUtil.addEventListener(EventConst.onNewUserEnterGame,this.playerJoinRoom,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.GameStatus,this),EventUtil.addEventListener(EventConst.onUserBetOrderUpdate,this.OnBetUpdate,this),EventUtil.addEventListener(EventConst.onUserHogOrderUpdate,this.OnHogUpdate,this),this._puke_0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Suapai,this),this._puke_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Suapai,this),this._puke_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Suapai,this),this._puke_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Suapai,this),this._puke_4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Suapai,this)},e.prototype.onShowOrder=function(t){t._obj.index>0?this["pinpaiType"+(t._obj.index-1)].visible=!0:(this.pinpaiType.visible=!0,this._tishi.visible=!0,this._tishi_text.text="请等待其他玩家拼牌...")},e.prototype.GameStatus=function(t){switch(t._obj.roomStatus){case 0:break;case 1:break;case 2:break;case 3:this.onHogBack(t);break;case 4:this.onbetBack(t);break;case 5:break;case 6:this.onThecardtype(t);break;case 7:this.oncloseanaccount(t);break;case 8:}},e.prototype.onHogBack=function(t){xlLib.PopUpMgr.removePopUp(Inthematch,1),this.grpCountdown.visible=!0,this.startCountDown(t._obj.seconds),this._group_qiang.visible=!0,this.gamestarEff||(this.gamestarEff=new QZNNGameStart,this.gamestarEff.anchorOffsetX=this.gamestarEff.width/2,this.gamestarEff.anchorOffsetY=this.gamestarEff.height/2,this.gamestarEff.x=xlLib.Global.screenWidth/2,this.gamestarEff.y=xlLib.Global.screenHeight/2),this.gamestarEff.play(),this.addChild(this.gamestarEff)},e.prototype.addNNVictoryEffect=function(){this.nnvictoryEffect||(this.nnvictoryEffect=new QZNNVictory,this.nnvictoryEffect.anchorOffsetX=this.nnvictoryEffect.width/2,this.nnvictoryEffect.anchorOffsetY=this.nnvictoryEffect.height/2,this.nnvictoryEffect.x=xlLib.Global.screenWidth/2,this.nnvictoryEffect.y=xlLib.Global.screenHeight/2),this.nnvictoryEffect.play(),this.addChild(this.nnvictoryEffect)},e.prototype.addTongsha=function(){this.tongsha||(this.tongsha=new QZNNTongsha,this.tongsha.anchorOffsetX=this.tongsha.width/2,this.tongsha.anchorOffsetY=this.tongsha.height/2,this.tongsha.x=xlLib.Global.screenWidth/2,this.tongsha.y=xlLib.Global.screenHeight/2),this.tongsha.play(),this.addChild(this.tongsha)},e.prototype.addTongpei=function(){this.tongpei||(this.tongpei=new QZNNTongpei,this.tongpei.anchorOffsetX=this.tongpei.width/2,this.tongpei.anchorOffsetY=this.tongpei.height/2,this.tongpei.x=xlLib.Global.screenWidth/2,this.tongpei.y=xlLib.Global.screenHeight/2),this.tongpei.play(),this.addChild(this.tongpei)},e.prototype.onbetBack=function(t){this._tishi.visible=!1,this.time=0,this.startCountDown(t._obj.seconds),this._group_qiang.visible=!1,this._btn_switch.visible=!0,4==t._obj.roomStatus&&this.acceptbanker(t);for(var e=0;e<t._obj.hogList.length;e++)this["_btn_double_"+(e+1)].visible=!0,t._obj.hogList[e].hogOrBet>=10?(this["beishu_"+e].visible=!0,this["beishu_"+e].source="img_XB_1_png",this["beishu_0_"+e].visible=!0,this["beishu_0_"+e].source="img_XB_"+t._obj.hogList[e].hogOrBet%10+"_png",this["bs_img_"+e].visible=!0):t._obj.hogList[e].hogOrBet<10&&(this["beishu_"+e].visible=!1,this["beishu_"+e].source="",this["beishu_0_"+e].visible=!0,this["beishu_0_"+e].source="img_XB_"+t._obj.hogList[e].hogOrBet+"_png",this["bs_img_"+e].visible=!0),this.multipleList[e]=t._obj.hogList[e].hogOrBet},e.prototype.onThecardtype=function(t){this._tishi.visible=!1,this.zijipokes=t._obj.showList,this.score1=t._obj.showList,this.niu=t._obj.niu,this.time=0,this.startCountDown(t._obj.seconds),this.cardEffect()},e.prototype.oncloseanaccount=function(t){this.pinpaiType.visible=!0,this.pinpaiType0.visible=!0,this.pinpaiType1.visible=!0,this.pinpaiType2.visible=!0,this.game_result=t._obj.result,this.time=0,this.grpCountdown.visible=!1;for(var e={pokes:[],result:[1,0,0,0],bankerWin:0,rate:"0.05",bomb:"0"},i=0;i<t._obj.players.length;i++){var n={num:t._obj.players[i].pai.ratio,type:t._obj.players[i].pai.niu,value:t._obj.players[i].cardsList,win:t._obj.players[i].win,score:t._obj.players[i].score};e.pokes.push(n)}this.zijipokes=t._obj.players[0].cardsList,this.cardResult=e,this._pingpai.visible=!1,this.texiao.stop(),this._my_pai.visible=!0,this.interval=setInterval(this.playerCardRotation.bind(this),800)},e.prototype.OnBetUpdate=function(t){this._whether_.visible=!1,UserInfo.getInstance().uid==t._obj.userid&&(this._btn_switch.visible=!1,this._tishi.visible=!0,this._tishi_text.text="请等待其他闲家下注..."),200==t._obj.code&&this.jiazhu(t._obj.hogOrBet,t._obj.index)},e.prototype.OnHogUpdate=function(t){this.intnum[t._obj.index]=t._obj.hogOrBet,UserInfo.getInstance().uid==t._obj.userid&&(this._group_qiang.visible=!1,this._tishi.visible=!0,this._tishi_text.text="请等待其他玩家抢庄..."),200==t._obj.code&&this.qiangzhuang(t._obj.hogOrBet,t._obj.index)},e.prototype.qiangzhuang=function(t,e){0==t?(this["_whether_"+e].visible=!0,this["_whether_"+e].source="img_BQ_png",this["_img_"+e].visible=!1,this["_img_"+e].source=""):(this["_whether_"+e].visible=!0,this["_whether_"+e].source="img_BQ_0_png",this["_img_"+e].visible=!0,this["_img_"+e].source="img_BQ_0_"+t+"_png")},e.prototype.jiazhu=function(t,e){t>=10?(this["_xiabei_0_"+e].visible=!0,this["_xiabei_0_"+e].source="img_XB_png",this["_xiabei_"+e].visible=!0,this["_xiabei_0_0_"+e].visible=!0,this["_xiabei_"+e].source="img_XB_"+t%10+"_png",this["_xiabei_0_0_"+e].source="img_XB_1_png"):10>t&&(this["_xiabei_0_"+e].visible=!0,this["_xiabei_0_"+e].source="img_XB1_png",this["_xiabei_"+e].visible=!0,this["_xiabei_"+e].x-=20,this["_xiabei_0_0_"+e].visible=!1,this["_xiabei_"+e].source="img_XB_"+t+"_png")},e.prototype.turnBankerShow=function(){for(var t=0;4>t;t++)this["_zhuang_img"+t].visible=!1;if(12==this.timeNum)return this.timeNum=0,clearInterval(this.turn0),void this.setbanker(this.bet_data);if(0!=this.cur_Num){var e=0;do if(e=parseInt(Math.random()*this.betNum.length+""),this.cur_Num!=e)break;while(0);this.cur_Num=parseInt(Math.random()*this.betNum.length+"")}else this.cur_Num=parseInt(Math.random()*this.betNum.length+"");var i=this.betNum[this.cur_Num];this["_zhuang_img"+i].visible=!0,this.playClickSound(QZNNUtil.getInstance().getSoundEffect(13)),this.timeNum++},e.prototype.acceptbanker=function(t){this.bet_data=[],this.bet_data=t;var e=-1;this.betNum=[];for(var i=0;i<this.intnum.length;i++)e<this.intnum[i]?(e=this.intnum[i],this.betNum=[],this.betNum.push(i)):e==this.intnum[i]&&this.betNum.push(i);return this.betNum.length>1?(this.turn0=0,this.cur_Num=0,void(this.turn0=setInterval(this.turnBankerShow.bind(this),100))):(this.setbanker(t),void(this.bet_data=[]))},e.prototype.setbanker=function(t){var e=UserInfo.getInstance().findSeatNumber(t._obj.banker.index);this["_zhuang_img"+e].visible=!0,e%2==0?(this.niuniukuang||(this.niuniukuang=new NiuZhang0,this.niuniukuang.x=-72,this.niuniukuang.y=-88,this.niuniukuang.play()),this["grpHead"+e].addChild(this.niuniukuang)):(this.niuniukuang1||(this.niuniukuang1=new NiuZhang1,this.niuniukuang1.x=-125,this.niuniukuang1.y=-42,this.niuniukuang1.play()),this["grpHead"+e].addChild(this.niuniukuang1)),this.niuniuTX||(this.niuniuTX=new ZhuangIconTX,this.niuniuTX.x=-180,this.niuniuTX.y=-140,this.niuniuTX.play()),this["grpHead"+e].addChild(this.niuniuTX),this.playClickSound(QZNNUtil.getInstance().getSoundEffect(11)),0==e&&(this._tishi.visible=!0,this._tishi_text.text="请等待闲家下注..."),this.zhaungIndex=e},e.prototype.randomZhuan=function(t){0==t?this.addNNbankerEff():this["grpHead"+t].setZhuang(!0)},e.prototype.addNNbankerEff=function(){this.nnbankerEff||(this.nnbankerEff=xlLib.DisplayUtils.createMovieClicp("nn_banker","nn_banker"),this.nnbankerEff.x=90,this.nnbankerEff.y=80,this.nnbankerEff.frameRate=10,this.nnbankerEff.touchEnabled=!1),this.grpHead0.addChild(this.nnbankerEff),this.nnbankerEff.gotoAndPlay(0,1)},e.prototype.addPlayers=function(t){this.grpHead0.visible=!0;var e=new egret.Shape;e.graphics.beginFill(16711680),e.graphics.drawRect(0,0,117,115),e.graphics.endFill(),e.x=this.imghead0.x+6,e.y=this.imghead0.y+5,this.grpHead0.addChild(e),this.imghead0.mask=e,t._obj.player[0].id==UserInfo.getInstance().myPlayer.id&&(this.labelHead0.text=UserInfo.getInstance().myPlayer.username,this.labelGold0.text=GlobalFunction.Formatconversion(UserInfo.getInstance().myPlayer.goldcoins),this.imghead0.source="women7_png");for(var i=1;i<t._obj.player.length;i++)null!=t._obj.player[i]?this.setUserInfo(i,UserInfo.getInstance().playes[i].username,UserInfo.getInstance().playes[i].goldcoins,"women7_png"):this.setUserInfo(i,"","","")},e.prototype.playerJoinRoom=function(t){t._obj.player.id==UserInfo.getInstance().myPlayer.id||(this["grpHead"+t._obj.player.index].visible=!0,this["grpHead"+t._obj.player.index],this.setUserInfo(t._obj.player.index,t._obj.player.username,t._obj.player.goldcoins,"women7_png"))},e.prototype.setUserInfo=function(t,e,i,n){this["imghead"+t].source=n,this["labelHead"+t].text=e,this["labelGold"+t].text=GlobalFunction.Formatconversion(i)},e.prototype.Suapai=function(t){this.playClickSound(QZNNUtil.getInstance().getSoundEffect(10));for(var e=0;3>e;e++)if(this.arr[e]==t.target)return this.arr[e].y+=40,this.arr[e]=null,this["_zhi_"+e].text="",this.arr_fen[e]=0,this.arr_fen1[e]=0,void this.calculatescore();for(var e=0;3>e;e++)if(null==this.arr[e])for(var i=0;5>i;i++)if(t.target==this["_puke_"+i])return this.arr[e]=this["_puke_"+i],this["_puke_"+i].y-=40,this["_zhi_"+e].text=this.score[i],this.arr_fen[e]=this.score[i],this.arr_fen1[e]=this.score1[i],void this.calculatescore()},e.prototype.calculatescore=function(){var t=this.arr_fen[0]+this.arr_fen[1]+this.arr_fen[2];0==t?this._zhi_3.text="":this._zhi_3.text=t+""},e.prototype.startCountDown=function(t){10>t?this.timeTxt.text="0"+t:this.timeTxt.text=""+t,this.timeTxt.visible=!0,this.time=t,null==this.timer&&(this.timer=new egret.Timer(1e3),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer.start())},e.prototype.timerFunc=function(t){this.time>=0?(this.time>=10?this.timeTxt.text=""+this.time:this.timeTxt.text="0"+this.time,this.time--):(this.timeTxt.text="00",this.clearTime())},e.prototype.clearTime=function(){this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer=null)},e.prototype.clearTimer=function(){this.cdNum>0?this.cdNum--:(this.cdTimer.stop(),this.cdNum=0,this.resetGame())},e.prototype.joinCallback=function(t){if(200==t.code){this.curRate=t.data.rate;for(var e=t.data,i=t.data.seats,n=0;n<i.length;n++)this["imghead"+i[n].seat].source=i[n].headurl,this["labelHead"+i[n].seat].text=i[n].name,this["imghead"+i[n].seat].height=this["imghead"+i[n].seat].width=70;this.limitGold=e.limitGold,this.limitVip=e.limitVip,this.cdNum=e.time,this.cdTimer.start(),1==t.state?this.isCanBets=!1:2==t.state?this.isCanBets=!0:3==t.state&&(this.isCanBets=!1)}},e.prototype.onMsgListen=function(t){var e=t.msg;switch(e.type){case 0:this.cdNum=parseInt(e.time)+3,this.cdTimer.start();break;case 1:this.isCanBets=!1;break;case 2:this.setGameResult(e.data);break;case 3:this.changeBankerObj=e.zhuang,this.isChangeBanker=!0;break;case 4:this.updataSeat(1,e.data);break;case 5:this.updataSeat(2,e.seat);break;case 6:break;case 7:}},e.prototype.setGameResult=function(t){this.cardResult=t},e.prototype.updataSeat=function(t,e){1==t?(this["imghead"+e.seat].source=e.headurl,this["imghead"+e.seat].height=this["imghead"+e.seat].width=70,this["labelHead"+e.seat].text=e.nick):(this["imghead"+e].source="",this["labelHead"+e].text="")},e.prototype.getBetsCallback=function(t){if(200==t.code)for(var e=t.list,i=1;5>i;i++)if(0!=e[i].score){if(e[i].score==this.poolBetArray[i])continue;this.isCanBets&&this.showCoins(e[i].score-this.poolBetArray[i],i),parseInt(this["labBetsPool"+(i-1)].text)<e[i].score/1e4&&(this.poolBetArray[i]=e[i].score)}},e.prototype.showCoins=function(t,e){var i=!1;this.playClickSound(QZNNUtil.getInstance().getSoundEffect(8));var n=QZNNUtil.getInstance().getCoinsPos(e),s=QZNNUtil.getInstance().coinsType(t);this.coinsNumArr[e]<50?(this.coinsNumArr[e]=parseInt(this.coinsNumArr[e])+s.length,i=!1):i=!0;for(var r=0;r<s.length;r++){var o=n.x+50*Math.random(),a=n.y+50*Math.random();egret.Tween.get(s[r]).to({x:o,y:a},200).call(function(){this[0]&&this[1].parent.removeChild(this[1])},[i,s[r]])}},e.prototype.cardEffect=function(){this._btn_switch.visible=!1,this._group_qiang.visible=!1,this.isCardEffectShow=!0,this.flyIntval_1=setInterval(this.playCardFly_1.bind(this),this.faPaiTime),this.flyIntval_2=setInterval(this.playCardFly_2.bind(this),this.faPaiTime),this.flyIntval_3=setInterval(this.playCardFly_3.bind(this),this.faPaiTime),this.flyBankerIndex=0,this.flyIntval_4=setInterval(this.playCardFly_4.bind(this),this.faPaiTime)},e.prototype.playCardFly_1=function(){var t=this["grpCard_0_"+this.flyIndex_1];t.source="qznn_card_100",t.x=xlLib.Global.screenWidth/2,t.y=xlLib.Global.screenHeight/2,t.anchorOffsetX=t.width/2,t.x+=t.width/2,t.alpha=0,t.scaleX=.2,t.scaleY=.2;var e=this.orginPlayerCardPos[0][this.flyIndex_1],i=this.orginZhanCardPos[1];this.playClickSound(QZNNUtil.getInstance().getSoundEffect(6)),egret.Tween.get(t).to({x:i.x,y:i.y,alpha:.6,scaleX:1,scaleY:1},this.flyPaiTime,egret.Ease.sineIn).to({x:e.x,y:e.y,alpha:1},this.flyPaiTime,egret.Ease.sineOut),4==this.flyIndex_1?(this.flyIndex_1=0,clearInterval(this.flyIntval_1)):this.flyIndex_1++},e.prototype.playCardFly_2=function(){var t=this["grpCard_1_"+this.flyIndex_2];t.source="qznn_card_100",t.x=xlLib.Global.screenWidth/2,t.y=xlLib.Global.screenHeight/2,t.anchorOffsetX=t.width/2,t.x+=t.width/2,t.alpha=0,t.scaleX=.2,t.scaleY=.2;var e=this.orginPlayerCardPos[1][this.flyIndex_2];this.playClickSound(QZNNUtil.getInstance().getSoundEffect(6));var i=this.orginZhanCardPos[2];egret.Tween.get(t).to({x:i.x,y:i.y,alpha:.6,scaleX:1,scaleY:1},this.flyPaiTime,egret.Ease.sineIn).to({x:e.x,y:e.y,alpha:1},this.flyPaiTime,egret.Ease.sineOut),0==this.flyIndex_2?(this.flyIndex_2=4,clearInterval(this.flyIntval_2)):this.flyIndex_2--},e.prototype.playCardFly_3=function(){var t=this["grpCard_2_"+this.flyIndex_3];t.source="qznn_card_100",t.x=xlLib.Global.screenWidth/2,t.y=xlLib.Global.screenHeight/2,t.anchorOffsetX=t.width/2,t.x+=t.width/2,t.alpha=0,t.scaleX=.2,t.scaleY=.2;var e=this.orginPlayerCardPos[2][this.flyIndex_3];this.playClickSound(QZNNUtil.getInstance().getSoundEffect(6));var i=this.orginZhanCardPos[3];egret.Tween.get(t).to({x:i.x,y:i.y,alpha:.6,scaleX:1,scaleY:1},this.flyPaiTime,egret.Ease.sineIn).to({x:e.x,y:e.y,alpha:1},this.flyPaiTime,egret.Ease.sineOut),0==this.flyIndex_3?(this.flyIndex_3=4,clearInterval(this.flyIntval_3)):this.flyIndex_3--},e.prototype.playCardFly_4=function(){if(5==this.flyBankerIndex){this.flyBankerIndex=0,clearInterval(this.flyIntval_4),this.playClickSound(QZNNUtil.getInstance().getSoundEffect(7));for(var t=this.zijipokes,e=0;5>e;e++){var i=this["_puke_"+e];i.source="qznn_card_100",egret.Tween.get(i).to({scaleX:0},400).call(function(){this[0].source="qznn_card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},400)},[i,t[e]]);var n=t[e].toString();n=n.slice(1);var s=parseInt(n);s>10&&(s=10),this.score[e]=s;var r=this["bankerCard_"+e];r.source="qznn_card_100"}return void(this.startCardRotation=!0)}this._pingpai.visible=!0,this.texiao.play();var o=this["_puke_"+this.flyBankerIndex];o.x=xlLib.Global.screenWidth/2,o.y=xlLib.Global.screenHeight/2,o.source="qznn_card_100",o.anchorOffsetX=o.width/2,o.x+=o.width/2,this.orginPinCardPos,o.alpha=0,o.scaleX=.2,o.scaleY=.2;var a=this.orginPinCardPos[this.flyBankerIndex];this.playClickSound(QZNNUtil.getInstance().getSoundEffect(6));var h=this.orginZhanCardPos[0];egret.Tween.get(o).to({x:h.x,y:h.y,alpha:.6,scaleX:1,scaleY:1},this.flyPaiTime,egret.Ease.sineIn).to({x:a.x,y:a.y,alpha:1},this.flyPaiTime,egret.Ease.sineOut),this.flyBankerIndex++},e.prototype.playerCardRotation=function(){this._tishi.visible=!1,this.pinpaiType.visible=!1;for(var t=0;t>3;t++)this["pinpaiType"+t].visible=!1;if(this.effectPlayerIndex==this.cardResult.pokes.length-1)return clearInterval(this.interval),this.effectPlayerIndex=0,void this.bankerCardRotation();this.playClickSound(QZNNUtil.getInstance().getSoundEffect(7));for(var e=this.cardResult.pokes,i=this.effectPlayerIndex,n=0;5>n;n++){var s=this["grpCard_"+i+"_"+n];0==i&&this.grpCard.setChildIndex(s,n),s.source="qznn_card_100",egret.Tween.get(s).to({scaleX:0},300).call(function(){this[0].source="qznn_card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},300)},[s,e[i+1].value[n]])}if(this.addNiuniuBei(this["labCardType"+i],e[i+1].type),this.playClickSound(QZNNUtil.getInstance().getCardMusicType(e[i+1].type)),this["labCardType"+i].visible=!0,this["labCardType"+i].width=98,this["labCardType"+i].height=44,0!=e[i+1].type)for(var n=0;5>n;n++){var s=this["grpCard_"+i+"_"+n];3>n?egret.Tween.get(s).wait(700).to({x:s.x-10},100):egret.Tween.get(s).wait(700).to({x:s.x+10},100)}this.effectPlayerIndex++},e.prototype.addNiuniuBei=function(t,e){var i=QZNNUtil.getInstance().getCardBmpUrl(e);t.removeChildren();var n;0==e?(n=new WuNiuNBei,n.x=80,n.y-=80):10>e?(n=new NiuNBei,n.x=80,n.y-=80):(10==e?this.addNNEff():13==e&&this.addWhnEff(),n=new TenshuNiuBei,n.x=80,n.y=30),n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,t.addChild(n);var s=i;n.play(s)},e.prototype.bankerCardRotation=function(){this.pinpaiType.visible=!1,this.playClickSound(QZNNUtil.getInstance().getSoundEffect(7));for(var t=this.cardResult.pokes[0],e=0;5>e;e++){var i=this["bankerCard_"+e];i.source="qznn_card_100",egret.Tween.get(i).to({scaleX:0},300).call(function(){this[0].source="qznn_card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},300)},[i,t.value[e]])}if(this.addNiuniuBei(this.labCardTypeBanker,t.type),this.playClickSound(QZNNUtil.getInstance().getCardMusicType(t.type)),this.labCardTypeBanker.visible=!0,this.labCardTypeBanker.width=98,this.labCardTypeBanker.height=44,0!=t.type)for(var e=0;5>e;e++){var i=this["bankerCard_"+e];3>e?egret.Tween.get(i).wait(700).to({x:i.x-10},100):egret.Tween.get(i).wait(700).to({x:i.x+10},100)}this.interval=setInterval(this.blinkEffect.bind(this),500)},e.prototype.blinkEffect=function(){clearInterval(this.interval);for(var t=this.cardResult.result,e=0;4>e;e++)1==t[e];this.interval=setInterval(this.cardEffectEnd.bind(this),2e3)},e.prototype.cardEffectEnd=function(){clearInterval(this.interval);var t=this.cardResult,e=!1;1==t.result[0]&&1==t.result[1]&&1==t.result[2]&&1==t.result[3]&&(e=!0),0==t.result[0]&&0==t.result[1]&&0==t.result[2]&&0==t.result[3]&&(e=!0),this.playClickSound(QZNNUtil.getInstance().getSoundEffect(9));for(var i={x:this.orginPlayerHeadPos[this.zhaungIndex].x,y:this.orginPlayerHeadPos[this.zhaungIndex].y},n={x:0,y:0},s=0;s<this.cardResult.pokes.length;s++)n.x=this.orginPlayerHeadPos[s].x,n.y=this.orginPlayerHeadPos[s].y,1==this.cardResult.pokes[s].win?this.updatePlayerGold(s,this.cardResult.pokes[s].score,!0):this.updatePlayerGold(s,this.cardResult.pokes[s].score,!1),this.zhaungIndex!=s&&(1==this.cardResult.pokes[s].win?EffectUtils.coinsFly_2(this,i.x,i.y,n.x,n.y):EffectUtils.coinsFly_2(this,n.x,n.y,i.x,i.y));for(var s=0;s<this.cardResult.pokes.length;s++)this.suiCoreGameEndScoreResultEffect(s,this["grpHead"+s],this.cardResult.pokes[s].win,this.cardResult.pokes[s].score);this.interval=setInterval(this.victoryEffect.bind(this),2e3)},e.prototype.updatePlayerGold=function(t,e,i){var n=UserInfo.getInstance().playes[t].goldcoins;1==i?n+=e:n-=e,UserInfo.getInstance().playes[t].goldcoins=n,0==t?this.labelGold0.text=GlobalFunction.Formatconversion(n):(this["grpHead"+t],this.setGold(t,n))},e.prototype.setGold=function(t,e){this["labelGold"+t].text=GlobalFunction.Formatconversion(e)},e.prototype.suiCoreGameEndScoreResultEffect=function(t,e,i,n){if(this._zhuang_img0.visible=!1,this._zhuang_img1.visible=!1,this._zhuang_img2.visible=!1,this._zhuang_img3.visible=!1,i)if(t%2==0){var s=new QZNNHEff;s.x=-84,s.y=-72,s.play();var r=new QZNNHHeadEff;r.x=-84,r.y=-72,r.play(),e.addChild(s),e.addChild(r),this.win_eff_err.push(s),this.win_eff_err.push(r)}else{var o=new QZNNVEff;o.x=-70,o.y=-70,o.play();var a=new QZNNVHeadEff;a.x=-70,a.y=-70,a.play(),e.addChild(o),e.addChild(a),this.win_eff_err.push(o),this.win_eff_err.push(a)}var h=new eui.BitmapLabel;h.textAlign=egret.HorizontalAlign.CENTER;var l="";1==i?(h.font="qznn_win_fnt",h.text="0",l="+"):(h.font="qznn_lose_fnt",h.text="0",l="-"),0==t?(h.x=0,h.y=-40,h.textAlign=egret.HorizontalAlign.RIGHT):1==t?(h.x=30,h.y=-40):2==t?(h.x=90,h.y=-40):3==t&&(h.x=30,h.y=-40),h.scaleX=1,h.scaleY=1,e.addChild(h),this.turn_score_arr.push(h),uiCore.LabelEffect.instance.playEffect(h,{time:3e3,initNum:1,num:n/100,regulator:50},l)},e.prototype.victoryEffect=function(){clearInterval(this.interval),this.interval=0,1==this.game_result?(this.addNNVictoryEffect(),this.game_result=0):2==this.game_result?(this.addTongsha(),this.game_result=0):3==this.game_result&&(this.addTongpei(),this.game_result=0),this._jixu.visible=!0,UserInfo.getInstance().isGameStart=!1},e.prototype.resetGame=function(){this.initData();for(var t=0;5>t;t++){var e=this["bankerCard_"+t];e.source="",egret.Tween.removeTweens(e),e.x=this.orginBankerCardPos[t].x,e.y=this.orginBankerCardPos[t].y;var i=this["_puke_"+t];i.source="",egret.Tween.removeTweens(i)}this._pingpai.visible=!1,this.texiao.stop(),this._my_pai.visible=!1,this.labCardTypeBanker.visible=!1;for(var n=0;n<this.cardResult.pokes.length-1;n++){this["labCardType"+n].visible=!1;for(var s=0;5>s;s++){var r=this["grpCard_"+n+"_"+s];r.source="",egret.Tween.removeTweens(r)}this["_xiabei_"+n].visible=!1,this["_xiabei_0_"+n].visible=!1,this["_whether_"+n].visible=!1,this["_img_"+n].visible=!1}this.selfbetsNum={1:0,2:0,3:0,4:0},this.poolBetArray={1:0,2:0,3:0,4:0},this.coinsNumArr={1:0,2:0,3:0,4:0},this._btn_begin.visible=!0,this.isCanBets=!0,this.isBets=!1,this.resultCaijin=0,this.isCoinsReturn=!0,this.isCardEffectShow=!1,this.removeEff(this.nnbankerEff),this.arr=[null,null,null],this.score=[0,0,0,0,0],this.score1=[0,0,0,0,0],this.arr_fen=[0,0,0],this.arr_fen1=[0,0,0],this.game_result=0,this.niu=0,this.time=0,this._jixu.visible=!1,this.startCardRotation=!1,this.zhaungIndex=0,this.zijipokes=[0,0,0,0,0],this.multipleList=[0,0,0,0,0],this._btn_switch.visible=!1,this._btn_double_1.visible=!1,this._btn_double_2.visible=!1,this._btn_double_3.visible=!1,this._btn_double_4.visible=!1,this._btn_double_5.visible=!1,this.beishu_0.visible=!1,this.beishu_1.visible=!1,this.beishu_2.visible=!1,this.beishu_3.visible=!1,this.beishu_4.visible=!1,this.beishu_0_0.visible=!1,this.beishu_0_1.visible=!1,this.beishu_0_2.visible=!1,this.beishu_0_3.visible=!1,this.beishu_0_4.visible=!1,this.pinpaiType.visible=!1,this.pinpaiType0.visible=!1,this.pinpaiType1.visible=!1,this.pinpaiType2.visible=!1,this.grpCountdown.visible=!0,this._xiabei_0.x=295.61,this._xiabei_1.x=368.16,this._xiabei_2.x=530.48,this._xiabei_3.x=1146.78,this.grpHead0.visible=!1,this.grpHead1.visible=!1,this.grpHead2.visible=!1,this.grpHead3.visible=!1,this._zhuang_img0.visible=!1,this._zhuang_img1.visible=!1,this._zhuang_img2.visible=!1,this._zhuang_img3.visible=!1,this._tishi.visible=!1;for(var o=0;o<this.turn_score_arr.length;o++)this.turn_score_arr[o].parent.removeChild(this.turn_score_arr[o]);this.turn_score_arr=[];for(var a=0;a<this.win_eff_err.length;a++)this.win_eff_err[a].stop(),this.win_eff_err[a].parent.removeChild(this.win_eff_err[a]);this.win_eff_err=[];for(var h=0;h<this.goldFlyAnimatorarr.length;h++)this.goldFlyAnimatorarr[h].stop(),this.goldFlyAnimatorarr[h].parent.removeChild(this.goldFlyAnimatorarr[h]);this.goldFlyAnimatorarr=[],this.tongsha&&this.tongsha.stop(),this.niuniuTX&&(this.niuniuTX.stop(),this.niuniuTX.parent.removeChild(this.niuniuTX)),this.tongpei&&this.tongpei.stop(),this.niuniukuang&&(this.niuniukuang.stop(),this.niuniukuang.parent.removeChild(this.niuniukuang),this.niuniukuang=null),this.niuniukuang1&&(this.niuniukuang1.stop(),this.niuniukuang1.parent.removeChild(this.niuniukuang1),this.niuniukuang1=null)},e.prototype.removeEff=function(t){t&&(t.stop(),t.parent&&t.parent.removeChild(t))},e.prototype.removeNNbankerEff=function(){this.nnbankerEff&&(this.nnbankerEff.stop(),this.nnbankerEff.parent&&this.nnbankerEff.parent.removeChild(this.nnbankerEff))},e.prototype.getHistoryCallback=function(t){for(var e=t.data,i=0;10>i;i++)if(i<e.length){this["grpHistroy"+i].visible=!0;for(var n=e[i],s=0;4>s;s++)this["grpHistroy"+s+"_"+i].source=1==n[s]?"qznn_a8":"qznn_a7"}else this["grpHistroy"+i].visible=!1},e.prototype.playClickSound=function(t){xlLib.SoundMgr.instance.playSound(t+"_mp3")},e.prototype.Onquit=function(){if(this.playClickSound(QZNNUtil.getInstance().getSoundEffect(10)),UserInfo.getInstance().isGameStart)return void xlLib.PopUpMgr.addPopUp(Hint,this,!0,!0,null,1);xlLib.SoundMgr.instance.stopBgMusic();var t=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(t),xlLib.SceneMgr.instance.changeScene(Lobby)},e.prototype.destroy=function(){this._btn_begin.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_buqiang.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._youniu.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._meiniu.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.Onquit,this),EventUtil.removeEventListener(EventConst.onUserShowOrderUpdate,this.onShowOrder,this),EventUtil.removeEventListener(EventConst.players,this.addPlayers,this),EventUtil.removeEventListener(EventConst.onNewUserEnterGame,this.playerJoinRoom,this),EventUtil.removeEventListener(EventConst.onGameStatusChange,this.GameStatus,this),EventUtil.removeEventListener(EventConst.onUserBetOrderUpdate,this.OnBetUpdate,this),EventUtil.removeEventListener(EventConst.onUserHogOrderUpdate,this.OnHogUpdate,this),null!=this.cdTimer&&this.cdTimer.removeEventListener(egret.TimerEvent.TIMER,this.clearTimer,this),this.removeEff(this.nnbankerEff)},e}(eui.Component);__reflect(QZNNView.prototype,"QZNNView");var TenshuNiuBei=function(t){function e(){var e=t.call(this)||this;return e.skinName="TenshuNiuBeiSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.teshuniu.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.teshuniu.stop()},e.prototype.play=function(t){void 0===t&&(t=""),this.image0.source=t,this.teshuniu.play(0)},e.prototype.stop=function(){this.teshuniu.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(TenshuNiuBei.prototype,"TenshuNiuBei",["INiuNiuBetEffect"]);var WuNiuNBei=function(t){function e(){var e=t.call(this)||this;return e.skinName="WuNiuNBeiSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.niuniuanmin.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.niuniuanmin.stop()},e.prototype.play=function(t){void 0===t&&(t=""),this.niuniuanmin.play(0)},e.prototype.stop=function(){this.niuniuanmin.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(WuNiuNBei.prototype,"WuNiuNBei",["INiuNiuBetEffect"]);var ZhuangIconTX=function(t){function e(){var e=t.call(this)||this;return e.skinName="ZhuangIconSkin",e
}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.zhuangjia.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.zhuangjia.stop()},e.prototype.play=function(){this.zhuangjia.play(0)},e.prototype.stop=function(){this.zhuangjia.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(ZhuangIconTX.prototype,"ZhuangIconTX");var ErBaGangroomEff=function(t){function e(){var e=t.call(this)||this;return e.skinName="ErBaGangroomEffSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.dicheng.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.wangzhefang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.tiyanfang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.chujifang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.zhongjifang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.gaojifang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.zhizunfang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){t.target.play(0)},e.prototype.play=function(){this.dicheng.play(0),this.wangzhefang.play(0),this.tiyanfang.play(0),this.chujifang.play(0),this.zhongjifang.play(0),this.gaojifang.play(0),this.zhizunfang.play(0)},e.prototype.stop=function(){this.dicheng.stop(),this.wangzhefang.stop(),this.tiyanfang.stop(),this.chujifang.stop(),this.zhongjifang.stop(),this.gaojifang.stop(),this.zhizunfang.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(ErBaGangroomEff.prototype,"ErBaGangroomEff");var ErBaGangroomView=function(t){function e(){var e=t.call(this)||this;e.skinName="ErBaGangroomViewSkin";var i=["qznn_bg_mp3"];return xlLib.SoundMgr.instance.playBgMusic(i),e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this._coin_label.text=GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins),this._btn_cjc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGame,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.GameStatus,this),this.ebgroomeff=new ErBaGangroomEff,this.addChildAt(this.ebgroomeff,0),this.ebgroomeff.play()},e.prototype.GameStatus=function(t){200==t._obj.code&&xlLib.SceneMgr.instance.changeScene(RBGScene)},e.prototype.onEnterGame=function(){if(this.playClickSound(),this.gameIconData){var t=UserInfo.getInstance().getGameDataByindex(this.gameIconData.game),e=t.getTypeDataByindex(this.gameIconData.type),i=e.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:i.id};xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,n,function(t){},this)}},e.prototype.setGameIconData=function(t){this.gameIconData=t},e.prototype.dispose=function(){var t=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(t),xlLib.PopUpMgr.removePopUp(this,1)},e.prototype.playClickSound=function(){xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.destroy=function(){xlLib.DisplayUtils.destoryDragonBonesArmature(this.playerDb,"newAnimation"),this.ebgroomeff.stop(),this.gameIconData=null,this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),EventUtil.removeEventListener(EventConst.onGameStatusChange,this.GameStatus,this),this._btn_cjc.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGame,this)},e}(eui.Component);__reflect(ErBaGangroomView.prototype,"ErBaGangroomView",["eui.UIComponent","egret.DisplayObject"]);var RBGHead=function(t){function e(){var e=t.call(this)||this;return e.skinName="RBGHeadSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this)},e.prototype.setUserInfo=function(t,e,i){this.imghead.source=i,this.labelName.text=t,this.labelGold.text=e},e.prototype.setZhuang=function(t){this.img_zhuang.visible=t},e.prototype.setZhuangEf=function(t){this._img_zhuang_ef.visible=t},e.prototype.setGold=function(t){this.labelGold.text=t+""},e.prototype.destroy=function(){},e}(eui.Component);__reflect(RBGHead.prototype,"RBGHead");var RBGMahjong=function(t){function e(){var e=t.call(this)||this;return e.skinName="RBGMahjongSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this)},e.prototype.setPai=function(t){null!=t?this._mahjong_card.source="mahjong_"+t+"_png":this._mahjong_card.source=""},e.prototype.setAnPai=function(t){1==t?this._mahjong_cover.visible=!0:this._mahjong_cover.visible=!1},e.prototype.destroy=function(){},e}(eui.Component);__reflect(RBGMahjong.prototype,"RBGMahjong");var RBGScene=function(t){function e(){var e=t.call(this)||this;return e.RBGView=new RBGView,e.uiLayer.addChild(e.RBGView),e}return __extends(e,t),e.prototype.destroy=function(){this.RBGView.destroy(),t.prototype.destroy.call(this)},e.prototype.resize=function(){this.RBGView&&this.RBGView.resize()},e}(xlLib.GameScene);__reflect(RBGScene.prototype,"RBGScene");var RBGSEff=function(t){function e(){var e=t.call(this)||this;return e.skinName="RBGSEffSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.kaishiyouxidonghua.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.kaishiyouxidonghua.stop()},e.prototype.play=function(){this.kaishiyouxidonghua.play(0)},e.prototype.stop=function(){this.kaishiyouxidonghua.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(RBGSEff.prototype,"RBGSEff");var RBGUtil=function(){function t(){if(t.instance)throw new Error("Instance is alreally exist")}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getBetNumber=function(t){switch(t){case 0:return Math.pow(10,4);case 1:return Math.pow(10,5);case 2:return Math.pow(10,6);case 3:return Math.pow(10,7);case 4:return 5*Math.pow(10,7);case 5:return Math.pow(10,8)}},t.prototype.getMsgSource=function(t){var e="";switch(t){case 2:e="nn.d2";break;case 3:e="nn.d3";break;case 4:e="nn.d4";break;case 5:e="nn.d5"}return e},t.prototype.getCoinsPos=function(t){var e=new egret.Point;switch(t){case 1:e.x=195,e.y=523;break;case 2:e.x=383,e.y=523;break;case 3:e.x=195,e.y=633;break;case 4:e.x=383,e.y=633}return e},t.prototype.getCardType2=function(t){switch(t){case 0:return"无牛";case 1:return"牛一";case 2:return"牛二";case 3:return"牛三";case 4:return"牛四";case 5:return"牛五";case 6:return"牛六";case 7:return"牛七";case 8:return"牛八";case 9:return"牛九";case 10:return"牛牛";case 11:return"四炸";case 12:return"五花牛";case 13:return"五小牛"}},t.prototype.getCardType=function(t){switch(t){case 0:return"nn.n1";case 1:return"nn.n2";case 2:return"nn.n3";case 3:return"nn.n4";case 4:return"nn.n5";case 5:return"nn.n6";case 6:return"nn.n7";case 7:return"nn.n8";case 8:return"nn.n9";case 9:return"nn.n10";case 10:return"nn.n11";case 11:return"nn.n13";case 12:return"nn.n14";case 13:return"nn.n12"}},t.prototype.getCardMusicType=function(t){switch(t){case 0:return"nn.niu0";case 1:return"nn.niu1";case 2:return"nn.niu2";case 3:return"nn.niu3";case 4:return"nn.niu4";case 5:return"nn.niu5";case 6:return"nn.niu6";case 7:return"nn.niu7";case 8:return"nn.niu8";case 9:return"nn.niu9";case 10:return"nn.niuniu";case 11:return"nn.playNiuZhadan";case 12:return"nn.playNiu5hua";case 13:return"nn.playNiuXiao5"}},t.prototype.coinsType=function(t,e){var i="";0==e?i="bar_chip_10_png":1==e?i="bar_chip_50_png":2==e?i="bar_chip_100_png":3==e?i="bar_chip_500_png":4==e?i="bar_chip_2000_png":5==e&&(i="bar_chip_10000_png");var n=new eui.Image(i);return n},t.prototype.coinPos=function(t){var e=new egret.Point;switch(t){case 0:e.x=737,e.y=635;break;case 1:e.x=100,e.y=350;break;case 2:e.x=737,e.y=115;break;case 3:e.x=1365,e.y=350}return e},t.prototype.getSoundEffect=function(t){switch(t){case 0:return"bgm";case 1:return"nn.jackpot";case 2:return"nn.start";case 3:return"nn.end";case 4:return"nn.ts";case 5:return"nn.tp";case 6:return"nn.dealCard";case 7:return"nn.openCard";case 8:return"nn.stake";case 9:return"gold_diaoluo"}},t.instance=null,t}();__reflect(RBGUtil.prototype,"RBGUtil");var RBGVEff=function(t){function e(){var e=t.call(this)||this;return e.skinName="RBGVEffSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.kaishi.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.kaishi.stop()},e.prototype.play=function(){this.kaishi.play(0)},e.prototype.stop=function(){this.kaishi.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(RBGVEff.prototype,"RBGVEff");var RBGView=function(t){function e(){var e=t.call(this)||this;return e.cardResult=null,e.orginPlayerCardPos=[],e.orginAnCardPos=[],e.cdNum=5,e.zhaungIndex=0,e.qz_player_arr=[],e._coin_arr=[],e.gamePlayIndex=-1,e.waitTime=0,e.turn0=0,e.timeNum=0,e.bet_data=[],e.random_arr=[],e.diceInterval=-1,e.numTime=0,e.flyIntval=0,e.flyIndex0=0,e.flyIndex1=0,e.effectPlayerIndex0=0,e.effectPlayerIndex1=0,e.timing=-1,e.skinName="RBGViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.getOrginCardPos(),this.init_desktop(),this.wait_start(),this.addEvent(),this.initData(),this.setCountdown()},e.prototype.initData=function(){this.grpCoins.touchEnabled=!1,this.grpResult.visible=!1,this.grpCard.visible=!0,this._btn_switch.visible=!1,this._group_qiang.visible=!1,this.zhaungIndex=0,this._coin_arr=[],this.qz_player_arr=[],this.cardResult=null,this.cdNum=5,this._group_bar_histroy.visible=!0,this._continue_btn_1.visible=!1,this._continue_img_1.visible=!1,this._continue_btn_0.visible=!1,this._continue_img_0.visible=!1,this._close_btn.visible=!1,this._group_settlement.visible=!1,this._rect_re_touch.touchEnabled=!1},e.prototype.getOrginCardPos=function(){for(var t=0;4>t;t++){for(var e=[],i=[],n=0;2>n;n++){var s=this["grpCard_"+t+"_"+n];s.setPai(null),s.setAnPai(!0),s.visible=!1,s.anchorOffsetX=s.width/2,s.x+=s.width/2;var r=new egret.Point;r.x=s.x,r.y=s.y,e[n]=r;var o=this["_card_an_"+t+"_"+n];o.source="",o.visible=!1,o.anchorOffsetX=o.width/2,o.x+=o.width/2;var a=new egret.Point;a.x=o.x,a.y=o.y,i[n]=a}this.orginPlayerCardPos[t]=e,this.orginAnCardPos[t]=i}},e.prototype.init_desktop=function(){for(var t=0;4>t;t++){this["labCardType"+t].visible=!1,this["labCardType_bg_"+t].visible=!1;for(var e=0;2>e;e++){var i=this["grpCard_"+t+"_"+e];i.setPai(null),i.setAnPai(!0),i.visible=!1}this["grpHead"+t].setUserInfo("","",""),this["_img_zx_"+t].visible=!1,this["_group_qiang_point_"+t].visible=!1,this["_group_bet_point_"+t].visible=!1,this["_buqiang_point_"+t].visible=!1}this.grpCountdown.visible=!1,this.labCountdown.text="5"},e.prototype.wait_start=function(){this._group_wait.visible=!0,this.waitTime=0,this.gamePlayIndex=setInterval(this.waitLabelTurn.bind(this),600)},e.prototype.waitLabelTurn=function(){var t="游戏即将开始，请耐心等待";0==this.waitTime?t=t:1==this.waitTime?t+=".":2==this.waitTime?t+="..":3==this.waitTime&&(t+="..."),this._label_wait.text=t,this.waitTime++,this.waitTime>3&&(this.waitTime=0)},e.prototype.resize=function(){},e.prototype.onClick=function(t){t.target==this._btn_buqiang?this.sendamessage(EventConst.erbagang_hog,0):t.target==this._btn_qiang_1?this.sendamessage(EventConst.erbagang_hog,3):t.target==this._btn_qiang_2?this.sendamessage(EventConst.erbagang_hog,68):t.target==this._btn_qiang_3?this.sendamessage(EventConst.erbagang_hog,134):t.target==this._btn_qiang_4?this.sendamessage(EventConst.erbagang_hog,200):t.target==this._btn_double_1?(this.sendamessage1(EventConst.erbagang_bet,1),this._btn_switch.visible=!1):t.target==this._btn_double_2?(this.sendamessage1(EventConst.erbagang_bet,16),this._btn_switch.visible=!1):t.target==this._btn_double_3?(this.sendamessage1(EventConst.erbagang_bet,33),this._btn_switch.visible=!1):t.target==this._btn_double_4?(this.sendamessage1(EventConst.erbagang_bet,50),this._btn_switch.visible=!1):t.target==this._btn_double_5?(this.sendamessage1(EventConst.erbagang_bet,66),this._btn_switch.visible=!1):t.target==this.btnCardHistroy?0==this._group_bar_histroy.visible?this._group_bar_histroy.visible=!0:this._group_bar_histroy.visible=!1:t.target==this._rect_re_touch?(this._rect_re_touch.touchEnabled=!1,this._group_settlement.visible=!1,this._continue_btn_1.visible=!1,this._continue_img_1.visible=!1,this._continue_btn_0.visible=!0,this._continue_img_0.visible=!0,this._close_btn.visible=!1):t.target==this._continue_btn_1?this.onRestartGame():t.target==this._continue_btn_0&&this.onRestartGame(),EffectUtils.playButtonEffect(t.target,function(t){},this)},e.prototype.sendamessage=function(t,e){var i={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,data:e};xlLib.WebSocketMgr.getInstance().send(t,i,function(t){},this),this._group_qiang.visible=!1},e.prototype.sendamessage1=function(t,e){var i={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,data:e};xlLib.WebSocketMgr.getInstance().send(t,i,function(t){},this)},e.prototype.addEvent=function(){this._btn_double_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_buqiang.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._rect_re_touch.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._continue_btn_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._continue_btn_0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnCardHistroy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Onquit,this),this._btn_ret.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Onquit,this),this._close_btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Onquit,this),EventUtil.addEventListener(EventConst.players,this.addPlayers,this),EventUtil.addEventListener(EventConst.onNewUserEnterGame,this.playerJoinRoom,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.GameStatus,this),EventUtil.addEventListener(EventConst.onUserBetOrderUpdate,this.OnBetUpdate,this),EventUtil.addEventListener(EventConst.onUserHogOrderUpdate,this.OnHogUpdate,this)},e.prototype.GameStatus=function(t){switch(t._obj.roomStatus){case 0:console.log("未准备");break;case 1:console.log("已准备");break;case 2:this.gameStart(t);break;case 3:this.onHogBack(t);break;case 4:this.onDingzhuang(t);break;case 5:this.onbetBack(t);break;case 6:this.gameResult(t);break;case 7:this.showGameResult(t)}},e.prototype.gameStart=function(t){UserInfo.getInstance().isGameStart=!0,this.gameStartEff||(this.gameStartEff=new RBGSEff,this.gameStartEff.anchorOffsetX=this.gameStartEff.width/2,this.gameStartEff.anchorOffsetY=this.gameStartEff.height/2,this.gameStartEff.x=xlLib.Global.screenWidth/2,this.gameStartEff.y=xlLib.Global.screenHeight/2),this.gameStartEff.play(),this.gameStartEff.touchEnabled=!1,this.gameStartEff.touchChildren=!1,this.addChild(this.gameStartEff),clearInterval(this.gamePlayIndex),this.waitTime=0,this._group_wait.visible=!1},e.prototype.onHogBack=function(t){this.startQiangZhuang()},e.prototype.startQiangZhuang=function(){this._start_qz.visible=!0,this._group_qiang.visible=!0;for(var t=1;4>t;t++){this["_bar_thinking_group_"+t].visible=!0;var e=this["_bar_thinking_"+t+"_0"],i=this["_bar_thinking_"+t+"_1"],n=this["_bar_thinking_"+t+"_2"];this.showThinking(e,i,n)}this.gamePlayIndex=setInterval(this.updateTime.bind(this),600)},e.prototype.updateTime=function(){clearInterval(this.gamePlayIndex),this._start_qz.visible=!1,this._start_xz.visible=!1,this.grpCountdown.visible=!0,this.cdNum=5,this.labCountdown.text="5",this.cdTimer.start()},e.prototype.OnHogUpdate=function(t){var e=UserInfo.getInstance().findSeatNumber(t._obj.index);if(UserInfo.getInstance().uid==t._obj.userid)this._group_qiang.visible=!1;else{this["_bar_thinking_group_"+e].visible=!1;for(var i=0;3>i;i++)egret.Tween.removeTweens(this["_bar_thinking_"+e+"_"+i])}var n=null;0==t._obj.hogOrBet?n=this["_buqiang_point_"+e]:(n=this["_group_qiang_point_"+e],n.visible=!0,this["_label_qiang_"+e].text=t._obj.hogOrBet+"",this.qz_player_arr.push(e)),this.setGrabBanker(n)},e.prototype.onDingzhuang=function(t){this.acceptbanker(t)},e.prototype.turnBankerShow=function(){for(var t=0;4>t;t++)this["grpHead"+t].setZhuangEf(!1);if(this.random_arr.length==this.timeNum)return this.random_arr=[],this.timeNum=0,clearInterval(this.turn0),void this.setbanker(this.bet_data);var e=this.random_arr[this.timeNum];this["grpHead"+this.qz_player_arr[e]].setZhuangEf(!0),this.playClickSound(QZNNUtil.getInstance().getSoundEffect(13)),this.timeNum++},e.prototype.acceptbanker=function(t){if(this.bet_data=[],this.bet_data=t,this.qz_player_arr.length>1){this.random_arr=[];for(var e=1e3,i=1;i>0;i++){var n=parseInt(Math.random()*this.qz_player_arr.length+"");if(n!=e&&(e=n,this.random_arr.push(n)),16==this.random_arr.length)break}this.turn0=0,this.timeNum=0,this.turn0=setInterval(this.turnBankerShow.bind(this),150)}else this.setbanker(t)},e.prototype.setbanker=function(t){this.qz_player_arr=[],this.bet_data=[];for(var e=0;4>e;e++)this["_buqiang_point_"+e].visible=!1,this["_group_qiang_point_"+e].visible=!1;var i=UserInfo.getInstance().findSeatNumber(t._obj.banker.index);this["grpHead"+i].setZhuang(!0),this.zhaungIndex=i,this.dingZhuangEff||(this.dingZhuangEff=new RBGVEff,this.dingZhuangEff.anchorOffsetX=this.dingZhuangEff.width/2,this.dingZhuangEff.anchorOffsetY=this.dingZhuangEff.height/2,this.dingZhuangEff.x=this["grpHead"+i].x-10,this.dingZhuangEff.y=this["grpHead"+i].y-40),this.dingZhuangEff.play(),this.addChild(this.dingZhuangEff)},e.prototype.onbetBack=function(t){this._btn_switch.visible=!0,this._start_xz.visible=!0;for(var e=1;4>e;e++)if(e!=this.zhaungIndex){this["_bar_thinking_group_"+e].visible=!0;var i=this["_bar_thinking_"+e+"_0"],n=this["_bar_thinking_"+e+"_1"],s=this["_bar_thinking_"+e+"_2"];this.showThinking(i,n,s)}this.gamePlayIndex=setInterval(this.updateTime.bind(this),600)},e.prototype.OnBetUpdate=function(t){var e=UserInfo.getInstance().findSeatNumber(t._obj.index);if(UserInfo.getInstance().uid==t._obj.userid)this._btn_switch.visible=!1;else{this["_bar_thinking_group_"+e].visible=!1;for(var i=0;3>i;i++)egret.Tween.removeTweens(this["_bar_thinking_"+e+"_"+i])}var n=this["_group_bet_point_"+e];n.visible=!0,this["_label_bet_"+e].text=t._obj.hogOrBet+"",this.setGrabBanker(n),this.showCoins(e)},e.prototype.showCoins=function(t){for(var e=parseInt(10*Math.random()+30+""),i=0;e>i;i++){var n=parseInt(6*Math.random()+""),s=RBGUtil.getInstance().coinsType(t,n);s.alpha=0,s.scaleX=.2,s.scaleY=.2;var r=RBGUtil.getInstance().coinPos(t);s.x=r.x,s.y=r.y,this.grpCoins.addChild(s),this._coin_arr.push(s);var o=this._group_coin_area.x+parseInt(400*Math.random()+""),a=this._group_coin_area.y+parseInt(140*Math.random()+"");egret.Tween.get(s).wait(80*i).to({alpha:1},1).to({x:o,y:a,scaleX:1,scaleY:1},100).call(function(){egret.Tween.removeTweens(s)},[s])}},e.prototype.gameResult=function(t){this.cardResult=t._obj,this.gamePlayIndex=setInterval(this.shakeDice.bind(this),5e3)},e.prototype.shakeDice=function(){clearInterval(this.gamePlayIndex),this._group_bz.visible=!0,this.diceInterval=setInterval(this.setDiceAnimation.bind(this),200)},e.prototype.setGrabBanker=function(t){t.visible=!0,t.alpha=.8,egret.Tween.get(t).to({scaleX:1.4,scaleY:1.4,alpha:1},150).to({scaleX:.8,scaleY:.8,alpha:.8},100).to({scaleX:1,scaleY:1,alpha:1},100).call(function(){egret.Tween.removeTweens(t)},[t])},e.prototype.setBetScore=function(t){t.visible=!0,t.alpha=.8,egret.Tween.get(t).to({scaleX:1.4,scaleY:1.4,alpha:1},150).to({scaleX:.8,scaleY:.8,alpha:.8},100).to({scaleX:1,scaleY:1,alpha:1},100)},e.prototype.showThinking=function(t,e,i){t.alpha=0,e.alpha=0,i.alpha=0,egret.Tween.get(t,{loop:!0}).to({alpha:1},400).wait(400).to({alpha:0},400).wait(800),egret.Tween.get(e,{loop:!0}).wait(400).to({alpha:1},400).wait(400).to({alpha:0},400).wait(400),egret.Tween.get(i,{loop:!0}).wait(800).to({alpha:1},400).wait(400).to({alpha:0},400)},e.prototype.setCardType=function(t,e){e.alpha=.8,t.scaleX=t.scaleY=.5,egret.Tween.get(t).wait(600).call(function(){t.visible=!0},[t]).to({scaleX:1,scaleY:1},150).call(function(){egret.Tween.removeTweens(t)},[t]),egret.Tween.get(e).wait(600).call(function(){e.visible=!0},[e]).to({scaleX:1.4,scaleY:1.4,alpha:1},150).to({scaleX:.8,scaleY:.8,alpha:.8},100).to({scaleX:1,scaleY:1,alpha:1},100).call(function(){egret.Tween.removeTweens(e)},[e])},e.prototype.setFirstAnimation=function(t){t.visible=!0;var e=t.y,i=t.y+10;egret.Tween.get(t).to({y:i},300).to({y:e},300).to({y:i},300).to({y:e},300).to({y:i},300).to({y:e},300).to({y:i},300).call(function(){egret.Tween.removeTweens(t),t.visible=!1},[t]),this.gamePlayIndex=setInterval(this.startSendPai.bind(this),2e3)},e.prototype.startSendPai=function(){clearInterval(this.gamePlayIndex),this.gamePlayIndex=setInterval(this.cardEffect.bind(this),600)},e.prototype.setDiceAnimation=function(){8==this.numTime&&(clearInterval(this.diceInterval),this.playDiceResult()),this._dice_0.source="bar_sicbo_"+this.cardResult.dice[0]+"_png",this._dice_1.source="bar_sicbo_"+this.cardResult.dice[1]+"_png",this._img_bz.visible=!0,this._img_bz.rotation=0,egret.Tween.get(this._img_bz).to({rotation:20},50).to({rotation:0},50).to({rotation:-20},50).to({rotation:0},50),this.numTime++},e.prototype.playDiceResult=function(){var t=this._img_bz.verticalCenter;egret.Tween.get(this._img_bz).to({verticalCenter:t-10},150).to({verticalCenter:t},150).wait(100).call(function(){this._img_bz.visible=!1,this._img_bz_d.visible=!0,this._dice_0.visible=!0,this._dice_1.visible=!0,this._img_bz_g.visible=!0,this._img_bz_g.horizontalCenter=16,this._img_bz_g.verticalCenter=-102,this._img_bz_g.alpha=1,egret.Tween.get(this._img_bz_g).to({rotation:75,horizontalCenter:500,verticalCenter:-400},400).to({alpha:0},50)},this),this.diceInterval=setInterval(this.firstPlayer1.bind(this),1500)},e.prototype.firstPlayer1=function(){clearInterval(this.diceInterval),this._img_bz.visible=!1,this._img_bz_d.visible=!1,this._dice_0.visible=!1,this._dice_1.visible=!1,this._img_bz_g.visible=!1;var t=UserInfo.getInstance().findSeatNumber(this.cardResult.index);egret.Tween.removeTweens(this._img_bz),egret.Tween.removeTweens(this._img_bz_g),this.setFirstAnimation(this["_img_zx_"+t])},e.prototype.gameResultEff=function(){clearInterval(this.flyIntval),this.flyCoinByBanker()},e.prototype.flyCoinByBanker=function(){if(this._coin_arr!=[]){for(var t=this["grpHead"+this.zhaungIndex],e=function(e){var n=i._coin_arr[e];egret.Tween.get(n).to({x:t.x+t.width,y:t.y+t.height,scaleX:0,scaleY:0},300).call(function(){egret.Tween.removeTweens(n)},[n])},i=this,n=0;n<this._coin_arr.length;n++)e(n);this.flyIntval=setInterval(this.flyCoinByPlayer.bind(this),300)}},e.prototype.flyCoinByPlayer=function(){clearInterval(this.flyIntval);for(var t=0,e=[],i=0;4>i;i++)i!=this.zhaungIndex&&this.cardResult.players[i].win&&(t++,e.push(i));this.flyCoinAntion(e),this.flyIntval=setInterval(this.scoreJumpedOut.bind(this),350)},e.prototype.flyCoinAntion=function(t){if(1==t.length)for(var e=this["grpHead"+t[0]],i=0;i<this._coin_arr.length;i++){var n=this._coin_arr[i];n.scaleX=n.scaleY=.2,n.alpha=1,this.setAnimationByType(n,10*i,e.x-30,e.y+30,350)}else if(2==t.length)for(var s=this["grpHead"+t[0]],r=this["grpHead"+t[1]],o=parseInt(this._coin_arr.length/2+""),a=0,i=0;i<this._coin_arr.length;i++){var n=this._coin_arr[i];n.scaleX=n.scaleY=.2,n.alpha=1,o>i?this.setAnimationByType(n,10*i,s.x-30,s.y+30,350):(this.setAnimationByType(n,10*a,r.x-30,r.y+30,350),a++)}else if(3==t.length)for(var s=this["grpHead"+t[0]],r=this["grpHead"+t[1]],h=this["grpHead"+t[2]],l=parseInt(this._coin_arr.length/3+""),c=0,u=0,i=0;i<this._coin_arr.length;i++){var n=this._coin_arr[i];n.scaleX=n.scaleY=.2,n.alpha=1,l>i?this.setAnimationByType(n,10*i,s.x-30,s.y+30,350):i>=l&&2*l>i?(this.setAnimationByType(n,10*c,r.x-30,r.y+30,350),c++):(this.setAnimationByType(n,10*u,h.x-30,h.y+30,350),u++)}},e.prototype.setAnimationByType=function(t,e,i,n,s){egret.Tween.get(t).wait(e).to({alpha:1},1).to({x:i,y:n,scaleX:1,scaleY:1},s).call(function(){egret.Tween.removeTweens(t)},[t])},e.prototype.scoreJumpedOut=function(){clearInterval(this.flyIntval);for(var t=this.cardResult,e=function(e){var n=UserInfo.getInstance().findSeatNumber(t.players[e].index),s=i["grpHead"+n];s.setGold(t.players[e].balance);var r=new eui.BitmapLabel,o=new eui.Image;o.x=s.x-90,o.y=s.y+55,r.width=150,r.height=40,r.textAlign=egret.HorizontalAlign.CENTER,r.x=s.x-70,r.y=s.y+60,r.text="",i.addChild(o),i.addChild(r);var a="";t.players[e].win?(r.font="bar_plus_font_fnt",a="+",o.source="bar_plus_bg_png"):(r.font="bar_reduce_font_fnt",a="-",o.source="bar_reduce_bg_png"),r.text=a+t.players[e].dealGold,r.scaleX=r.scaleY=.2,r.alpha=0,o.scaleX=o.scaleY=.2,o.alpha=0,egret.Tween.get(r).wait(1e3).to({scaleX:1,scaleY:1,alpha:1},200).to({y:r.y-170},200).wait(1e3).call(function(){egret.Tween.removeTweens(r),r.parent.removeChild(r)},[r]),egret.Tween.get(o).wait(1e3).to({scaleX:1,scaleY:1,alpha:1},200).to({y:o.y-170},200).wait(1e3).call(function(){egret.Tween.removeTweens(o),o.parent.removeChild(o)},[o])},i=this,n=0;4>n;n++)e(n)},e.prototype.addPlayers=function(t){for(var e=0;e<UserInfo.getInstance().playes.length;e++)null!=t._obj.player[e]?this["grpHead"+e].setUserInfo(UserInfo.getInstance().playes[e].username,UserInfo.getInstance().playes[e].goldcoins,"women6_png"):this["grpHead"+e].setUserInfo("","","")},e.prototype.playerJoinRoom=function(t){t._obj.player.id==UserInfo.getInstance().myPlayer.id||this["grpHead"+t._obj.player.index].setUserInfo(t._obj.player.username,t._obj.player.goldcoins,"women6_png")},e.prototype.setCountdown=function(){this.cdTimer=new egret.Timer(1e3),this.cdTimer.addEventListener(egret.TimerEvent.TIMER,this.clacTimer,this)},e.prototype.clacTimer=function(){this.cdNum>0?this.cdNum--:(this.cdTimer.stop(),this.cdNum=0,this.grpCountdown.visible=!1,this._group_qiang.visible=!1,this._btn_switch.visible=!1),this.labCountdown.text=this.cdNum+""},e.prototype.setGameResult=function(t){this.cardResult=t},e.prototype.cardEffect=function(){clearInterval(this.gamePlayIndex);var t=UserInfo.getInstance().findSeatNumber(this.cardResult.index);this.initPaiPos(t),this.flyIntval=setInterval(this.playCardFly.bind(this),180)},e.prototype.initPaiPos=function(t){for(var e=0;4>e;e++)for(var i=0;2>i;i++){var n=0;n=t>=e?t-e:4-e+t;var s=this["grpCard_"+n+"_"+i];s.setPai(null),s.setAnPai(!0),s.visible=!0;var r=this.orginAnCardPos[e][i];s.x=r.x,s.y=r.y,s.anchorOffsetX=s.width/2,s.x+=s.width/2}this.flyIndex0=t,this.flyIndex1=0,this.effectPlayerIndex0=t,this.effectPlayerIndex1=0},e.prototype.playCardFly=function(){if(4==this.flyIndex1)return clearInterval(this.flyIntval),this.flyIndex0=0,this.flyIndex1=0,void(this.flyIntval=setInterval(this.playerCardRotation.bind(this),1e3));for(var t=this["_group_bet_point_"+this.flyIndex0],e=0;2>e;e++){var i=this["grpCard_"+this.flyIndex0+"_"+e],n=this.orginPlayerCardPos[this.flyIndex0][e];this.playClickSound(RBGUtil.getInstance().getSoundEffect(6)),egret.Tween.get(i).to({x:n.x,y:n.y},300).call(function(){egret.Tween.removeTweens(i),t.visible=!1},[i,t])}0==this.flyIndex0?this.flyIndex0=3:this.flyIndex0--,this.flyIndex1++},e.prototype.playerCardRotation=function(){if(4==this.effectPlayerIndex1)return clearInterval(this.flyIntval),this.effectPlayerIndex0=0,this.effectPlayerIndex1=0,void(this.flyIntval=setInterval(this.gameResultEff.bind(this),1e3));this.playClickSound(RBGUtil.getInstance().getSoundEffect(7));var t=this.cardResult.players,e=this["grpCard_"+this.effectPlayerIndex0+"_0"];e.setPai(null),e.setAnPai(!0),egret.Tween.get(e).to({},10).call(function(){this[0].setPai(this[1]),this[0].setAnPai(!1)},[e,t[this.effectPlayerIndex1].cardsList[0]]);var i=this["grpCard_"+this.effectPlayerIndex0+"_1"];i.setPai(null),i.setAnPai(!0),egret.Tween.get(i).to({},10).wait(300).call(function(){this[0].setPai(this[1]),this[0].setAnPai(!1)},[i,t[this.effectPlayerIndex1].cardsList[1]]);var n=this["labCardType_bg_"+this.effectPlayerIndex0],s=this["labCardType"+this.effectPlayerIndex0];s.source="bar_point_"+t[this.effectPlayerIndex1].nameType+"_png",s.anchorOffsetX=s.width/2,s.anchorOffsetY=s.height/2,s.x+=s.width/2,s.y+=s.height/2,0==t[this.effectPlayerIndex1].nameType?n.source="bar_point_bg_0_png":t[this.effectPlayerIndex1].nameType>19?n.source="bar_point_bg_2_png":n.source="bar_point_bg_1_png",this.setCardType(n,s),0==this.effectPlayerIndex0?this.effectPlayerIndex0=3:this.effectPlayerIndex0--,this.effectPlayerIndex1++},e.prototype.showGameResult=function(t){var e=this.cardResult;this._group_settlement.visible=!0;for(var i=0;10>i;i++)this["_label_bar_"+i].text=e.count[i]+"";for(var i=0;4>i;i++){var n=UserInfo.getInstance().findSeatNumber(e.players[i].index);n==this.zhaungIndex?this["_player_zhuang_"+i].visible=!0:this["_player_zhuang_"+i].visible=!1,0==n&&1==e.players[i].win?(this._img_re_bg.source="bar_over_win_bg_png",this._img_guang.source="bar_over_win_light_png",this._img_huangguan.source="bar_over_win_hat_png",this._img_tmp.source="bar_over_win_title_png"):(this._img_re_bg.source="bar_over_lose_bg_png",this._img_guang.source="bar_over_lose_light_png",this._img_huangguan.source="bar_over_lose_hat_png",this._img_tmp.source="bar_over_lose_title_png"),this["_player_name_"+i].text=e.players[i].username,this["_player_fen_"+i].text=e.players[i].score,this["_player_bet_"+i].text=e.players[i].multiple,e.players[i].win?this["_player_gold_"+i].text="+"+e.players[i].dealGold:this["_player_gold_"+i].text="-"+e.players[i].dealGold,0==n?(this["_player_name_"+i].textColor=16505089,this["_player_fen_"+i].textColor=16505089,this["_player_bet_"+i].textColor=16505089,this["_player_gold_"+i].textColor=16505089):(this["_player_name_"+i].textColor=16777215,this["_player_fen_"+i].textColor=16777215,this["_player_bet_"+i].textColor=16777215,this["_player_gold_"+i].textColor=16777215)}this.resetGame(),5==e.round?(this._label_timing.visible=!1,this._label_des.visible=!1,this._continue_btn_1.visible=!0,this._continue_img_1.visible=!0,this._rect_re_touch.touchEnabled=!0,this._close_btn.visible=!0,UserInfo.getInstance().isGameStart=!1):(this._label_timing.visible=!0,this._label_des.visible=!0,this._label_timing.text="3S",this._label_des.text="后开始第"+e.round+"局游戏，共5局",this.timing=3,this.flyIntval=setInterval(this.startNextGame.bind(this),1e3))},e.prototype.startNextGame=function(){0==this.timing&&(clearInterval(this.flyIntval),this._group_settlement.visible=!1,this.timing=0),this._label_timing.text=this.timing+"S",this.timing--},e.prototype.resetGame=function(){egret.Tween.removeTweens(this._img_bz),egret.Tween.removeTweens(this._img_bz_g);for(var t=0;t<this._coin_arr.length;t++)this._coin_arr[t].parent.removeChild(this._coin_arr[t]);for(var e=0;4>e;e++){for(var i=0;2>i;i++){var n=this["grpCard_"+e+"_"+i];n.setPai(null),n.setAnPai(!0),egret.Tween.removeTweens(n),n.visible=!1}this["labCardType"+e].visible=!1,this["labCardType_bg_"+e].visible=!1,this["grpHead"+e].setZhuang(!1)
}this.zhaungIndex=0},e.prototype.playClickSound=function(t){xlLib.SoundMgr.instance.playSound(t+"_mp3")},e.prototype.onRestartGame=function(){var t=UserInfo.getInstance().getGameDataByindex(Const.GAME_ERBAGANG),e=t.getTypeDataByindex(Const.TYPE_ERBAGANGJINDIAN),i=e.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:i.id};xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,n,function(t){},this)},e.prototype.Onquit=function(){if(this.playClickSound(QZNNUtil.getInstance().getSoundEffect(10)),UserInfo.getInstance().isGameStart)return void xlLib.PopUpMgr.addPopUp(Hint,this,!0,!0,null,1);xlLib.SoundMgr.instance.stopBgMusic();var t=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(t),xlLib.SceneMgr.instance.changeScene(Lobby)},e.prototype.destroy=function(){this._btn_double_1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_buqiang.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_qiang_4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._rect_re_touch.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._continue_btn_1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._continue_btn_0.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._close_btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnCardHistroy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.Onquit,this),this._btn_ret.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.Onquit,this),EventUtil.removeEventListener(EventConst.players,this.addPlayers,this),EventUtil.removeEventListener(EventConst.onNewUserEnterGame,this.playerJoinRoom,this),EventUtil.removeEventListener(EventConst.onGameStatusChange,this.GameStatus,this),EventUtil.removeEventListener(EventConst.onUserBetOrderUpdate,this.OnBetUpdate,this),EventUtil.removeEventListener(EventConst.onUserHogOrderUpdate,this.OnHogUpdate,this),null!=this.cdTimer&&this.cdTimer.removeEventListener(egret.TimerEvent.TIMER,this.clacTimer,this)},e}(eui.Component);__reflect(RBGView.prototype,"RBGView");var orderinquiry=function(t){function e(){var e=t.call(this)||this;return e.skinName="orderinquirySkin",e.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClick1,e),e}return __extends(e,t),e.prototype.onClick1=function(t){t.target==this.btn_return&&(console.log("btn_return"),xlLib.PopUpMgr.removePopUp(e,1))},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e}(eui.Component);__reflect(orderinquiry.prototype,"orderinquiry",["eui.UIComponent","egret.DisplayObject"]);var RechargeTypeItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="RechargeTypeItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){},e}(eui.ItemRenderer);__reflect(RechargeTypeItem.prototype,"RechargeTypeItem");var RechargeView=function(t){function e(){var e=t.call(this)||this;return e.skinName="RechargeViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=[{name:"定额支付宝",down_url:"btn_fixationAlipay_1_png",up_url:"btn_fixationAlipay_0_png"},{name:"支付宝",down_url:"btn_Alipay_1_png",up_url:"btn_Alipay_0_png"},{name:"银联",down_url:"btn_Unionpay_1_png",up_url:"btn_Unionpay_0_png"},{name:"官方代理",down_url:"btn_Theofficialagent_1_png",up_url:"btn_Theofficialagent_0_png"}];this._recharge_meun.dataProvider=new eui.ArrayCollection(e),this._recharge_meun.useVirtualLayout=!0,this._recharge_meun.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onBarItemTap,this),this.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick1,this),this.btn_ddcx.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick1,this)},e.prototype.onBarItemTap=function(t){this._viewlist.selectedIndex=t.itemIndex},e.prototype.onClick1=function(t){t.target==this.btn_return?(console.log("btn_return"),xlLib.PopUpMgr.removePopUp(e,1)):t.target==this.btn_ddcx&&(console.log("btn_ddcx"),xlLib.PopUpMgr.addPopUp(orderinquiry,null,!0,!0,null,1))},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.destroy=function(){this._recharge_meun.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBarItemTap,this),this.btn_return.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick1,this),this.btn_ddcx.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick1,this)},e}(eui.Component);__reflect(RechargeView.prototype,"RechargeView",["eui.UIComponent","egret.DisplayObject"]);var SafeBoxTypeItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="SafeBoxTypeItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){},e}(eui.ItemRenderer);__reflect(SafeBoxTypeItem.prototype,"SafeBoxTypeItem");var xlLib;!function(t){function e(e){e instanceof Object&&(t.Console.init(e.debug,e.logLevel),t.ScreenUtils&&t.ScreenUtils.init(e.scaleMode),n.lobbyMode=e.lobbyMode,e.nativeStorage&&(n.nativeStorage=e.nativeStorage),e.platId&&(n.platId=e.platId),e.appId&&(n.appId=e.appId))}var i=function(){function t(){this.logLevel=7,this.lobbyMode=!1,this.scaleMode="exactFit"}return t}();t.initOptions=i,__reflect(i.prototype,"xlLib.initOptions"),t.init=e;var n=function(){function e(){}return e.PhoneCallStatus=function(e){"callDisconnected"==e.data.callState&&egret.Capabilities.engineVersion<"3.2.6"&&setTimeout(function(){t.ZQGameSdk&&t.ZQGameSdk.speakerActive()},4e3)},e.Event=function(e,i,n,s){return void 0===i&&(i=null),void 0===n&&(n=!1),void 0===s&&(s=!1),new t.ZqEvent(e,i)},e.dispatchEvent=function(e,i,n,s){void 0===i&&(i=null),void 0===n&&(n=!1),void 0===s&&(s=!1);var r=new t.ZqEvent(e,i,n,s);t.ZqListener.getInstance().dispatchEvent(r)},e.hasEventListener=function(e){return t.ZqListener.getInstance().hasEventListener(e)},e.addEventListener=function(e,i,n,s,r){void 0===s&&(s=!1),void 0===r&&(r=0),t.ZqListener.getInstance().addEventListener(e,i,n,s,r)},e.removeEventListener=function(e,i,n,s){void 0===s&&(s=!1),t.ZqListener.getInstance().removeEventListener(e,i,n,s)},Object.defineProperty(e,"lobbyMode",{get:function(){return this._lobbyMode},set:function(t){this._lobbyMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"resVersion",{get:function(){var e="";if(t.Global.isH5){var i=document.querySelector('meta[name="res-version"]');null!=i&&(e=i.getAttribute("content")),null!=e&&""!=e&&(e="_"+e)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"thmVersion",{get:function(){var e="";if(t.Global.isH5){var i=document.querySelector('meta[name="thm-version"]');null!=i&&(e=i.getAttribute("content")),null!=e&&""!=e&&(e="_"+e)}return e},enumerable:!0,configurable:!0}),e.setPlatInfo=function(e,i,n){t.Utils.setLocalStorage(n+"|"+i+"|platToken",e)},e.setPlatToken=function(i,n,s){e.platId=n,e.gameId=s,t.Utils.setLocalStorage(s+"|"+n+"|platToken",i)},e.openAgent=function(e,i,n,s,r){var o=e+"?code="+i+"&platid="+n+"&gameid="+s;t.ZQGameSdk&&t.ZQGameSdk.openWeb(o,r)},e.isIos=function(){return"ios"==this.sys_type?!0:!1},e.isActive=!0,e.debugLevel=0,e.version="v1.1.1_161128235600",e.designWidth=1280,e.designHeight=720,e.isRestarting=!1,e.gameId=0,e.lobbyGameId=0,e.is_sandbox=0,e.sys_type="",e.mtype="unknown",e.appId="wx0e52b1eba8f9fb14",e.thirdPlatDir="thirdPlatDir/",e.TextColors={white:16777215,milkWhite:16511407,grayWhite:13547170,yellow:16776960,lightYellow:16765813,orangeYellow:16750848,red:15799040,green:58624,blue:1742039,grayBlue:3101047,purple:15284466,pink:16724016,black:3026221,golden:16766720},e.isTestModul=!1,e.isInGame=!1,e.bundleId="",e._lobbyMode=!1,e.isCacheToken=!0,e.logUrl="http://server.login.bwgame.com.cn:8020/logger/clientlog",e.platId=0,e.zoneId=0,e}();t.Global=n,__reflect(n.prototype,"xlLib.Global")}(xlLib||(xlLib={}));var global,testh5=function(){var t;t=this.navigator?!0:!1;try{global&&(t=!1)}catch(e){}return t};xlLib.Global.isH5=testh5();var SetTypeItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="SetTypeItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){},e}(eui.ItemRenderer);__reflect(SetTypeItem.prototype,"SetTypeItem");var SetView=function(t){function e(){var e=t.call(this)||this;return e.skinName="SetViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=[{name:"游戏设置",down_url:"btn_settings_1_png",up_url:"btn_settings_0_png"},{name:"新手教程",down_url:"btn_xsjc_1_png",up_url:"btn_xsjc_0_png"},{name:"账号管理",down_url:"btn_accountmanagement_1_png",up_url:"btn_accountmanagement_0_png"},{name:"意见反馈",down_url:"btn_yjfk_1_png",up_url:"btn_yjfk_0_png"}];this._Set_meun.dataProvider=new eui.ArrayCollection(e),this._Set_meun.useVirtualLayout=!0,this._Set_meun.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onBarItemTap,this),this.btn_return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick1,this),this.toggleSwitch0=new EToggleSwitch(this,"switchOff_png","switchOn_png","switchBar_png",this.toggleCallback),this.toggleSwitch0.setBindData("toggleSwitch0"),this.toggleSwitch0.x=285,this.toggleSwitch0.y=75,this.toggleSwitch1=new EToggleSwitch(this,"switchOff_png","switchOn_png","switchBar_png",this.toggleCallback),this.toggleSwitch1.setBindData("toggleSwitch1"),this.toggleSwitch1.x=736,this.toggleSwitch1.y=75,this.toggleSwitch2=new EToggleSwitch(this,"switchOff_png","switchOn_png","switchBar_png",this.toggleCallback),this.toggleSwitch2.setBindData("toggleSwitch2"),this.toggleSwitch2.x=285,this.toggleSwitch2.y=245,this.txt0=new eui.Label,this.txt0.text="开",this.txt0.x=360,this.txt0.y=85,this.txt0.touchEnabled=!1,this.txt1=new eui.Label,this.txt1.text="开",this.txt1.x=811,this.txt1.y=85,this.txt1.touchEnabled=!1,this.txt2=new eui.Label,this.txt2.text="开",this.txt2.x=360,this.txt2.y=255,this.txt2.touchEnabled=!1,this.btn_yxsz_1.addChild(this.toggleSwitch0),this.btn_yxsz_1.addChild(this.toggleSwitch1),this.btn_yxsz_1.addChild(this.toggleSwitch2),this.btn_yxsz_1.addChild(this.txt0),this.btn_yxsz_1.addChild(this.txt1),this.btn_yxsz_1.addChild(this.txt2)},e.prototype.toggleCallback=function(t){if("toggleSwitch0"==t){if(this.toggleSwitch0.getSelected())return void(this.txt0.text="关");this.txt0.text="开"}else if("toggleSwitch1"==t){if(this.toggleSwitch1.getSelected())return void(this.txt1.text="关");this.txt1.text="开"}else if("toggleSwitch2"==t){if(this.toggleSwitch2.getSelected())return void(this.txt2.text="关");this.txt2.text="开"}},e.prototype.onBarItemTap=function(t){this._viewlist_set.selectedIndex=t.itemIndex},e.prototype.onClick1=function(t){xlLib.PopUpMgr.removePopUp(e,1)},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.destroy=function(){this._Set_meun.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onBarItemTap,this),this.btn_return.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick1,this)},e}(eui.Component);__reflect(SetView.prototype,"SetView");var TBNNHead=function(t){function e(){var e=t.call(this)||this;return e.skinName="TBNNHeadSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this);var e=new egret.Shape;e.graphics.beginFill(16711680),e.graphics.drawCircle(46,46,46),e.graphics.endFill(),e.x=this.imghead.x+3,e.y=this.imghead.y+3,this.addChild(e),this.imghead.mask=e},e.prototype.setUserInfo=function(t,e,i){this.imghead.source=i,this.labelName.text=t,this.labelGold.text=e},e.prototype.setGold=function(t){this.labelGold.text=t+""},e.prototype.destroy=function(){},e}(eui.Component);__reflect(TBNNHead.prototype,"TBNNHead");var TBNNroomEff=function(t){function e(){var e=t.call(this)||this;return e.skinName="TBNNroomEffSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.dicheng.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.wangzhefang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.tiyanfang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.chujifang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.zhongjifang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.gaojifang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this),this.zhizunfang.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){t.target.play(0)},e.prototype.play=function(){this.dicheng.play(0),this.wangzhefang.play(0),this.tiyanfang.play(0),this.chujifang.play(0),this.zhongjifang.play(0),this.gaojifang.play(0),this.zhizunfang.play(0)},e.prototype.stop=function(){this.dicheng.stop(),this.wangzhefang.stop(),this.tiyanfang.stop(),this.chujifang.stop(),this.zhongjifang.stop(),this.gaojifang.stop(),this.zhizunfang.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(TBNNroomEff.prototype,"TBNNroomEff");var TBNNroomView=function(t){function e(){var e=t.call(this)||this;e.skinName="TBNNroomViewSkin";var i=["tbnn_gamebgMusic_mp3"];return xlLib.SoundMgr.instance.playBgMusic(i),e}return __extends(e,t),e.prototype.playPlayerDragonBones=function(){this.playerDb=xlLib.DisplayUtils.createDragonBonesDisplay("tongbiniuniu","armatureName"),dragonBones.WorldClock.clock.add(this.playerDb);var t=this.playerDb.getDisplay();t.x=450+t.width,t.y=600,this.addChild(t),xlLib.DisplayUtils.runDragonBonesArmature(this.playerDb,"newAnimation")},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this._coin_label.text=GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins),this._btn_cjc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGame,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.GameStatus,this),this.playPlayerDragonBones(),this.tbroomeff=new TBNNroomEff,this.addChildAt(this.tbroomeff,0),this.tbroomeff.play()},e.prototype.GameStatus=function(t){200==t._obj.code&&xlLib.SceneMgr.instance.changeScene(TBNNScene)},e.prototype.onEnterGame=function(){if(this.gameIconData){var t=UserInfo.getInstance().getGameDataByindex(this.gameIconData.game),e=t.getTypeDataByindex(this.gameIconData.type),i=e.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:i.id};xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,n,function(t){},this)}},e.prototype.setGameIconData=function(t){this.gameIconData=t},e.prototype.dispose=function(){var t=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(t),xlLib.PopUpMgr.removePopUp(this,1)},e.prototype.destroy=function(){this.tbroomeff.stop(),xlLib.DisplayUtils.destoryDragonBonesArmature(this.playerDb,"newAnimation"),this.playerDb=null,this.gameIconData=null,this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this._btn_cjc.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGame,this),EventUtil.removeEventListener(EventConst.onGameStatusChange,this.GameStatus,this)},e}(eui.Component);__reflect(TBNNroomView.prototype,"TBNNroomView",["eui.UIComponent","egret.DisplayObject"]);var TBNNScene=function(t){function e(){var e=t.call(this)||this;return e.TBNNView=new TBNNView,e.uiLayer.addChild(e.TBNNView),e}return __extends(e,t),e.prototype.destroy=function(){this.TBNNView.destroy(),t.prototype.destroy.call(this)},e.prototype.resize=function(){this.TBNNView&&this.TBNNView.resize()},e}(xlLib.GameScene);__reflect(TBNNScene.prototype,"TBNNScene");var TBNNUtil=function(){function t(){if(t.instance)throw new Error("Instance is alreally exist")}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getBetNumber=function(t){switch(t){case 0:return Math.pow(10,4);case 1:return Math.pow(10,5);case 2:return Math.pow(10,6);case 3:return Math.pow(10,7);case 4:return 5*Math.pow(10,7);case 5:return Math.pow(10,8)}},t.prototype.getMsgSource=function(t){var e="";switch(t){case 2:e="nn.d2";break;case 3:e="nn.d3";break;case 4:e="nn.d4";break;case 5:e="nn.d5"}return e},t.prototype.getCoinsPos=function(t){var e=new egret.Point;switch(t){case 1:e.x=195,e.y=523;break;case 2:e.x=383,e.y=523;break;case 3:e.x=195,e.y=633;break;case 4:e.x=383,e.y=633}return e},t.prototype.getCardType2=function(t){switch(t){case 0:return"无牛";case 1:return"牛一";case 2:return"牛二";case 3:return"牛三";case 4:return"牛四";case 5:return"牛五";case 6:return"牛六";case 7:return"牛七";case 8:return"牛八";case 9:return"牛九";case 10:return"牛牛";case 11:return"四炸";case 12:return"五花牛";case 13:return"五小牛"}},t.prototype.getCardType=function(t){switch(t){case 0:return"nn.n1";case 1:return"nn.n2";case 2:return"nn.n3";case 3:return"nn.n4";case 4:return"nn.n5";case 5:return"nn.n6";case 6:return"nn.n7";case 7:return"nn.n8";case 8:return"nn.n9";case 9:return"nn.n10";case 10:return"nn.n11";case 11:return"nn.n13";case 12:return"nn.n14";case 13:return"nn.n12"}},t.prototype.getCardMusicType=function(t){switch(t){case 0:return"nn.niu0";case 1:return"nn.niu1";case 2:return"nn.niu2";case 3:return"nn.niu3";case 4:return"nn.niu4";case 5:return"nn.niu5";case 6:return"nn.niu6";case 7:return"nn.niu7";case 8:return"nn.niu8";case 9:return"nn.niu9";case 10:return"nn.niuniu";case 11:return"nn.playNiuZhadan";case 12:return"nn.playNiu5hua";case 13:return"nn.playNiuXiao5"}},t.prototype.coinsType=function(t){var e=[],i=0,n="";t=Math.round(t/1e4),t>0&&10>t?(i=t,n="nn.b1a"):t>9&&100>t?(i=t/10,n="nn.b2a"):t>99&&1e3>t?(i=t/100,n="nn.b3a"):t>999&&5e3>t?(i=t/1e3,n="nn.b4a"):t>4999&&1e4>t?(i=t/5e3,n="nn.b5a"):(i=t/1e4,n="nn.b6a");for(var s=0;s<Math.round(i);s++){var r=new eui.Image(n),o=this.coinPos();r.x=o.x,r.y=o.y,e.push(r)}return e},t.prototype.coinPos=function(){var t=new egret.Point,e=Math.floor(4*Math.random());switch(e){case 0:t.x=-100,t.y=400;break;case 1:t.x=-100,t.y=800;break;case 2:t.x=650,t.y=400;break;case 3:t.x=650,t.y=800}return t},t.prototype.getSoundEffect=function(t){switch(t){case 0:return"bgm";case 1:return"nn.jackpot";case 2:return"nn.start";case 3:return"nn.end";case 4:return"nn.ts";case 5:return"nn.tp";case 6:return"nn.dealCard";case 7:return"nn.openCard";case 8:return"nn.stake";case 9:return"gold_diaoluo"}},t.instance=null,t}();__reflect(TBNNUtil.prototype,"TBNNUtil");var TBNNView=function(t){function e(){var e=t.call(this)||this;return e.r=null,e.arr=[null,null,null],e.score=[0,0,0,0,0],e.score1=[0,0,0,0,0],e.arr_fen=[0,0,0],e.arr_fen1=[0,0,0,0,0],e.multipleList=[0,0,0,0,0],e.game_result=0,e.niu=0,e.zijipokes=[0,0,0,0,0],e.turn_score_arr=[],e.win_eff_err=[],e.goldFlyAnimatorarr=[],e.intnum=[0,0,0,0],e.num01=0,e.isTanPai=[!1,!1,!1,!1,!1,!1],e.jiesuanbol=!1,e.startCardRotation=!1,e.interval=-1,e.selfbetsNum={},e.betsPostion=-1,e.betsNum=0,e.cardResult=null,e.isChangeBanker=!1,e.changeBankerObj={},e.isCanBets=!0,e.poolBetArray={},e.limitGold=0,e.limitVip=0,e.curBankerRanking=-1,e.isApplyBanker=!1,e.lastGameBankerNum=0,e.isSysBanker=!1,e.orginBankerCardPos=[],e.orginPinCardPos=[],e.orginPlayerCardPos=[],e.orginPlayerHeadPos=[],e.isBanker=!1,e.isBets=!1,e.maxUserData=null,e.banker_total_gold=0,e.isBoomBanker=!1,e.resultCaijin=0,e.totalCaijin=0,e.cdNum=10,e.lastTouchBetIndex=-1,e.coinsNumArr={},e.isCoinsReturn=!0,e.curRate=0,e.lastTouchBetTime=0,e.isCardEffectShow=!1,e.zhaungIndex=0,e.flyIntval=0,e.flyBankerIndex=0,e.flyIntval_1=0,e.flyIntval_2=0,e.flyIntval_3=0,e.flyIntval_4=0,e.flyIntval_5=0,e.flyIntval_6=0,e.expandIntval_1=0,e.expandIntval_2=0,e.expandIntval_3=0,e.expandIntval_4=0,e.expandIntval_5=0,e.expandIntval_6=0,e.flyIndex_1=0,e.flyIndex_2=0,e.flyIndex_3=0,e.flyIndex_4=0,e.flyIndex_5=0,e.flyIndex_6=0,e.faPaiTime=50,e.flyPaiTime=1e3,e.pauseTime=950,e.expandPaiTime=400,e.skinName="TBNNViewSkin",e}return __extends(e,t),e.prototype.addNNEff=function(){var t=this;this.nnEff||(this.nnEff=xlLib.DisplayUtils.createAsyncMovieClicp("nn_myCardType10","nn_myCardType10",!1),this.nnEff.x=xlLib.Global.screenWidth/2,this.nnEff.y=xlLib.Global.screenHeight/2,this.nnEff.frameRate=10,this.nnEff.touchEnabled=!1),this.nnEff.gotoAndPlay(0,1),this.addChild(this.nnEff),this.nnEff.addEventListener(egret.Event.COMPLETE,function(e){t.nnEff.parent&&t.nnEff.parent.removeChild(t.nnEff)},this)},e.prototype.addWhnEff=function(){var t=this;this.whnEff||(this.whnEff=xlLib.DisplayUtils.createAsyncMovieClicp("nn_myCardType14","nn_myCardType14",!1),this.whnEff.x=xlLib.Global.screenWidth/2,this.whnEff.y=xlLib.Global.screenHeight/2,this.whnEff.frameRate=10,this.whnEff.touchEnabled=!1),this.whnEff.gotoAndPlay(0,1),this.addChild(this.whnEff),this.whnEff.addEventListener(egret.Event.COMPLETE,function(e){t.whnEff.parent&&t.whnEff.parent.removeChild(t.whnEff)},this)},e.prototype.childrenCreated=function(){this.getOrginCardPos(),this.addEvent(),this.initData(),this.labelHead0.text=UserInfo.getInstance().username,this.labelGold0.text=""+GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins);var t=xlLib.PopUpMgr.addPopUp(Inthematch,this,!0,!0,null,1);t.TYPE_TAP=Const.TYPE_TBNN,UserInfo.getInstance().isGameStart=!0},e.prototype.initData=function(){this.selfbetsNum={1:0,2:0,3:0,4:0},this.poolBetArray={1:0,2:0,3:0,4:0},this.coinsNumArr={1:0,2:0,3:0,4:0},this.grpCard.visible=!0,this._btn_switch.visible=!1,this.grpCountdown.visible=!1,this._xiabei.visible=!0,this._xiabei_0_0_0.visible=!1,this._xiabei_0_0_1.visible=!1,this._xiabei_0_0_2.visible=!1,this._xiabei_0_0_3.visible=!1,this._xiabei_0_0_4.visible=!1,this._xiabei_0_0_5.visible=!1,this._xiabei_0_0.visible=!1,this._xiabei_0.visible=!1,this._xiabei_0_1.visible=!1,this._xiabei_1.visible=!1,this._xiabei_0_2.visible=!1,this._xiabei_2.visible=!1,this._xiabei_0_3.visible=!1,this._xiabei_3.visible=!1,this._xiabei_0_4.visible=!1,this._xiabei_4.visible=!1,this._xiabei_0_5.visible=!1,this._xiabei_5.visible=!1,this._jixu.visible=!1,this._pingpai.visible=!1,this._my_pai.visible=!1,this.arr=[],this._btn_switch.visible=!1,this._btn_double_1.visible=!1,this._btn_double_2.visible=!1,this._btn_double_3.visible=!1,this._btn_double_4.visible=!1,this._btn_double_5.visible=!1,this.beishu_0.visible=!1,this.beishu_1.visible=!1,this.beishu_2.visible=!1,this.beishu_3.visible=!1,this.beishu_4.visible=!1,this.beishu_0_0.visible=!1,this.beishu_0_1.visible=!1,this.beishu_0_2.visible=!1,this.beishu_0_3.visible=!1,this.beishu_0_4.visible=!1,this.bs_img_0.visible=!1,this.bs_img_1.visible=!1,this.bs_img_2.visible=!1,this.bs_img_3.visible=!1,this.bs_img_4.visible=!1,this._xiabei_0.x=751.67,this._xiabei_1.x=337.84,this._xiabei_2.x=338.05,this._xiabei_3.x=730.09,this._xiabei_4.x=1138.59,this._xiabei_5.x=1140.99,this.grpHead0.visible=!1,this.grpHead1.visible=!1,this.grpHead2.visible=!1,this.grpHead3.visible=!1,this.grpHead4.visible=!1,this.grpHead5.visible=!1,this._tishi.visible=!1,this._zhuang_img0.visible=!1,this._zhuang_img1.visible=!1,this._zhuang_img2.visible=!1,this._zhuang_img3.visible=!1,this.isTanPai=[!1,!1,!1,!1,!1,!1],this.jiesuanbol=!1,this.zhaungIndex=0},e.prototype.getOrginCardPos=function(){for(var t=0;5>t;t++){var e=this["bankerCard_"+t];e.source="",e.anchorOffsetX=e.width/2,e.x+=e.width/2;var i=new egret.Point;i.x=e.x,i.y=e.y,this.orginBankerCardPos[t]=i;var e=this["_puke_"+t];e.source="",e.anchorOffsetX=e.width/2,e.x+=e.width/2;var i=new egret.Point;i.x=e.x,i.y=e.y,this.orginPinCardPos[t]=i}this.labCardTypeBanker.visible=!1;for(var n=1;6>n;n++){this["labCardType"+n].visible=!1;for(var s=[],r=0;5>r;r++){var e=this["grpCard_"+n+"_"+r];e.source="",e.anchorOffsetX=e.width/2,e.x+=e.width/2;var i=new egret.Point;i.x=e.x,i.y=e.y,s[r]=i}this.orginPlayerCardPos[n]=s}for(var o=0;6>o;o++){var i=new egret.Point;0==o||3==o?(i.x=this["grpHead"+o].x+35,i.y=this["grpHead"+o].y+35):(i.x=this["grpHead"+o].x+45,i.y=this["grpHead"+o].y+60),this.orginPlayerHeadPos[o]=i}},e.prototype.resize=function(){},e.prototype.onRestartGame=function(){var t=xlLib.PopUpMgr.addPopUp(Inthematch,this,!0,!0,null,1);t.TYPE_TAP=Const.TYPE_TBNN;var e=UserInfo.getInstance().getGameDataByindex(Const.GAME_NIUNIU),i=e.getTypeDataByindex(Const.TYPE_TBNN),n=i.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),s={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:n.id};xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,s,function(t){},this),UserInfo.getInstance().isGameStart=!0,this.resetGame()},e.prototype.onClick=function(t){this.playClickSound(QZNNUtil.getInstance().getSoundEffect(10)),t.target==this._btn_begin?this.onRestartGame():t.target==this._btn_meun||(t.target==this._btn_double_1?this.sendamessage(EventConst.niuniu_dobet,this.multipleList[0]):t.target==this._btn_double_2?this.sendamessage(EventConst.niuniu_dobet,this.multipleList[1]):t.target==this._btn_double_3?this.sendamessage(EventConst.niuniu_dobet,this.multipleList[2]):t.target==this._btn_double_4?this.sendamessage(EventConst.niuniu_dobet,this.multipleList[3]):t.target==this._btn_double_5?this.sendamessage(EventConst.niuniu_dobet,this.multipleList[4]):t.target==this._btn_tanpai&&this.returntanpai())},e.prototype.returntanpai=function(){var t=UserInfo.getInstance().getGameDataByindex(Const.GAME_NIUNIU),e=t.getTypeDataByindex(Const.TYPE_TBNN),i=e.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:i.id};xlLib.WebSocketMgr.getInstance().send(EventConst.niuniu_manual,n,function(t){},this)},e.prototype.sendamessage=function(t,e){var i={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,data:e};xlLib.WebSocketMgr.getInstance().send(t,i,function(t){},this)},e.prototype.addEvent=function(){this._btn_meun.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_begin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_tanpai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Onquit,this),EventUtil.addEventListener(EventConst.onUserShowOrderUpdate,this.onShowOrder,this),EventUtil.addEventListener(EventConst.players,this.addPlayers,this),EventUtil.addEventListener(EventConst.onNewUserEnterGame,this.playerJoinRoom,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.GameStatus,this),EventUtil.addEventListener(EventConst.onUserBetOrderUpdate,this.OnBetUpdate,this)},e.prototype.onShowOrder=function(t){console.log(t._obj.index+"号摊牌"),this.isTanPai[t._obj.index]=!0,this.onePlayerFanPai(t._obj.index)},e.prototype.GameStatus=function(t){switch(t._obj.roomStatus){case 0:break;case 1:break;case 2:break;case 3:break;case 4:this.onbetBack(t);break;case 5:break;case 6:this.onThecardtype(t);break;case 7:break;case 8:}},e.prototype.addNNVictoryEffect=function(){this.nnvictoryEffect||(this.nnvictoryEffect=new QZNNVictory,this.nnvictoryEffect.anchorOffsetX=this.nnvictoryEffect.width/2,this.nnvictoryEffect.anchorOffsetY=this.nnvictoryEffect.height/2,this.nnvictoryEffect.x=xlLib.Global.screenWidth/2,this.nnvictoryEffect.y=xlLib.Global.screenHeight/2),this.nnvictoryEffect.play(),this.addChild(this.nnvictoryEffect)},e.prototype.addTongsha=function(){this.tongsha||(this.tongsha=new QZNNTongsha,this.tongsha.anchorOffsetX=this.tongsha.width/2,this.tongsha.anchorOffsetY=this.tongsha.height/2,this.tongsha.x=xlLib.Global.screenWidth/2,this.tongsha.y=xlLib.Global.screenHeight/2),this.tongsha.play(),this.addChild(this.tongsha)},e.prototype.addTongpei=function(){this.tongpei||(this.tongpei=new QZNNTongpei,this.tongpei.anchorOffsetX=this.tongpei.width/2,this.tongpei.anchorOffsetY=this.tongpei.height/2,this.tongpei.x=xlLib.Global.screenWidth/2,this.tongpei.y=xlLib.Global.screenHeight/2),this.tongpei.play(),this.addChild(this.tongpei)},e.prototype.onbetBack=function(t){xlLib.PopUpMgr.removePopUp(Inthematch,1),this.time=0,this.grpCountdown.visible=!0,this.startCountDown(t._obj.seconds),this._btn_switch.visible=!0,this.gamestarEff||(this.gamestarEff=new QZNNGameStart,this.gamestarEff.anchorOffsetX=this.gamestarEff.width/2,this.gamestarEff.anchorOffsetY=this.gamestarEff.height/2,this.gamestarEff.x=xlLib.Global.screenWidth/2,this.gamestarEff.y=xlLib.Global.screenHeight/2),this.gamestarEff.play(),this.addChild(this.gamestarEff);for(var e=0;e<t._obj.hogList.length;e++)this["_btn_double_"+(e+1)].visible=!0,t._obj.hogList[e].hogOrBet>=10?(this["beishu_"+e].visible=!0,this["beishu_"+e].source="img_BQ_0_1_png",this["beishu_0_"+e].visible=!0,this["beishu_0_"+e].source="img_BQ_0_"+t._obj.hogList[e].hogOrBet%10+"_png",this["bs_img_"+e].visible=!0):t._obj.hogList[e].hogOrBet<10&&(this["beishu_"+e].visible=!1,this["beishu_"+e].source="",this["beishu_0_"+e].visible=!0,this["beishu_0_"+e].source="img_BQ_0_"+t._obj.hogList[e].hogOrBet+"_png",this["bs_img_"+e].visible=!0),this.multipleList[e]=t._obj.hogList[e].hogOrBet},e.prototype.onThecardtype=function(t){this.game_result=t._obj.result,this._tishi.visible=!1;for(var e={pokes:[],result:[1,0,0,0],bankerWin:0,rate:"0.05",bomb:"0"},i=0;i<t._obj.players.length;i++){var n={num:t._obj.players[i].pai.ratio,type:t._obj.players[i].pai.niu,value:t._obj.players[i].cardsList,win:t._obj.players[i].win,score:t._obj.players[i].score};e.pokes.push(n)}this.zijipokes=t._obj.players[0].cardsList,this.cardResult=e,this.time=0,this.startCountDown(t._obj.seconds),this.cardEffect()},e.prototype.oncloseanaccount=function(t){},e.prototype.OnBetUpdate=function(t){UserInfo.getInstance().uid==t._obj.userid&&(this._btn_switch.visible=!1,this._tishi.visible=!0,this._tishi_text.text="请等待其他玩家下注..."),200==t._obj.code&&this.jiazhu(t._obj.hogOrBet,t._obj.index)},e.prototype.jiazhu=function(t,e){t>=10?(this["_xiabei_0_"+e].visible=!0,this["_xiabei_0_"+e].source="tongbi_bei2_png",this["_xiabei_"+e].visible=!0,this["_xiabei_0_0_"+e].visible=!0,this["_xiabei_"+e].source="img_BQ_0_"+t%10+"_png",this["_xiabei_0_0_"+e].source="img_BQ_0_1_png"):10>t&&(this["_xiabei_0_"+e].visible=!0,this["_xiabei_0_"+e].source="tongbi_bei1_png",this["_xiabei_"+e].visible=!0,this["_xiabei_"+e].x-=13,this["_xiabei_0_0_"+e].visible=!1,this["_xiabei_"+e].source="img_BQ_0_"+t+"_png")},e.prototype.addPlayers=function(t){this.grpHead0.visible=!0,t._obj.player[0].id==UserInfo.getInstance().myPlayer.id&&(this.labelHead0.text=UserInfo.getInstance().myPlayer.username,this.labelGold0.text=GlobalFunction.Formatconversion(UserInfo.getInstance().myPlayer.goldcoins),this.imghead0.source="women7_png");for(var e=1;e<t._obj.player.length;e++)null!=t._obj.player[e]?this.setUserInfo(e,UserInfo.getInstance().playes[e].username,UserInfo.getInstance().playes[e].goldcoins,"women7_png"):this.setUserInfo(e,"","","")
},e.prototype.playerJoinRoom=function(t){t._obj.player.id==UserInfo.getInstance().myPlayer.id||(this["grpHead"+t._obj.player.index].visible=!0,this["grpHead"+t._obj.player.index],this.setUserInfo(t._obj.player.index,t._obj.player.username,t._obj.player.goldcoins,"women7_png"))},e.prototype.setUserInfo=function(t,e,i,n){this["imghead"+t].source=n,this["labelHead"+t].text=e,this["labelGold"+t].text=GlobalFunction.Formatconversion(i)},e.prototype.startCountDown=function(t){10>t?this.timeTxt.text="0"+t:this.timeTxt.text=""+t,this.timeTxt.visible=!0,this.time=t,null==this.timer&&(this.timer=new egret.Timer(1e3),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer.start())},e.prototype.timerFunc=function(t){this.time>=0?(this.time>=10?this.timeTxt.text=""+this.time:this.timeTxt.text="0"+this.time,this.time--):(this.jiesuanbol&&this.oneFanPai(),this.timeTxt.text="00",this.clearTime())},e.prototype.clearTime=function(){this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer=null)},e.prototype.clearTimer=function(){this.cdNum>0?this.cdNum--:(this.cdTimer.stop(),this.cdNum=0,this.resetGame())},e.prototype.cardEffect=function(){this._btn_switch.visible=!1,this.isCardEffectShow=!0,this.flyIntval_1=setInterval(this.playCardFly_1.bind(this),this.faPaiTime),this.flyIntval_2=setInterval(this.playCardFly_2.bind(this),this.faPaiTime),this.flyIntval_3=setInterval(this.playCardFly_3.bind(this),this.faPaiTime),this.flyIntval_4=setInterval(this.playCardFly_4.bind(this),this.faPaiTime),this.flyIntval_5=setInterval(this.playCardFly_5.bind(this),this.faPaiTime),this.flyBankerIndex=0,this.flyIntval_6=setInterval(this.playCardFly_6.bind(this),this.faPaiTime),this.jiesuanbol=!0},e.prototype.playCardFly_1=function(){var t=this["grpCard_1_"+this.flyIndex_1];t.source="qznn_card_100",t.x=xlLib.Global.screenWidth/2,t.y=xlLib.Global.screenHeight/2,t.anchorOffsetX=t.width/2,t.x+=t.width/2,t.alpha=0,t.scaleX=.2,t.scaleY=.2;var e=this.orginPlayerCardPos[1][4];this.playClickSound(QZNNUtil.getInstance().getSoundEffect(6)),egret.Tween.get(t).to({x:e.x,y:e.y,alpha:1,scaleX:1,scaleY:1},this.flyPaiTime,egret.Ease.sineInOut),4==this.flyIndex_1?(this.flyIndex_1=0,clearInterval(this.flyIntval_1),this.expandIntval_1=setInterval(this.expandPai_1.bind(this),this.pauseTime)):this.flyIndex_1++},e.prototype.playCardFly_2=function(){var t=this["grpCard_2_"+this.flyIndex_2];t.source="qznn_card_100",t.x=xlLib.Global.screenWidth/2,t.y=xlLib.Global.screenHeight/2,t.anchorOffsetX=t.width/2,t.x+=t.width/2,t.alpha=0,t.scaleX=.2,t.scaleY=.2;var e=this.orginPlayerCardPos[2][4];this.playClickSound(QZNNUtil.getInstance().getSoundEffect(6)),egret.Tween.get(t).to({x:e.x,y:e.y,alpha:1,scaleX:1,scaleY:1},this.flyPaiTime,egret.Ease.sineInOut),4==this.flyIndex_2?(this.flyIndex_2=0,clearInterval(this.flyIntval_2),this.expandIntval_2=setInterval(this.expandPai_2.bind(this),this.pauseTime)):this.flyIndex_2++},e.prototype.playCardFly_3=function(){var t=this["grpCard_3_"+this.flyIndex_3];t.source="qznn_card_100",t.x=xlLib.Global.screenWidth/2,t.y=xlLib.Global.screenHeight/2,t.anchorOffsetX=t.width/2,t.x+=t.width/2,t.alpha=0,t.scaleX=.2,t.scaleY=.2;var e=this.orginPlayerCardPos[3][4];this.playClickSound(QZNNUtil.getInstance().getSoundEffect(6)),egret.Tween.get(t).to({x:e.x,y:e.y,alpha:1,scaleX:1,scaleY:1},this.flyPaiTime,egret.Ease.sineInOut),4==this.flyIndex_3?(this.flyIndex_3=0,clearInterval(this.flyIntval_3),this.expandIntval_3=setInterval(this.expandPai_3.bind(this),this.pauseTime)):this.flyIndex_3++},e.prototype.playCardFly_4=function(){var t=this["grpCard_4_"+this.flyIndex_4];t.source="qznn_card_100",t.x=xlLib.Global.screenWidth/2,t.y=xlLib.Global.screenHeight/2,t.anchorOffsetX=t.width/2,t.x+=t.width/2,t.alpha=0,t.scaleX=.2,t.scaleY=.2;var e=this.orginPlayerCardPos[4][4];this.playClickSound(QZNNUtil.getInstance().getSoundEffect(6)),egret.Tween.get(t).to({x:e.x,y:e.y,alpha:1,scaleX:1,scaleY:1},this.flyPaiTime,egret.Ease.sineInOut),4==this.flyIndex_4?(this.flyIndex_4=0,clearInterval(this.flyIntval_4),this.expandIntval_4=setInterval(this.expandPai_4.bind(this),this.pauseTime)):this.flyIndex_4++},e.prototype.playCardFly_5=function(){var t=this["grpCard_5_"+this.flyIndex_5];t.source="qznn_card_100",t.x=xlLib.Global.screenWidth/2,t.y=xlLib.Global.screenHeight/2,t.anchorOffsetX=t.width/2,t.x+=t.width/2,t.alpha=0,t.scaleX=.2,t.scaleY=.2;var e=this.orginPlayerCardPos[5][4];this.playClickSound(QZNNUtil.getInstance().getSoundEffect(6)),egret.Tween.get(t).to({x:e.x,y:e.y,alpha:1,scaleX:1,scaleY:1},this.flyPaiTime,egret.Ease.sineInOut),4==this.flyIndex_5?(this.flyIndex_5=0,clearInterval(this.flyIntval_5),this.expandIntval_5=setInterval(this.expandPai_5.bind(this),this.pauseTime)):this.flyIndex_5++},e.prototype.playCardFly_6=function(){this._pingpai.visible=!0;var t=this["_puke_"+this.flyBankerIndex];t.x=xlLib.Global.screenWidth/2,t.y=xlLib.Global.screenHeight/2,t.source="qznn_card_100",t.anchorOffsetX=t.width/2,t.x+=t.width/2,t.alpha=0,t.scaleX=.2,t.scaleY=.2;var e=this.orginPinCardPos[0];this.playClickSound(QZNNUtil.getInstance().getSoundEffect(6)),egret.Tween.get(t).to({x:e.x,y:e.y,alpha:1,scaleX:1,scaleY:1},this.flyPaiTime,egret.Ease.sineInOut),4==this.flyBankerIndex?(this.flyBankerIndex=0,clearInterval(this.flyIntval_6),this.expandIntval_6=setInterval(this.expandPai_6.bind(this),this.pauseTime),this.startCardRotation=!0):this.flyBankerIndex++},e.prototype.expandPai_1=function(){clearInterval(this.expandIntval_1);for(var t=0;5>t;t++){var e=this["grpCard_1_"+t],i=this.orginPlayerCardPos[1][t];egret.Tween.get(e).to({x:i.x,y:i.y},this.expandPaiTime,egret.Ease.sineOut)}},e.prototype.expandPai_2=function(){clearInterval(this.expandIntval_2);for(var t=0;5>t;t++){var e=this["grpCard_2_"+t],i=this.orginPlayerCardPos[2][t];egret.Tween.get(e).to({x:i.x,y:i.y},this.expandPaiTime,egret.Ease.sineOut)}},e.prototype.expandPai_3=function(){clearInterval(this.expandIntval_3);for(var t=0;5>t;t++){var e=this["grpCard_3_"+t],i=this.orginPlayerCardPos[3][t];egret.Tween.get(e).to({x:i.x,y:i.y},this.expandPaiTime,egret.Ease.sineOut)}},e.prototype.expandPai_4=function(){clearInterval(this.expandIntval_4);for(var t=0;5>t;t++){var e=this["grpCard_4_"+t],i=this.orginPlayerCardPos[4][t];egret.Tween.get(e).to({x:i.x,y:i.y},this.expandPaiTime,egret.Ease.sineOut)}},e.prototype.expandPai_5=function(){clearInterval(this.expandIntval_5);for(var t=0;5>t;t++){var e=this["grpCard_5_"+t],i=this.orginPlayerCardPos[5][t];egret.Tween.get(e).to({x:i.x,y:i.y},this.expandPaiTime,egret.Ease.sineOut)}},e.prototype.expandPai_6=function(){clearInterval(this.expandIntval_6);for(var t=this.zijipokes,e=0;5>e;e++){var i=this["_puke_"+e];i.source="qznn_card_"+t[e];var n=this.orginPinCardPos[e];egret.Tween.get(i).to({x:n.x,y:n.y},this.expandPaiTime,egret.Ease.sineOut)}},e.prototype.onePlayerFanPai=function(t){this.playClickSound(QZNNUtil.getInstance().getSoundEffect(7));var e=this.cardResult.pokes;if(this.isTanPai[t]=!0,0==t){this._my_pai.visible=!0,this._pingpai.visible=!1;for(var i=0;5>i;i++){var n=this["bankerCard_"+i];n.source="qznn_card_"+this.zijipokes[i]}this.addNiuniuBei(this.labCardTypeBanker,e[t].type),this.playClickSound(QZNNUtil.getInstance().getCardMusicType(e[t].type)),this.labCardTypeBanker.visible=!0,this.labCardTypeBanker.width=98,this.labCardTypeBanker.width=98}else{for(var i=0;5>i;i++){var s=this["grpCard_"+t+"_"+i];s.source="qznn_card_"+e[t].value[i]}this.addNiuniuBei(this["labCardType"+t],e[t].type),this.playClickSound(QZNNUtil.getInstance().getCardMusicType(e[t].type)),this["labCardType"+t].visible=!0,this["labCardType"+t].width=98,this["labCardType"+t].width=98}},e.prototype.oneFanPai=function(){for(var t=0;6>t;t++)0==this.isTanPai[t]&&this.onePlayerFanPai(t);this.interval=setInterval(this.cardEffectEnd.bind(this),2e3)},e.prototype.addNiuniuBei=function(t,e){var i=QZNNUtil.getInstance().getCardBmpUrl(e);t.removeChildren();var n;0==e?(n=new WuNiuNBei,n.x=80,n.y-=80):10>e?(n=new NiuNBei,n.x=80,n.y-=80):(10==e?this.addNNEff():13==e&&this.addWhnEff(),n=new TenshuNiuBei,n.x=80,n.y=30),n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,t.addChild(n);var s=i;n.play(s)},e.prototype.bankerCardRotation=function(){this.playClickSound(QZNNUtil.getInstance().getSoundEffect(7));for(var t=this.cardResult.pokes[0],e=0;5>e;e++){var i=this["bankerCard_"+e];i.source="qznn_card_100",egret.Tween.get(i).to({scaleX:0},300).call(function(){this[0].source="qznn_card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},300)},[i,t.value[e]])}if(this.addNiuniuBei(this.labCardTypeBanker,t.type),this.playClickSound(QZNNUtil.getInstance().getCardMusicType(t.type)),this.labCardTypeBanker.visible=!0,this.labCardTypeBanker.width=98,this.labCardTypeBanker.height=44,0!=t.type)for(var e=0;5>e;e++){var i=this["bankerCard_"+e];3>e?egret.Tween.get(i).wait(700).to({x:i.x-10},100):egret.Tween.get(i).wait(700).to({x:i.x+10},100)}this.interval=setInterval(this.blinkEffect.bind(this),500)},e.prototype.blinkEffect=function(){clearInterval(this.interval);for(var t=this.cardResult.result,e=0;4>e;e++)1==t[e];this.interval=setInterval(this.cardEffectEnd.bind(this),2e3)},e.prototype.cardEffectEnd=function(){clearInterval(this.interval),this.playClickSound(QZNNUtil.getInstance().getSoundEffect(9));for(var t={x:this.orginPlayerHeadPos[this.zhaungIndex].x,y:this.orginPlayerHeadPos[this.zhaungIndex].y},e={x:0,y:0},i=0;i<this.cardResult.pokes.length;i++)e.x=this.orginPlayerHeadPos[i].x,e.y=this.orginPlayerHeadPos[i].y,1==this.cardResult.pokes[i].win?this.updatePlayerGold(i,this.cardResult.pokes[i].score,!0):this.updatePlayerGold(i,this.cardResult.pokes[i].score,!1),this.zhaungIndex!=i&&(1==this.cardResult.pokes[i].win?EffectUtils.coinsFly_1(this,t.x,t.y,e.x,e.y):EffectUtils.coinsFly_1(this,e.x,e.y,t.x,t.y));for(var i=0;i<this.cardResult.pokes.length;i++)this.suiCoreGameEndScoreResultEffect(i,this["grpHead"+i],this.cardResult.pokes[i].win,this.cardResult.pokes[i].score);this.interval=setInterval(this.victoryEffect.bind(this),2e3)},e.prototype.updatePlayerGold=function(t,e,i){var n=UserInfo.getInstance().playes[t].goldcoins;1==i?n+=e:n-=e,UserInfo.getInstance().playes[t].goldcoins=n,0==t?this.labelGold0.text=GlobalFunction.Formatconversion(n):(this["grpHead"+t],this.setGold(t,n))},e.prototype.setGold=function(t,e){this["labelGold"+t].text=GlobalFunction.Formatconversion(e)},e.prototype.suiCoreGameEndScoreResultEffect=function(t,e,i,n){if(this._zhuang_img0.visible=!1,this._zhuang_img1.visible=!1,this._zhuang_img2.visible=!1,this._zhuang_img3.visible=!1,i)if(3==t||0==t){var s=new QZNNHEff;s.x=-84,s.y=-72,s.play();var r=new QZNNHHeadEff;r.x=-84,r.y=-72,r.play(),e.addChild(s),e.addChild(r),this.win_eff_err.push(s),this.win_eff_err.push(r)}else{var o=new QZNNVEff;o.x=-70,o.y=-70,o.play();var a=new QZNNVHeadEff;a.x=-70,a.y=-70,a.play(),e.addChild(o),e.addChild(a),this.win_eff_err.push(o),this.win_eff_err.push(a)}var h=new eui.BitmapLabel;h.textAlign=egret.HorizontalAlign.CENTER;var l="";1==i?(h.font="qznn_win_fnt",h.text="0",l="+"):(h.font="qznn_lose_fnt",h.text="0",l="-"),0==t?(h.x=90,h.y=-40):1==t?(h.x=30,h.y=-40):2==t?(h.x=30,h.y=-40):3==t?(h.x=90,h.y=-40):4==t?(h.x=30,h.y=-40):5==t&&(h.x=30,h.y=-40),h.scaleX=1,h.scaleY=1,e.addChild(h),this.turn_score_arr.push(h),uiCore.LabelEffect.instance.playEffect(h,{time:3e3,initNum:1,num:n/100,regulator:50},l)},e.prototype.victoryEffect=function(){clearInterval(this.interval),this.interval=0,1==this.game_result&&(this.addNNVictoryEffect(),this.game_result=0),this._jixu.visible=!0,UserInfo.getInstance().isGameStart=!1},e.prototype.resetGame=function(){this.initData();for(var t=0;5>t;t++){var e=this["bankerCard_"+t];e.source="",egret.Tween.removeTweens(e),e.x=this.orginBankerCardPos[t].x,e.y=this.orginBankerCardPos[t].y;var i=this["_puke_"+t];i.source="",egret.Tween.removeTweens(i)}this._pingpai.visible=!1,this._my_pai.visible=!1,this.labCardTypeBanker.visible=!1;for(var n=1;6>n;n++){this["labCardType"+n].visible=!1;for(var s=0;5>s;s++){var r=this["grpCard_"+n+"_"+s];r.source="",egret.Tween.removeTweens(r)}this["_xiabei_"+n].visible=!1,this["_xiabei_0_"+n].visible=!1}this.selfbetsNum={1:0,2:0,3:0,4:0},this.poolBetArray={1:0,2:0,3:0,4:0},this.coinsNumArr={1:0,2:0,3:0,4:0},this._btn_begin.visible=!0,this.isCanBets=!0,this.isBets=!1,this.resultCaijin=0,this.isCoinsReturn=!0,this.isCardEffectShow=!1,this.removeEff(this.nnbankerEff),this.arr=[null,null,null],this.score=[0,0,0,0,0],this.score1=[0,0,0,0,0],this.arr_fen=[0,0,0],this.arr_fen1=[0,0,0],this.game_result=0,this.niu=0,this.time=0,this._jixu.visible=!1,this.startCardRotation=!1,this.zhaungIndex=0,this.zijipokes=[0,0,0,0,0],this.multipleList=[0,0,0,0,0],this._btn_switch.visible=!1,this._btn_double_1.visible=!1,this._btn_double_2.visible=!1,this._btn_double_3.visible=!1,this._btn_double_4.visible=!1,this._btn_double_5.visible=!1,this.beishu_0.visible=!1,this.beishu_1.visible=!1,this.beishu_2.visible=!1,this.beishu_3.visible=!1,this.beishu_4.visible=!1,this.beishu_0_0.visible=!1,this.beishu_0_1.visible=!1,this.beishu_0_2.visible=!1,this.beishu_0_3.visible=!1,this.beishu_0_4.visible=!1,this.grpCountdown.visible=!0,this._xiabei_0.x=751.67,this._xiabei_1.x=337.84,this._xiabei_2.x=338.05,this._xiabei_3.x=730.09,this._xiabei_4.x=1138.59,this._xiabei_5.x=1140.99,this.grpHead0.visible=!1,this.grpHead1.visible=!1,this.grpHead2.visible=!1,this.grpHead3.visible=!1,this.grpHead4.visible=!1,this.grpHead5.visible=!1,this._zhuang_img0.visible=!1,this._zhuang_img1.visible=!1,this._zhuang_img2.visible=!1,this._zhuang_img3.visible=!1,this.isTanPai=[!1,!1,!1,!1,!1,!1],this._tishi.visible=!1;for(var o=0;o<this.turn_score_arr.length;o++)this.turn_score_arr[o].parent.removeChild(this.turn_score_arr[o]);this.turn_score_arr=[];for(var a=0;a<this.win_eff_err.length;a++)this.win_eff_err[a].stop(),this.win_eff_err[a].parent.removeChild(this.win_eff_err[a]);this.win_eff_err=[];for(var h=0;h<this.goldFlyAnimatorarr.length;h++)this.goldFlyAnimatorarr[h].stop(),this.goldFlyAnimatorarr[h].parent.removeChild(this.goldFlyAnimatorarr[h]);this.goldFlyAnimatorarr=[],this.tongsha&&this.tongsha.stop(),this.niuniuTX&&(this.niuniuTX.stop(),this.niuniuTX.parent.removeChild(this.niuniuTX)),this.tongpei&&this.tongpei.stop(),this.niuniukuang&&(this.niuniukuang.stop(),this.niuniukuang.parent.removeChild(this.niuniukuang),this.niuniukuang=null),this.niuniukuang1&&(this.niuniukuang1.stop(),this.niuniukuang1.parent.removeChild(this.niuniukuang1),this.niuniukuang1=null)},e.prototype.removeEff=function(t){t&&(t.stop(),t.parent&&t.parent.removeChild(t))},e.prototype.removeNNbankerEff=function(){this.nnbankerEff&&(this.nnbankerEff.stop(),this.nnbankerEff.parent&&this.nnbankerEff.parent.removeChild(this.nnbankerEff))},e.prototype.getHistoryCallback=function(t){for(var e=t.data,i=0;10>i;i++)if(i<e.length){this["grpHistroy"+i].visible=!0;for(var n=e[i],s=0;4>s;s++)this["grpHistroy"+s+"_"+i].source=1==n[s]?"qznn_a8":"qznn_a7"}else this["grpHistroy"+i].visible=!1},e.prototype.playClickSound=function(t){xlLib.SoundMgr.instance.playSound(t+"_mp3")},e.prototype.Onquit=function(){if(this.playClickSound(QZNNUtil.getInstance().getSoundEffect(10)),UserInfo.getInstance().isGameStart)return void xlLib.PopUpMgr.addPopUp(Hint,this,!0,!0,null,1);xlLib.SoundMgr.instance.stopBgMusic();var t=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(t),xlLib.SceneMgr.instance.changeScene(Lobby)},e.prototype.destroy=function(){this._btn_meun.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_begin.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_double_5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_tanpai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.Onquit,this),EventUtil.removeEventListener(EventConst.onUserShowOrderUpdate,this.onShowOrder,this),EventUtil.removeEventListener(EventConst.players,this.addPlayers,this),EventUtil.removeEventListener(EventConst.onNewUserEnterGame,this.playerJoinRoom,this),EventUtil.removeEventListener(EventConst.onGameStatusChange,this.GameStatus,this),EventUtil.removeEventListener(EventConst.onUserBetOrderUpdate,this.OnBetUpdate,this),null!=this.cdTimer&&this.cdTimer.removeEventListener(egret.TimerEvent.TIMER,this.clearTimer,this),this.removeEff(this.nnbankerEff),0!=this.interval&&clearInterval(this.interval),0!=this.flyIntval_1&&clearInterval(this.flyIntval_1),0!=this.flyIntval_2&&clearInterval(this.flyIntval_2),0!=this.flyIntval_3&&clearInterval(this.flyIntval_3),0!=this.flyIntval_4&&clearInterval(this.flyIntval_4),0!=this.flyIntval_5&&clearInterval(this.flyIntval_5),0!=this.flyIntval_6&&clearInterval(this.flyIntval_6),0!=this.expandIntval_1&&clearInterval(this.expandIntval_1),0!=this.expandIntval_2&&clearInterval(this.expandIntval_2),0!=this.expandIntval_3&&clearInterval(this.expandIntval_3),0!=this.expandIntval_4&&clearInterval(this.expandIntval_4),0!=this.expandIntval_5&&clearInterval(this.expandIntval_5),0!=this.expandIntval_6&&clearInterval(this.expandIntval_6);for(var t=1;6>t;t++)for(var e=0;5>e;e++){var i=this["grpCard_"+t+"_"+e];egret.Tween.removeTweens(i)}for(var n=0;5>n;n++){var s=this["bankerCard_"+n];egret.Tween.removeTweens(s);var r=this["_puke_"+n];egret.Tween.removeTweens(r)}},e}(eui.Component);__reflect(TBNNView.prototype,"TBNNView");var AwardItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="AwardItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){},e.prototype.setData=function(t,e){1==e?this.setExchange(t):2==e?this.setSelfRecord(t):3==e&&this.setAllRecord(t)},e.prototype.setExchange=function(t){},e.prototype.setAllRecord=function(t){},e.prototype.setSelfRecord=function(t){},e.prototype.onTouchExchange=function(){},e.prototype.exchangeCB=function(t){200==t.code},e.prototype.dispose=function(){this.parent&&this.parent.removeChild(this)},e.prototype.setTouchEnabled=function(){},e}(eui.Component);__reflect(AwardItem.prototype,"AwardItem");var LotteryPanel=function(t){function e(){var e=t.call(this)||this;return e.isLottering=!1,e.rewardArr=[],e.curTimes=0,e.skinName="LotterySkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.deg=0,this.duration=0,this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this.current.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchLottery,this);var t=["1点券","1元红包","2点券","2元红包","3点券","3元红包","5点券","5元红包","10点券","10元红包","5百万金币","1千万金币"];this.getDialInfo(t)},e.prototype.getDialInfo=function(t){this.curTimes=100,this.labTipsNum.text="您当前剩余"+this.curTimes+"次抽奖机会！",this.rewardArr=t;for(var e=0;e<this.rewardArr.length;e++)this["label"+e].text=this.rewardArr[e]},e.prototype.onTouchCharge=function(){!this.isLottering},e.prototype.onTouchLottery=function(){this.isLottering||this.onPostComplete(6)},e.prototype.onPostComplete=function(t){var e=this;this.curTimes=this.curTimes-1,this.labTipsNum.text="您当前剩余"+this.curTimes+"次抽奖机会！",this.isLottering=!0;var i=t;return this.deg=360*Math.ceil(6*Math.random()+10)-30*(i-1),this.duration=this.calcDuration(this.deg),console.log("prize_id：",i,"转动角度：",this.deg,"转动时间：",this.duration),this.startTurn(function(){e.lotteryDone(e.rewardArr[i-1])})},e.prototype.calcDuration=function(t){return 2*t},e.prototype.lotteryDone=function(t){egret.Tween.removeAllTweens(),this.isLottering=!1,xlLib.TipsUtils.showFloatWordTips("恭喜您获得了 "+t)},e.prototype.startTurn=function(t){var e=this;this.lightAni(),this.current.touchEnabled=!1,egret.Tween.get(this.inCir).to({rotation:this.deg},this.duration,egret.Ease.cubicOut).call(function(){e.current.touchEnabled=!0,t()})},e.prototype.lightAni=function(){egret.Tween.get(this.warpCir,{loop:!0}).set({source:RES.getRes("lottery.wrapcircle_bg2")}).wait(300).set({source:RES.getRes("lottery.wrapcircle_bg")}).wait(300)},e.prototype.getGridID=function(t){for(var e=0,i=[],n=0;n<this.rewardArr.length;n++)this.rewardArr[n]==t&&i.push(n);return console.log("grid Arr : "+i),e=i[Math.floor(Math.random()*i.length)],console.log("grid id:  "+e),e},e.prototype.dispose=function(){this.isLottering||this.parent&&this.parent.removeChild(this)},e.prototype.setTouchEnabled=function(){},e.prototype.destroy=function(){this.isLottering||(this.parent&&this.parent.removeChild(this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this.current.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchLottery,this))},e}(eui.Component);__reflect(LotteryPanel.prototype,"LotteryPanel");var WelfareTypeItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="WelfareTypeItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){},e}(eui.ItemRenderer);__reflect(WelfareTypeItem.prototype,"WelfareTypeItem");var WelfareView=function(t){function e(){var e=t.call(this)||this;return e.skinName="WelfareViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this);var e=[{name:"精彩活动",down_url:"title_huodong_1_png",up_url:"title_huodong_0_png"},{name:"每日任务",down_url:"title_renwu_1_png",up_url:"title_renwu_0_png"},{name:"幸运轮盘",down_url:"title_zhuanpan_1_png",up_url:"title_zhuanpan_0_png"},{name:"每日签到",down_url:"title_qiandao_1_png",up_url:"title_qiandao_0_png"}];this._tabBar_meun.dataProvider=new eui.ArrayCollection(e),this._tabBar_meun.useVirtualLayout=!0,this._tabBar_meun.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onBarItemTap,this),this.getTaskList()},e.prototype.getTaskList=function(){for(var t=["1","1","1","1","1","1","1"],e=0;e<t.length;e++){var i=new AwardItem;this._reward_area.addChild(i),i.x=5,i.y=125*e}},e.prototype.onBarItemTap=function(t){this._viewlist.selectedIndex=t.itemIndex},e.prototype.dispose=function(){xlLib.PopUpMgr.removePopUp(this,1)},e.prototype.destroy=function(){this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this._tabBar_meun.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onBarItemTap,this)},e}(eui.Component);__reflect(WelfareView.prototype,"WelfareView");var Annular=function(t){function e(e,i,n,s,r){var o=t.call(this)||this;return o.centerPoint={x:0,y:0},o.radius=0,o.radius2=0,o.distance=0,o.color=0,o.spriteList=[],o.centerPoint.x=e,o.centerPoint.y=i,o.radius=n,o.radius2=s,o.distance=s-n,o.color=r,o.createMaskRound(),o}return __extends(e,t),e.prototype.createMaskRound=function(){var t=new egret.Sprite;t.anchorOffsetX=.5,t.anchorOffsetY=.5,t.x=this.centerPoint.x,t.y=this.centerPoint.y,this.addChild(t);var e=new egret.Sprite;e.anchorOffsetX=.5,e.anchorOffsetY=.5,t.addChild(e),this.spriteList.push(e);var i=new egret.Shape;i.graphics.beginFill(this.color,1),i.graphics.drawCircle(this.radius2,this.radius2,this.radius2),i.graphics.endFill(),e.addChild(i);var n=new egret.Shape;n.graphics.beginFill(16777215,1),n.graphics.drawRect(0,0,i.width/2,i.height),n.graphics.endFill(),e.addChild(n),t.width=e.width,t.height=e.height,t.mask=new egret.Rectangle(t.width/2,0,t.width/2,t.height),e.x=e.width/2,e.y=e.height/2,e.rotation=-180;var s=new egret.Sprite;s.anchorOffsetX=-100,s.anchorOffsetY=-100,s.x=this.centerPoint.x,s.y=this.centerPoint.y,this.addChild(s);var r=new egret.Sprite;r.anchorOffsetX=.5,r.anchorOffsetY=.5,s.addChild(r),this.spriteList.push(r),r.rotation=-180;var o=new egret.Shape;o.graphics.beginFill(this.color,1),o.graphics.drawCircle(this.radius2,this.radius2,this.radius2),o.graphics.endFill(),r.addChild(o);var a=new egret.Shape;a.graphics.beginFill(16777215,1),a.graphics.drawRect(i.width/2,0,i.width/2,i.height),a.graphics.endFill(),r.addChild(a),s.width=r.width,s.height=r.height,s.mask=new egret.Rectangle(0,0,s.width/2,s.height),r.x=r.width/2,r.y=r.height/2;var h=new egret.Shape;h.anchorOffsetX=.5,h.anchorOffsetY=.5,h.x=this.centerPoint.x,h.y=this.centerPoint.y,h.graphics.lineStyle(2,10066329,1),h.graphics.beginFill(43775,0),h.graphics.drawCircle(this.radius2,this.radius2,this.radius2),h.graphics.endFill(),this.addChild(h);var l=new egret.Shape;l.anchorOffsetX=.5,l.anchorOffsetY=.5,l.x=this.centerPoint.x,l.y=this.centerPoint.y,l.graphics.lineStyle(2,10066329,1),l.graphics.beginFill(16777215,1),l.graphics.drawCircle(this.radius,this.radius,this.radius),l.graphics.endFill(),this.addChild(l)},e.prototype.setPercent=function(t){0>=t||t>100||(50>=t?this.spriteList[0].rotation+=3.6*t:(this.spriteList[0].rotation+=180,this.spriteList[1].rotation+=3.6*(t-50)))},e.prototype.setPercentWithAnimation=function(t,e){if(!(0>=t||t>100)){var i=e/360;if(50>=t){var n=3.6*t;egret.Tween.get(this.spriteList[0]).to({rotation:n-180},n*i)}else{var s=this,n=180;egret.Tween.get(this.spriteList[0]).to({rotation:n-180},n*i).call(function(){var e=3.6*(t-50);console.log(t),egret.Tween.get(s.spriteList[1]).to({rotation:e-180},e*i)})}}},e}(egret.Sprite);__reflect(Annular.prototype,"Annular");var Opeprogress=function(t){function e(i,n,s){void 0===s&&(s=e.ByDegree);var r=t.call(this)||this;return r.rotateTimer=-1,r.lastArc=0,r.drawMethod=s,r.drawFunc=0==s?r.drawByDegree:r.drawByDistance,r.width=i,r.height=n,r["long"]=i+n<<1,r.radius=Math.sqrt(i*i+n*n)>>1,r.init(),r.addEventListener(egret.Event.ADDED_TO_STAGE,r.onAdded,r),r.addEventListener(egret.Event.REMOVED_FROM_STAGE,r.onRemoved,r),r}return __extends(e,t),e.prototype.onAdded=function(t){var e=this;this.rotateTimer=setInterval(function(){e.star.rotation+=10},30)},e.prototype.onRemoved=function(t){-1!=this.rotateTimer&&(clearInterval(this.rotateTimer),this.rotateTimer=-1)},e.prototype.init=function(){this.star=new egret.Bitmap(RES.getRes("star")),this.display=new egret.Shape,this.msk=new egret.Shape;var t=this.display.graphics;t.beginFill(65280,.3),t.drawRoundRect(0,0,this.width,this.height,10,10),t.endFill(),this.addChild(this.display),this.addChild(this.msk),this.display.mask=this.msk,this.resolutionArc=Math.atan(this.width/this.height),this.mg=this.msk.graphics,this.startX=this.width>>1,this.startY=this.height>>1,this.mg.moveTo(this.startX,this.startY),this.drawMethod==e.ByDegree?this.mg.lineTo(this.startX,this.startY-this.radius):(this.mg.lineTo(this.startX,0),this.lastX=this.startX,this.lastY=0),this.star.x=this.startX,this.star.y=0,this.star.anchorOffsetX=this.star.width>>1,this.star.anchorOffsetY=this.star.height>>1,this.addChild(this.star)},e.prototype.drawByDegree=function(){var t=2*this._percent*Math.PI;this.mg.beginFill(255),this.mg.moveTo(this.startX+Math.sin(this.lastArc)*this.radius,this.startY-Math.cos(this.lastArc)*this.radius),this.mg.lineTo(this.startX+Math.sin(t)*this.radius,this.startY-Math.cos(t)*this.radius),this.mg.lineTo(this.startX,this.startY),this.lastArc=t,t<this.resolutionArc||t>2*Math.PI-this.resolutionArc?(this.star.y=0,this.star.x=this.startX+this.startY*Math.tan(t)):t>=this.resolutionArc&&t<Math.PI-this.resolutionArc?(this.star.x=this.width,this.star.y=this.startY-this.startX/Math.tan(t)):t>=Math.PI-this.resolutionArc&&t<Math.PI+this.resolutionArc?(this.star.x=this.startX-Math.tan(t)*this.startY,this.star.y=this.height):t>=Math.PI+this.resolutionArc&&t<2*Math.PI-this.resolutionArc&&(this.star.x=0,this.star.y=this.startY+this.startX/Math.tan(t))},e.prototype.drawByDistance=function(){var t=this["long"]*this._percent;this.mg.beginFill(255),this.mg.moveTo(this.lastX,this.lastY),t<.5*this.width?(this.star.y=0,this.star.x=this.startX+t):t<=.5*this.width+this.height?(this.star.x=this.width,this.star.y=t-.5*this.width):t<=1.5*this.width+this.height?(this.star.x=1.5*this.width-t+this.height,this.star.y=this.height):t<=this["long"]-.5*this.width?(this.star.x=0,this.star.y=2*this.height+1.5*this.width-t):t<=this["long"]&&(this.star.y=0,this.star.x=this.startX-this["long"]+t),this.lastX=this.star.x,this.lastY=this.star.y,this.mg.lineTo(this.star.x,this.star.y),this.mg.lineTo(this.startX,this.startY)},Object.defineProperty(e.prototype,"percent",{get:function(){return this._percent},set:function(t){if(0>t||t>1){if(console.warn("Percentage illegal:",t),this._percent>=1)return;t=1}this._percent!=t&&(this._percent=t,this.drawFunc.apply(this))},enumerable:!0,configurable:!0}),e.ByDegree=0,e.ByDistance=1,e}(egret.DisplayObjectContainer);__reflect(Opeprogress.prototype,"Opeprogress");var ZJHHead=function(t){function e(){var e=t.call(this)||this;return e.skinName="ZJHHeadSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this)},e.prototype.setUserInfo=function(t,e,i){this.imghead.source=i,this.labelName.text=t,this.labelGold.text=e},e.prototype.setOtherGold=function(t){this.labelGold.text=t},e.prototype.destroy=function(){},e}(eui.Component);__reflect(ZJHHead.prototype,"ZJHHead");var ZJHHelpPanl=function(t){function e(){var e=t.call(this)||this;return e.skinName="ZJHHelpPanlSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this);var e=[{name:"牌型",down_url:"gf_px3_png",up_url:"gf_px3_png"},{name:"玩法",down_url:"gf_px3_png",up_url:"gf_px3_png"},{name:"赔率",down_url:"gf_px3_png",up_url:"gf_px3_png"},{name:"关于我们",down_url:"gf_px3_png",up_url:"gf_px3_png"}];this._tabbar_help.dataProvider=new eui.ArrayCollection(e),this._tabbar_help.useVirtualLayout=!0,this._tabbar_help.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onBarItemTap,this),this._btn_help_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this),this.rect_bg2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this)},e.prototype.onBarItemTap=function(t){this._vk_help.selectedIndex=t.itemIndex,xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.onclosepanl=function(){xlLib.PopUpMgr.removePopUp(e,1),console.log("移除面板")},e.prototype.dataChanged=function(){},e.prototype.destroy=function(){this._tabbar_help.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onBarItemTap,this),this._btn_help_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this),this.rect_bg2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this)},e}(eui.Component);__reflect(ZJHHelpPanl.prototype,"ZJHHelpPanl");var ZJHhelpType=function(t){function e(){var e=t.call(this)||this;return e.skinName="ZhajhhelpTypeSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){},e}(eui.ItemRenderer);__reflect(ZJHhelpType.prototype,"ZJHhelpType");var ZJHIsLiveRoom=function(t){function e(){var e=t.call(this)||this;return e.skinName="ZJHIsLiveRoomSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._btn_cancel1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this),this._btn_quite1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),EventUtil.addEventListener(EventConst.onUserLeave,this.onleave,this)},e.prototype.onclosepanl=function(t){console.log("点击取消"),xlLib.PopUpMgr.removePopUp(e,1)},e.prototype.onClick=function(t){if(0==GlobalData.liveCloseBtn)this.sendInfo(EventConst.zjhLeave,1);else if(1==GlobalData.liveCloseBtn){GlobalData.liveCloseBtn=!1,xlLib.PopUpMgr.removePopUp(e,1);var i=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(i),xlLib.SceneMgr.instance.changeScene(Lobby)}console.log("点击确定")
},e.prototype.sendInfo=function(t,e){var i=UserInfo.getInstance().getGameDataByindex(Const.GAME_ZHAJINHUA),n=i.getTypeDataByindex(Const.TYPE_JINGDIANJINHUA),s=n.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),r={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:s.id,data:e};xlLib.WebSocketMgr.getInstance().send(t,r,function(t){},this)},e.prototype.onleave=function(t){if(200==t._obj.code){xlLib.PopUpMgr.removePopUp(e,1);var i=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(i),xlLib.SceneMgr.instance.changeScene(Lobby)}this.destroy()},e.prototype.dataChanged=function(){},e.prototype.destroy=function(){this._btn_cancel1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this),this._btn_quite1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),EventUtil.removeEventListener(EventConst.onUserLeave,this.onleave,this)},e}(eui.ItemRenderer);__reflect(ZJHIsLiveRoom.prototype,"ZJHIsLiveRoom");var ZJHNotLiveRoom=function(t){function e(){var e=t.call(this)||this;return e.skinName="ZJHNotLiveRoomSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._btn_quite1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this)},e.prototype.onclosepanl=function(t){xlLib.PopUpMgr.removePopUp(e,1)},e.prototype.dataChanged=function(){},e.prototype.destroy=function(){this._btn_quite1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this)},e}(eui.ItemRenderer);__reflect(ZJHNotLiveRoom.prototype,"ZJHNotLiveRoom");var ZJHpaprePanl=function(t){function e(){var e=t.call(this)||this;return e.TYPE_TAP="",e.skinName="ZJHpaprePanlSkin",e}return __extends(e,t),e.prototype.partAdded=function(e,i){this.clearTime(),t.prototype.partAdded.call(this,e,i)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.initData(),this._btn_hintclose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),EventUtil.addEventListener(EventConst.onUserOutRoom,this.onleave,this)},e.prototype.onleave=function(t){if(200==t._obj.code){GlobalData.isLiveRoom=t._obj.close,xlLib.PopUpMgr.removePopUp(e,1);var i=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(i)}this.destroy()},e.prototype.onClick=function(t){GlobalData.liveCloseBtn=!0,this.quxiaopipei()},e.prototype.quxiaopipei=function(){var t=UserInfo.getInstance().getGameDataByindex(Const.GAME_ZHAJINHUA),e=t.getTypeDataByindex(this.TYPE_TAP),i=e.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:i.id};xlLib.WebSocketMgr.getInstance().send(EventConst.outRoom,n,function(t){},this)},e.prototype.initData=function(){this.str=this.lab_papreTips.text,this.startCountDown(0)},e.prototype.startCountDown=function(t){this.time=t,null==this.timer&&(this.timer=new egret.Timer(300),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer.start())},e.prototype.timerFunc=function(t){for(var e=0;e<=this.time%4;e++)switch(e){case 0:this.lab_papreTips.text=this.str+"";break;case 1:this.lab_papreTips.text=this.str+".";break;case 2:this.lab_papreTips.text=this.str+"..";break;case 3:this.lab_papreTips.text=this.str+"..."}this.time++},e.prototype.clearTime=function(){this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer=null)},e.prototype.destroy=function(){this.TYPE_TAP="",this._btn_hintclose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),EventUtil.removeEventListener(EventConst.onUserOutRoom,this.onleave,this)},e}(eui.Component);__reflect(ZJHpaprePanl.prototype,"ZJHpaprePanl");var ZJHRecordPanl=function(t){function e(){var e=t.call(this)||this;return e.skinName="ZJHRecordPanlSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._btn_record_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this),this.rect_board.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this)},e.prototype.onclosepanl=function(){xlLib.PopUpMgr.removePopUp(e,1)},e.prototype.dataChanged=function(){},e.prototype.destroy=function(){this._btn_record_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this),this.rect_board.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclosepanl,this)},e}(eui.ItemRenderer);__reflect(ZJHRecordPanl.prototype,"ZJHRecordPanl");var ZJHroomView=function(t){function e(){var e=t.call(this)||this;return e.skinName="ZhajhroomViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._return.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Onclickpanl,this),this._record.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Onclickpanl,this),this._help.addEventListener(egret.TouchEvent.TOUCH_TAP,this.Onclickpanl,this),this._coin_label.text=""+UserInfo.getInstance().goldcoins,this._btn_cjc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGame,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.JoinRoomPrepare,this)},e.prototype.JoinRoomPrepare=function(t){200==t.param.code&&(xlLib.SceneMgr.instance.changeScene(ZJHScene),xlLib.TipsUtils.showFloatWordTips("加入房间成功！"))},e.prototype.onEnterGame=function(){if(this.gameIconData){var t=UserInfo.getInstance().getGameDataByindex(this.gameIconData.game),e=t.getTypeDataByindex(this.gameIconData.type),i=e.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:i.id};xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,n,function(t){},this)}},e.prototype.setGameIconData=function(t){this.gameIconData=t},e.prototype.Onclickpanl=function(t){t.target==this._return?xlLib.PopUpMgr.removePopUp(this,1):t.target==this._record?this.addrecordPanl():t.target==this._help&&this.addhelpPanl()},e.prototype.addrecordPanl=function(){xlLib.PopUpMgr.addPopUp(ZJHRecordPanl,null,!0,!0,null,1)},e.prototype.addhelpPanl=function(){xlLib.PopUpMgr.addPopUp(ZJHHelpPanl,null,!0,!0,null,1)},e.prototype.destroy=function(){this.gameIconData=null,this._return.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.Onclickpanl,this),this._record.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.Onclickpanl,this),this._help.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.Onclickpanl,this),EventUtil.removeEventListener(EventConst.onGameStatusChange,this.JoinRoomPrepare,this)},e}(eui.Component);__reflect(ZJHroomView.prototype,"ZJHroomView",["eui.UIComponent","egret.DisplayObject"]);var ZJHScene=function(t){function e(){var e=t.call(this)||this;return e.ZJHView=new ZJHView,e.uiLayer.addChild(e.ZJHView),e}return __extends(e,t),e.prototype.destroy=function(){this.ZJHView.destroy(),t.prototype.destroy.call(this)},e.prototype.resize=function(){this.ZJHView&&this.ZJHView.resize()},e}(xlLib.GameScene);__reflect(ZJHScene.prototype,"ZJHScene");var ZJHUtil=function(){function t(){if(t.instance)throw new Error("Instance is alreally exist")}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getBetNumber=function(t){switch(t){case 0:return Math.pow(10,4);case 1:return Math.pow(10,5);case 2:return 5*Math.pow(10,6);case 3:return Math.pow(10,7);case 4:return 1*Math.pow(10,8);case 5:return 5*Math.pow(10,8)}},t.prototype.getMsgSource=function(t){var e="";switch(t){case 2:e="d2";break;case 3:e="d3";break;case 4:e="d4";break;case 5:e="d5"}return e},t.prototype.getSoundEffect=function(t){switch(t){case 0:return"bgm";case 1:return"jh.jackpot";case 2:return"jh.start";case 3:return"jh.end";case 4:return"jh.ts";case 5:return"jh.tp";case 6:return"jh.dealCard";case 7:return"jh.openCard";case 8:return"jh.stake"}},t.prototype.getCoinsPos=function(){var t=new egret.Point;return t.x=700,t.y=300,t},t.prototype.getCardType=function(t){switch(t){case 1:return"gf_px6_png";case 2:return"gf_px5_png";case 3:return"gf_px4_png";case 4:return"gf_px3_png";case 5:return"gf_px2_png";case 6:return"gf_px1_png"}},t.prototype.getChipType=function(t){switch(t){case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 6;case 6:return 7}},t.prototype.getplayerstatue=function(t){switch(t){case 1:return"豹子";case 2:return"同花顺";case 3:return"金花";case 4:return"顺子";case 5:return"对子";case 6:return"单张"}},t.prototype.coinsType=function(t,e){var i=[],n=0,s="";if(e=Math.round(e/100),1==e||2==e?(n=e,s="gf_icon_chip_sm1_png"):3==e||6==e?(n=e,s="gf_icon_chip_sm5_png"):4==e||8==e?(n=e,s="gf_icon_chip_sm3_png"):5==e||10==e?(n=e,s="gf_icon_chip_sm6_png"):6==e||12==e?(n=e,s="gf_icon_chip_sm4_png"):(7==e||14==e)&&(n=e,s="gf_icon_chip_sm2_png"),Math.round(n)<=7){var r=new egret.Sprite,o=new eui.Image(s),a=new eui.Label(Math.round(n).toString());o.name="img",o.x=0,o.y=0,a.name="txt",a.x=0,a.y=10,a.width=62,a.height=20,a.textAlign=egret.HorizontalAlign.CENTER,r.addChild(o),r.addChild(a),r.x=t.x,r.y=t.y,i.push(r)}else if(Math.round(n)>7&&Math.round(n)<=14)for(var h=0;2>h;h++){var r=new egret.Sprite,o=new eui.Image(s),a=new eui.Label(Math.round(n/2).toString());o.name="img",o.x=0,o.y=0,a.name="txt",a.x=0,a.y=10,a.width=62,a.height=20,a.textAlign=egret.HorizontalAlign.CENTER,r.addChild(o),r.addChild(a),r.x=t.x,r.y=t.y,i.push(r)}return i},t.prototype.coinPos=function(){var t=new egret.Point,e=Math.floor(4*Math.random());switch(e){case 0:t.x=-100,t.y=400;break;case 1:t.x=-100,t.y=800;break;case 2:t.x=650,t.y=400;break;case 3:t.x=650,t.y=800}return t},t.instance=null,t}();__reflect(ZJHUtil.prototype,"ZJHUtil");var ZJHView=function(t){function e(){var e=t.call(this)||this;return e.r=null,e.interval=-1,e.selfbetsNum={},e.betsPostion=-1,e.betsNum=0,e.cardResult=null,e.isChangeBanker=!1,e.changeBankerObj={},e.isCanBets=!0,e.poolBetArray={},e.limitGold=0,e.limitVip=0,e.curBankerRanking=-1,e.isApplyBanker=!1,e.lastGameBankerNum=0,e.isSysBanker=!1,e.orginBankerCardPos=[],e.orginPlayerCardPos=[],e.isBanker=!1,e.isBets=!1,e.maxUserData=null,e.banker_total_gold=0,e.isBoomBanker=!1,e.resultCaijin=0,e.totalCaijin=0,e.cdNum=10,e.coinsNumArr={},e.isCoinsReturn=!0,e.curRate=0,e.lastTouchBetTime=0,e.isCardEffectShow=!1,e.playerOperatingState=[0,0,0,0,0],e.isClickjixuGameBtn=!1,e.isClickqipaiBtn=!1,e.OnClickautogenzhutime=0,e.byOpenId=["","","","",""],e.abandonId=[],e.oldMybotpGold=1,e.oldOtherbotpGold=[1,1,1,1,1],e.goldarr=[],e.nowroundNum=0,e.betarr=[],e.notAbandbotp=0,e.therGolds=0,e.OtherPlayer=[],e.zhangIndex=4,e.flyIntval=0,e.flyIndex0=4,e.flyIndex1=0,e.skinName="ZJHViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){this.getOrginCardPos(),this.addEvent(),this.initData(),this.labelHead0.text=UserInfo.getInstance().username,this.labelGold0.text=""+UserInfo.getInstance().goldcoins;var t=(new Annular(300,300,0,200,16777215),new Opeprogress(173,219,10));this.addChild(t),this.gamestatue(UserInfo.getInstance().gameData)},e.prototype.initData=function(){this.selfbetsNum={1:0,2:0,3:0,4:0},this.poolBetArray={1:0,2:0,3:0,4:0},this.coinsNumArr={1:0,2:0,3:0,4:0},this.grpCoins.touchEnabled=!1,this.isprepare=!0,this.isoperat=!1,this.isCall=!1,this.img_autogenzhu.visible=!1,this.grpCard.visible=!0,this._btn_jiazhu.visible=!1,this._btn_kanpai.visible=!1,this._btn_bipai.visible=!1,this._btn_genzhu.visible=!1,this._btn_autogenzhu.visible=!1,this._btn_cancelautogenzhu.visible=!1,this.img_cancelautogenzhu0.visible=!1,this.img_cancelautogenzhu1.visible=!1,this.img_qipai.visible=!1,this.img_jiazhu.visible=!1,this.img_bipai.visible=!1,this._btn_qipai.visible=!1,this.grp_btncm0.visible=!1,this._btn_continuegame.visible=!1,this.img_genzhu.visible=!1,this._btn_luckmoney.touchEnabled=!1,this._btn_luckmoney.visible=!1,this.lab_callNumber.visible=!1,this.lab_tankNumber.visible=!1,this.lab_quanyaNumber.visible=!1,this.img_quanya.visible=!1,this._btn_quanxia.visible=!1,this.grp_menu.visible=!1,this.grp_out_hint.visible=!1,this.grp_setting_hint.visible=!1,this.grp_feedback_panel.visible=!1,this.grp_roungNum.visible=!1,this.lab_now_roundNum.text=String(0),this.grpHead0.visible=!1,this.grpHead1.visible=!1,this.grpHead2.visible=!1,this.grpHead3.visible=!1,this.grpHead4.visible=!1,UserInfo.getInstance().isGameStart=!0,this.deskNum(!1),this.botpGolds(!1)},e.prototype.getOrginCardPos=function(){for(var t=0;5>t;t++){this["imgCardbg"+t].source="",this["imgCardType"+t].source="",this["labstatus"+t].text="";for(var e=[],i=0;3>i;i++){var n=this["grpCard"+t+"_"+i];n.source="",n.anchorOffsetX=n.width/2,n.x+=n.width/2;var s=new egret.Point;s.x=n.x,s.y=n.y,e[i]=s}this.orginPlayerCardPos[t]=e}for(var t=1;5>t;t++)this["img_abandon"+t].source=""},e.prototype.resize=function(){},e.prototype.OnClick=function(t){if(t.target==this._btn_kanpai)console.log("看牌"),this.sendamessage(EventConst.seecard,null);else if(t.target==this._btn_genzhu)"lab_genzhu_png"==this.img_genzhu.source&&(this.sendamessage(EventConst.botpour,this.callnum),xlLib.TipsUtils.showFloatWordTips("跟注:"+this.callnum),this._btn_autogenzhu.visible=!0,this.img_autogenzhu.visible=!0,this.img_genzhu.visible=!1,this.lab_callNumber.visible=!1,this._btn_genzhu.touchEnabled=!1,this._btn_jiazhu.touchEnabled=!1,xlLib.DisplayUtils.setComponentEnabled(this._btn_genzhu,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiazhu,!1));else if(t.target==this._btn_autogenzhu)this.sendamessage(EventConst.onAutoFollow,null),xlLib.TipsUtils.showFloatWordTips("自动跟注"),this.playerOperatingState[0]=4;else if(t.target==this._btn_cancelautogenzhu)this.sendamessage(EventConst.closeAutoFollow,null),xlLib.TipsUtils.showFloatWordTips("取消自动跟注");else if(t.target==this._btn_jiazhu)this.grp_btncm0.visible=!0;else if(t.target==this._btn_jiacm_0)this.sendamessage(EventConst.botpour,parseInt(this.betarr[0])),this.img_autogenzhu.visible=!0,this._btn_autogenzhu.visible=!0,this.Clickaddtohide(),xlLib.TipsUtils.showFloatWordTips("加注金币:"+parseInt(this.betarr[0])),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_0,!1);else if(t.target==this._btn_jiacm_1)this.sendamessage(EventConst.botpour,parseInt(this.betarr[1])),this.img_autogenzhu.visible=!0,this._btn_autogenzhu.visible=!0,this.Clickaddtohide(),xlLib.TipsUtils.showFloatWordTips("加注金币:"+parseInt(this.betarr[1])),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_0,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_1,!1);else if(t.target==this._btn_jiacm_2)this.sendamessage(EventConst.botpour,parseInt(this.betarr[2])),this.img_autogenzhu.visible=!0,this._btn_autogenzhu.visible=!0,this.Clickaddtohide(),xlLib.TipsUtils.showFloatWordTips("加注金币:"+parseInt(this.betarr[2])),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_0,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_1,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_2,!1);else if(t.target==this._btn_jiacm_3)this.sendamessage(EventConst.botpour,parseInt(this.betarr[3])),this.img_autogenzhu.visible=!0,this._btn_autogenzhu.visible=!0,this.Clickaddtohide(),xlLib.TipsUtils.showFloatWordTips("加注金币:"+parseInt(this.betarr[3])),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_0,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_1,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_2,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_3,!1);else if(t.target==this._btn_jiacm_4)this.sendamessage(EventConst.botpour,parseInt(this.betarr[4])),this.img_autogenzhu.visible=!0,this._btn_autogenzhu.visible=!0,this.Clickaddtohide(),xlLib.TipsUtils.showFloatWordTips("加注金币:"+parseInt(this.betarr[4])),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_0,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_1,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_2,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_3,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_4,!1);else if(t.target==this._btn_jiacm_5)this.sendamessage(EventConst.botpour,parseInt(this.betarr[5])),this.img_autogenzhu.visible=!0,this._btn_autogenzhu.visible=!0,this.Clickaddtohide(),xlLib.TipsUtils.showFloatWordTips("加注金币:"+parseInt(this.betarr[5])),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_0,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_1,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_2,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_3,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_4,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_5,!1);else if(t.target==this._btn_quanxia)xlLib.TipsUtils.showFloatWordTips("全压"),this.sendamessage(EventConst.pressure,null),this.onGenZhuClick(0,this.shortGold);else if(t.target==this._btn_qipai)this.sendamessage(EventConst.abandon,null),this.isClickqipaiBtn=!0,xlLib.TipsUtils.showFloatWordTips("弃牌");else if(t.target==this._btn_bipai)this.onBiPaiClick(),xlLib.TipsUtils.showFloatWordTips("比牌");else if(t.target==this._btn_continuegame)this.isClickjixuGameBtn=!0,this.sendamessage(EventConst.outRoom,null),this.sendamessage(EventConst.joinroom,null),UserInfo.getInstance().isGameStart=!0,this.resetGame(),xlLib.TipsUtils.showFloatWordTips("继续游戏");else if(t.target==this.grpHead1)xlLib.TipsUtils.showFloatWordTips("点击玩家1"),console.log("可以与1号玩家比牌"),this.sendamessage2(EventConst.compareCard,this.UsId,this.byOpenId[1]),this.sendamessage(EventConst.botpour,this.callnum),xlLib.TipsUtils.showFloatWordTips("跟注:"+this.callnum),console.log(this.byOpenId);else if(t.target==this.grpHead2)xlLib.TipsUtils.showFloatWordTips("点击玩家2"),this.sendamessage2(EventConst.compareCard,this.UsId,this.byOpenId[2]),this.sendamessage(EventConst.botpour,this.callnum),xlLib.TipsUtils.showFloatWordTips("跟注:"+this.callnum),console.log("可以与2号玩家比牌"),console.log(this.byOpenId);else if(t.target==this.grpHead3)xlLib.TipsUtils.showFloatWordTips("点击玩家3"),this.sendamessage2(EventConst.compareCard,this.UsId,this.byOpenId[3]),this.sendamessage(EventConst.botpour,this.callnum),xlLib.TipsUtils.showFloatWordTips("跟注:"+this.callnum),console.log("可以与3号玩家比牌"),console.log(this.byOpenId);else if(t.target==this.grpHead4)xlLib.TipsUtils.showFloatWordTips("点击玩家4"),this.sendamessage2(EventConst.compareCard,this.UsId,this.byOpenId[4]),this.sendamessage(EventConst.botpour,this.callnum),xlLib.TipsUtils.showFloatWordTips("跟注:"+this.callnum),console.log("可以与4号玩家比牌"),console.log(this.byOpenId);else if(t.target==this._btn_menu)xlLib.TipsUtils.showFloatWordTips("菜单"),this.grp_menu.visible=!0;else if(t.target==this._btn_luckmoney)xlLib.TipsUtils.showFloatWordTips("喜钱");else if(t.target==this._btn_out){if(this.grp_menu.visible=!1,1==GlobalData.isLiveRoom){xlLib.PopUpMgr.addPopUp(ZJHIsLiveRoom,this,!0,!0,null,1)}else if(0==GlobalData.isLiveRoom){xlLib.PopUpMgr.addPopUp(ZJHNotLiveRoom,this,!0,!0,null,1)}0==GlobalData.liveCloseBtn&&this.sendamessage(EventConst.isLeave,null)}else t.target==this._btn_setting?(this.grp_menu.visible=!1,this.grp_setting_hint.visible=!0,xlLib.TipsUtils.showFloatWordTips("设置")):t.target==this._btn_record?(this.grp_menu.visible=!1,xlLib.TipsUtils.showFloatWordTips("记录"),xlLib.PopUpMgr.addPopUp(ZJHRecordPanl,null,!0)):t.target==this._btn_playmethod?(this.grp_menu.visible=!1,xlLib.TipsUtils.showFloatWordTips("玩法"),xlLib.PopUpMgr.addPopUp(ZJHHelpPanl,null,!0)):t.target==this._btn_feedback?(this.grp_menu.visible=!1,this.grp_feedback_panel.visible=!0,xlLib.TipsUtils.showFloatWordTips("反馈")):t.target==this._btn_set_close?(this.grp_setting_hint.visible=!1,xlLib.TipsUtils.showFloatWordTips("退出设置面板")):t.target==this._btn_feedback_close&&(this.grp_feedback_panel.visible=!1,xlLib.TipsUtils.showFloatWordTips("退出反馈面板"))},e.prototype.onBiPaiClick=function(){this.byOpenId=[];for(var t=1;t<this.playerOperatingState.length;t++)if(3!=this.playerOperatingState[t]){UserInfo.getInstance().playes[t];this["grpHead"+t].touchEnabled=!0,this["grpHead"+t].touchChildren=!1,this.byOpenId[t]=this.OtherPlayer[t],3==this.abandonId.length&&(this.sendamessage2(EventConst.compareCard,this.UsId,this.OtherPlayer[t]),this.sendamessage(EventConst.botpour,this.callnum))}this._btn_bipai.touchEnabled=!1,xlLib.DisplayUtils.setComponentEnabled(this._btn_bipai,!1)},e.prototype.Clickaddtohide=function(){this._btn_jiazhu.touchEnabled=!1,this.grp_btncm0.visible=!1,xlLib.DisplayUtils.setComponentEnabled(this._btn_jiazhu,!1)},e.prototype.botpGolds=function(t){this.img_xzgold_bg0.visible=t,this.img_xzgold_bg1.visible=t,this.img_xzgold_bg2.visible=t,this.img_xzgold_bg3.visible=t,this.img_xzgold_bg4.visible=t,this.img_xzgold0.visible=t,this.img_xzgold1.visible=t,this.img_xzgold2.visible=t,this.img_xzgold3.visible=t,this.img_xzgold4.visible=t,this.lab_xzgold0.visible=t,this.lab_xzgold1.visible=t,this.lab_xzgold2.visible=t,this.lab_xzgold3.visible=t,this.lab_xzgold4.visible=t},e.prototype.deskNum=function(t){this.lab_deskGolds.visible=t,this.img_deskgoldbg.visible=t,this.img_deskgoldIcon.visible=t},e.prototype.sendamessage=function(t,e){var i=UserInfo.getInstance().getGameDataByindex(Const.GAME_ZHAJINHUA),n=i.getTypeDataByindex(Const.TYPE_JINGDIANJINHUA),s=n.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),r={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:s.id,data:e};xlLib.WebSocketMgr.getInstance().send(t,r,function(t){},this)},e.prototype.sendamessage2=function(t,e,i){var n=UserInfo.getInstance().getGameDataByindex(Const.GAME_ZHAJINHUA),s=n.getTypeDataByindex(Const.TYPE_JINGDIANJINHUA),r=s.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),o={open:e,byopen:i},a={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:r.id,data:o};xlLib.WebSocketMgr.getInstance().send(t,a,function(t){},this)},e.prototype.addEvent=function(){this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),EventUtil.addEventListener(EventConst.onGameStatusChange,this.onGameStatusChange,this),EventUtil.addEventListener(EventConst.players,this.addPlayers,this),EventUtil.addEventListener(EventConst.onNewUserEnterGame,this.playerJoinRoom,this),EventUtil.addEventListener(EventConst.onUserBetSelect,this.gametype,this),EventUtil.addEventListener(EventConst.onUserSeeCard,this.Check,this),EventUtil.addEventListener(EventConst.onAiSeeCard,this.otherCheck,this),EventUtil.addEventListener(EventConst.onUserToCard,this.Thancard,this),EventUtil.addEventListener(EventConst.onUserAllPress,this.ALLIN,this),EventUtil.addEventListener(EventConst.onUserBetOrderUpdate,this.Bet,this),EventUtil.addEventListener(EventConst.onAiBetOrderUpdate,this.otherplayerBet,this),EventUtil.addEventListener(EventConst.onTimelyNotify,this.timeInfo,this),EventUtil.addEventListener(EventConst.onUserWaiveCard,this.discard,this),EventUtil.addEventListener(EventConst.onAiWaiveCard,this.otherdiscard,this),EventUtil.addEventListener(EventConst.onUserExceWaiveCard,this.disAutoCard,this),EventUtil.addEventListener(EventConst.onCheckout,this.settleaccount,this),EventUtil.addEventListener(EventConst.onUserIsLeave,this.onClickoutBtn,this),EventUtil.addEventListener(EventConst.onUserOutRoom,this.ocClickContuite,this),this._btn_menu.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_kanpai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiazhu.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_quanxia.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_qipai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_bipai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_continuegame.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_luckmoney.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_genzhu.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_autogenzhu.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_cancelautogenzhu.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this.grpHead1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this.grpHead2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this.grpHead3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this.grpHead4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_out.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_setting.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_record.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_playmethod.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_set_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_feedback_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_feedback.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),egret.MainContext.instance.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchStageHandler,this)},e.prototype.onTouchStageHandler=function(t){t.target!=this.grp_menu&&t.target!=this._btn_menu&&t.target!=this.menu_bg&&t.target!=this._btn_out&&t.target!=this._btn_setting&&t.target!=this._btn_record&&t.target!=this._btn_playmethod&&t.target!=this._btn_feedback&&(this.grp_menu.visible=!1)},e.prototype.startCountDown=function(t){this.time=t,null==this.timer&&(this.timer=new egret.Timer(1e3),this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer.start())},e.prototype.timerFunc=function(t){this.time>=0&&this.time<=15?(this.time--,this.addtime=15-this.time,console.log("addtime",15-this.time)):this.clearTime()},e.prototype.clearTime=function(){this.timer&&(this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer=null)},e.prototype.onGameStatusChange=function(t){this._btn_continuegame.visible=!1,this.gamestatue(t.param)},e.prototype.gamestatue=function(t){if(0==t.roomStatus){console.log("游戏状态是0");var e=xlLib.PopUpMgr.addPopUp(ZJHpaprePanl,this,!0,!0,null,1);e.TYPE_TAP=Const.TYPE_JINGDIANJINHUA,this.shortTimegameStatue=t.roomStatus}else if(1==t.roomStatus){console.log("游戏开始，发牌"),this.grp_roungNum.visible=!0,this.shortTimegameStatue=t.roomStatus,this.zhangIndex=UserInfo.getInstance().findSeatNumber(t.index),this.flyIndex0=UserInfo.getInstance().findSeatNumber(t.index),this.deskNum(!0),this.lab_dizhu_num.text=String(t.score/100),this.lab_dingzhu_num.text=String(t.maxScore/100),this.dizhu=t.golds/500,this.lab_deskGolds.text=String(t.golds/100),this.botpGolds(!0);for(var i=0;5>i;i++)this["lab_xzgold"+i].text=t.golds/500;this.cardEffect()}else 2==t.roomStatus&&(this.shortTimegameStatue=t.roomStatus,console.log("游戏结束"));for(var n in t.goldMap)console.log("--------------"+n),console.log("------------"+t.goldMap[n]),this.nowUserGolds=this.goldarr[0]/100,this.goldarr.push(t.goldMap[n]),this.labelGold0.text=String(this.goldarr[0]/100);for(var i=1;i<this.goldarr.length;i++)this["grpHead"+i].setOtherGold(this.goldarr[i]/100);this._btn_kanpai.touchEnabled=!0},e.prototype.Check=function(t){if("onUserSeeCard"==t.param.command&&UserInfo.getInstance().uid==t.param.userId){this.nowroundNum=t.param.circleNum,this.lab_now_roundNum.text=this.nowroundNum.toString(),xlLib.TipsUtils.showFloatWordTips("看牌"),console.log("看牌");var e={type:t.param.cardGenre,value:t.param.cardtype};this.onKanPaiClick(e),this._btn_kanpai.visible=!1,this.playerOperatingState[0]=2}},e.prototype.otherCheck=function(t){if("onAiSeeCard"==t.param.command&&UserInfo.getInstance().uid!=t.param.userId){this.nowroundNum=t.param.circleNum,this.lab_now_roundNum.text=this.nowroundNum.toString();var e=UserInfo.getInstance().findSeatNumber(t.param.index);this["labstatus"+e].text="已看牌",this.playerOperatingState[e]=2}},e.prototype.gametype=function(t){if(200==t.param.code){this.nowroundNum=t.param.circleNum,this.lab_now_roundNum.text=this.nowroundNum.toString(),this._btn_autogenzhu.visible=!1,this.img_autogenzhu.visible=!1,this.img_genzhu.visible=!0,this._btn_genzhu.visible=!0,this.betarr=[],this.numtime=t.param.seconds,this.UsId=t.param.userId,console.log(t),2!=this.playerOperatingState[0]&&this.startCountDown(this.numtime),console.log("可以进行加注操作*********************************"),this._btn_jiazhu.visible=!0,this._btn_jiazhu.touchEnabled=!0,xlLib.DisplayUtils.setComponentEnabled(this._btn_jiazhu,!0);var e=0,i=!1;for(var n in t.param.butPourMap)console.log("--------------"+n),console.log("------------"+t.param.butPourMap[n]),this.betarr.push(n),this["labchip"+e].text=n,0==t.param.butPourMap[n]?this["_btn_jiacm_"+e].touchEnabled=!1:i=!0,e++;i||(this._btn_jiazhu.touchEnabled=!1,xlLib.DisplayUtils.setComponentEnabled(this._btn_jiazhu,!1)),1==t.param.compare&&UserInfo.getInstance().uid==t.param.userId&&(console.log("compare=true可以比牌"),this.lab_tankNumber.text=t.param.followPour,this.lab_tankNumber.visible=!0,this._btn_bipai.visible=!0,this._btn_bipai.touchEnabled=!0,xlLib.DisplayUtils.setComponentEnabled(this._btn_bipai,!0)),this.isCall=!0,this.img_genzhu.source="lab_genzhu_png",this.callnum=t.param.followPour,this.lab_callNumber.text=t.param.followPour,this.lab_callNumber.visible=!0,this._btn_genzhu.touchEnabled=!0,xlLib.DisplayUtils.setComponentEnabled(this._btn_genzhu,!0),this.isoperat=!0,console.log("当前玩家剩余金币，其他玩家下的注，当前应下注数"+this.nowUserGolds,this.notAbandbotp,t.param.followPour),(this.nowUserGolds<this.notAbandbotp||this.nowUserGolds>=this.notAbandbotp&&this.nowUserGolds<t.param.followPour)&&(this.lab_tankNumber.visible=!1,this._btn_bipai.visible=!1,this._btn_quanxia.visible=!0,this.img_quanya.visible=!0,this.lab_quanyaNumber.visible=!0,this.lab_quanyaNumber.text=this.nowUserGolds.toString(),this.shortGold=this.nowUserGolds)}},e.prototype.Bet=function(t){if("onUserBetOrderUpdate"==t.param.command&&UserInfo.getInstance().uid==t.param.userId){this.nowroundNum=t.param.circleNum,this.lab_now_roundNum.text=this.nowroundNum.toString(),this.onGenZhuClick(t.param.index,t.param.data),this._btn_genzhu.visible=!1,this.img_genzhu.visible=!1,this.lab_callNumber.visible=!1,this._btn_bipai.touchEnabled=!1,xlLib.DisplayUtils.setComponentEnabled(this._btn_bipai,!1),this.lab_deskGolds.text=(t.param.golds/100).toString();for(var e in t.param.goldMap)console.log("--------------"+e),console.log("------------"+t.param.goldMap[e]),this.labelGold0.text=String(t.param.goldMap[e]/100),this.nowUserGolds=t.param.goldMap[e]/100;this.lab_tankNumber.text=String(t.param.data/100),this.lab_callNumber.text=String(t.param.data/100),this.oldMybotpGold+=t.param.data/100,this.lab_xzgold0.text=String(this.oldMybotpGold)}},e.prototype.otherplayerBet=function(t){if("onAiBetOrderUpdate"==t.param.command&&UserInfo.getInstance().uid!=t.param.userId){this.nowroundNum=t.param.circleNum,this.lab_now_roundNum.text=this.nowroundNum.toString(),this.onPlayerGenZhu(t.param.index,t.param.data),this.lab_deskGolds.text=(t.param.golds/100).toString();for(var e in t.param.goldMap)console.log("--------------"+e),console.log("------------"+t.param.goldMap[e]),this.otherId=e,this.therGolds=t.param.goldMap[e];for(var i=1;i<this.OtherPlayer.length;i++)this.OtherPlayer[i]==this.otherId&&this["grpHead"+i].setOtherGold(this.therGolds/100);this.oldOtherbotpGold[t.param.index]+=t.param.data/100,this["lab_xzgold"+t.param.index].text=String(this.oldOtherbotpGold[t.param.index]),this.notAbandbotp=t.param.data/100,console.log(this.notAbandbotp)}},e.prototype.ALLIN=function(t){if("onUserAllPress"==t.param.command&&200==t.param.code){this.nowroundNum=t.param.circleNum,this.lab_now_roundNum.text=this.nowroundNum.toString(),console.log("金币不足玩家全压",t);
for(var e in t.param.goldMap)console.log("--------------"+e),console.log("------------"+t.param.goldMap[e]),this.labelGold0.text=String(t.param.goldMap[e])}},e.prototype.timeInfo=function(t){if("onTimelyNotify"==t.param.command&&300==t.param.autoButState)if(this.nowroundNum=t.param.circleNum,this.lab_now_roundNum.text=this.nowroundNum.toString(),console.log("玩家全压和其他玩家比牌",t),console.log(t.param.json),1==t.param.data){console.log("AI全压获胜");var e={type:t.param.json.loseCard,value:t.param.json.loseType};if(2!=this.playerOperatingState[0]){this.onKanPaiClick(e);for(var i=0;3>i;i++){var n=(e.value[i],this["grpCard0_"+i]);xlLib.DisplayUtils.setComponentEnabled(n,!1)}}else if(2==this.playerOperatingState[0]){for(var i=0;3>i;i++){var n=(e.value[i],this["grpCard0_"+i]);xlLib.DisplayUtils.setComponentEnabled(n,!1)}UserInfo.getInstance().isGameStart=!1}this.playerOperatingState[t.param.index]=3,this.abandonStateBtn()}else 0==t.param.data&&(console.log("玩家全压获胜"),this.anotherDontCard(t.param.index));else"onTimelyNotify"==t.param.command&&100==t.param.autoButState?(this.nowroundNum=t.param.circleNum,console.log("++++++++++++++++++++++++++data.param.state == 100",t),this.img_autogenzhu.visible=!1,this.img_autogenzhu.visible=!1,this._btn_cancelautogenzhu.visible=!0,this.img_cancelautogenzhu0.visible=!0,this.img_cancelautogenzhu1.visible=!0):"onTimelyNotify"==t.param.command&&100!=t.param.autoButState&&300!=t.param.autoButState&&(this.nowroundNum=t.param.circleNum,this.lab_now_roundNum.text=this.nowroundNum.toString(),console.log("++++++++++++++++++++++++++data.param.state == 200",t),this.img_autogenzhu.visible=!0,this._btn_autogenzhu.visible=!0,this._btn_cancelautogenzhu.visible=!1,this.img_cancelautogenzhu0.visible=!1,this.img_cancelautogenzhu1.visible=!1)},e.prototype.Thancard=function(t){"onUserToCard"==t.param.command&&200==t.param.code&&console.log("玩家比牌结果")},e.prototype.discard=function(t){if("onUserWaiveCard"==t.param.command&&UserInfo.getInstance().uid==t.param.userId){for(var e={type:t.param.cardGenre,value:t.param.cardtype},i=0;3>i;i++){var n=e.value[i],s=this["grpCard0_"+i];s.source="gf_poker0_png",egret.Tween.get(s).to({scaleX:0},200).call(function(){this[0].source="qznn_card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},100)},[s,n])}this.playerOperatingState[0]=3,this.abandonStateBtn(),UserInfo.getInstance().isGameStart=!1}},e.prototype.abandonStateBtn=function(){this.grp_btncm0.visible=!1,this._btn_jiazhu.visible=!1,this._btn_kanpai.visible=!1,this._btn_qipai.visible=!1,this._btn_genzhu.visible=!1,this._btn_autogenzhu.visible=!1,this._btn_cancelautogenzhu.visible=!1,this._btn_bipai.visible=!1,this._btn_quanxia.visible=!1,this._btn_continuegame.visible=!0,this.img_qipai.visible=!1,this.img_jiazhu.visible=!1,this.img_bipai.visible=!1,this.img_quanya.visible=!1,this.img_genzhu.visible=!1,this.img_autogenzhu.visible=!1,this.img_cancelautogenzhu0.visible=!1,this.img_cancelautogenzhu1.visible=!1,this.lab_tankNumber.visible=!1,this.lab_quanyaNumber.visible=!1,this.lab_callNumber.visible=!1},e.prototype.otherdiscard=function(t){"onAiWaiveCard"==t.param.command&&UserInfo.getInstance().uid!=t.param.userId&&(this.seatnum=UserInfo.getInstance().findSeatNumber(t.param.index),this.anotherDontCard(this.seatnum),this["img_abandon"+this.seatnum].source="gf_flag_qp_png",this.abandonId.push(t.param.userId))},e.prototype.anotherDontCard=function(t){this["imgCardbg"+t].source="",this["imgCardType"+t].source="",this["labstatus"+t].text="";for(var e=[],i=0;3>i;i++){var n=this["grpCard"+t+"_"+i];n.source="gf_poker0_2_png",n.anchorOffsetX=n.width/2;var s=new egret.Point;s.x=n.x,s.y=n.y,e[i]=s}this.orginPlayerCardPos[t]=e,this.playerOperatingState[t]=3},e.prototype.disAutoCard=function(t){if("onUserExceWaiveCard"==t.param.command&&UserInfo.getInstance().uid==t.param.userId&&this.addtime>=this.numtime){console.log(this.addtime);for(var e={type:t.param.cardGenre,value:t.param.cardtype},i=0;3>i;i++){var n=e.value[i],s=this["grpCard0_"+i];s.source="gf_poker0_png",egret.Tween.get(s).to({scaleX:0},200).call(function(){this[0].source="qznn_card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},100)},[s,n])}xlLib.TipsUtils.showFloatWordTips("自动弃牌"),this.playerOperatingState[0]=3,this.abandonStateBtn(),UserInfo.getInstance().isGameStart=!1}},e.prototype.onClickoutBtn=function(t){if(1==t.param.leave){xlLib.PopUpMgr.addPopUp(ZJHIsLiveRoom,this,!0,!0,null,1)}else if(0==t.param.leave){xlLib.PopUpMgr.addPopUp(ZJHNotLiveRoom,this,!0,!0,null,1)}},e.prototype.ocClickContuite=function(t){200==t.param.code&&(console.log("点击继续按钮发送离开房间",t),0==this.isClickjixuGameBtn&&0==this.isClickqipaiBtn&&(this._btn_continuegame.visible=!0))},e.prototype.settleaccount=function(t){console.log("结算:"+t),this.abandonStateBtn()},e.prototype.leaveroom=function(t){200==t.param.code&&console.log(t)},e.prototype.playerJoinRoom=function(t){console.log(t._obj.player.id),this.OtherPlayer.push(t._obj.player.id),console.log(UserInfo.getInstance().myPlayer.id),t._obj.player.id==UserInfo.getInstance().myPlayer.id||(this["grpHead"+t._obj.player.index].visible=!0,this["grpHead"+t._obj.player.index].setUserInfo(t._obj.player.username,t._obj.player.goldcoins/100,"women7_png")),xlLib.PopUpMgr.removePopUp(ZJHpaprePanl,1),this.isprepare=!1},e.prototype.addPlayers=function(t){this.OtherPlayer.push(t._obj.player[0].id),t._obj.player[0].id==UserInfo.getInstance().myPlayer.id&&(this.grpHead0.visible=!0,this.labelHead0.text=UserInfo.getInstance().myPlayer.username,this.labelGold0.text=UserInfo.getInstance().myPlayer.goldcoins/100+"",this.imghead0.source="women7_png",this.playerOperatingState[0]=0);for(var e=1;5>e;e++)this.playerOperatingState[e]=0,null!=t._obj.player[e]?(this["grpHead"+e].visible=!0,this["grpHead"+e].setUserInfo(UserInfo.getInstance().playes[e].username,UserInfo.getInstance().playes[e].goldcoins/100,"women7_png")):this["grpHead"+e].setUserInfo("","","","")},e.prototype.setCountdown=function(){this.cdTimer=new egret.Timer(1e3),this.cdTimer.addEventListener(egret.TimerEvent.TIMER,this.clacTimer,this)},e.prototype.clacTimer=function(){this.cdNum>0?this.cdNum--:(this.cdTimer.stop(),this.cdNum=0,this.cdNum=5,this.cardEffect()),this.cdNum<10?(this.labCountdown0.text="0",this.labCountdown1.text=this.cdNum+""):(this.labCountdown0.text=(this.cdNum+"").split("")[0],this.labCountdown1.text=(this.cdNum+"").split("")[1])},e.prototype.setGameResult=function(t){this.cardResult=t;t.pokes},e.prototype.onGenZhuClick=function(t,e){var i=new egret.Point;i.x=580,i.y=620,this.showCoins(i,e)},e.prototype.onPlayerGenZhu=function(t,e){var i=new egret.Point;i.x=this["grpHead"+t].x+21,i.y=this["grpHead"+t].y+110,this.showCoins(i,e)},e.prototype.showGameTips=function(t){this.playClickSound(ZJHUtil.getInstance().getSoundEffect(t))},e.prototype.showCoins=function(t,e){console.log("显示筹码");var i=!1;this.playClickSound(ZJHUtil.getInstance().getSoundEffect(8));for(var n=ZJHUtil.getInstance().getCoinsPos(),s=ZJHUtil.getInstance().coinsType(t,e),r=0;r<s.length;r++){var o=n.x+80*Math.random(),a=n.y+80*Math.random();this.grpCoins.addChild(s[r]),egret.Tween.get(s[r]).to({x:o,y:a},200).call(function(){this[0]&&this[1].parent.removeChild(this[1])},[i,s[r]])}},e.prototype.cardEffect=function(){this.isCardEffectShow=!0,this.flyIntval=setInterval(this.playCardFly.bind(this),0)},e.prototype.playCardFly=function(t){var e=this["grpCard"+this.flyIndex0+"_"+this.flyIndex1];e.source="gf_poker0_1_png",e.x=713.5,e.y=300,e.anchorOffsetX=e.width/2,e.x+=e.width/2,e.rotation=0;var i=this.orginPlayerCardPos[this.flyIndex0][this.flyIndex1];if(this.playClickSound(ZJHUtil.getInstance().getSoundEffect(6)),egret.Tween.get(e).to({x:i.x,y:i.y,rotation:360},400),2==this.flyIndex1)if(4==this.flyIndex0){if(this.flyIndex0=0,this.flyIndex1=0,0==this.zhangIndex)return clearInterval(this.flyIntval),void this.showControl()}else{if(this.flyIndex0==this.zhangIndex-1)return this.flyIndex0=0,this.flyIndex1=0,clearInterval(this.flyIntval),void this.showControl();this.flyIndex1=0,this.flyIndex0++}else this.flyIndex1++},e.prototype.showControl=function(){console.log("飞完牌+++++++++++++++++++++++++++++++++"),this._btn_luckmoney.visible=!0,this._btn_luckmoney.touchEnabled=!0,this._btn_kanpai.visible=!0,this._btn_autogenzhu.visible=!0,this.img_autogenzhu.visible=!0,this._btn_jiazhu.visible=!0,this._btn_bipai.visible=!0,this._btn_qipai.visible=!0,this.img_qipai.visible=!0,this.img_jiazhu.visible=!0,this.img_bipai.visible=!0,this.lab_tankNumber.visible=!0,this.lab_tankNumber.text=String(this.dizhu),this.lab_callNumber.text=String(this.dizhu),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiazhu,!1),xlLib.DisplayUtils.setComponentEnabled(this._btn_bipai,!1)},e.prototype.onKanPaiClick=function(t){this.playClickSound(ZJHUtil.getInstance().getSoundEffect(7));for(var e=0;3>e;e++){var i=this["grpCard0_"+e];i.source="gf_poker0_png",egret.Tween.get(i).to({scaleX:0},300).call(function(){this[0].source="qznn_card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},300)},[i,t.value[e]])}this.imgCardbg0.source="gf_pxzs_png",this.imgCardType0.source=ZJHUtil.getInstance().getCardType(t.type)},e.prototype.onPlayerKanPai=function(t,e){this.playClickSound(ZJHUtil.getInstance().getSoundEffect(7));for(var i=0;3>i;i++){var n=this["grpCard"+t+"_"+i];n.source="gf_poker0_1_png",egret.Tween.get(n).to({scaleX:0},300).call(function(){this[0].source="qznn_card_"+this[1],egret.Tween.get(this[0]).to({scaleX:1},300)},[n,e.value[i]])}this["imgCardType"+t].source=ZJHUtil.getInstance().getCardType(e.type)},e.prototype.setStartBet=function(){clearInterval(this.interval),this.showGameTips(2),this.isSysBanker||this.isChangeBanker||this.lastGameBankerNum--,this.isChangeBanker&&(this.isChangeBanker=!1)},e.prototype.resetGame=function(){this.initData();for(var t=0;5>t;t++){for(var e=0;3>e;e++){var i=this["grpCard"+t+"_"+e];i.source="",egret.Tween.removeTweens(i),this["grpCard"+t+"_"+e].source=""}this["lab_xzgold"+t].text="",this["img_xzgold_bg"+t].visible=!1,this["img_xzgold"+t].visible=!1,this["labstatus"+t].text="",this["imgCardbg"+t].source="",this["imgCardType"+t].source=""}for(var t=1;5>t;t++)this["img_abandon"+t].source="";this.playerOperatingState=[0,0,0,0,0],this.lab_deskGolds.text="",this.isCanBets=!0,this.isBets=!1,this.byOpenId=["","","","",""],this.abandonId=[],this.addtime=0,this.oldMybotpGold=1,this.oldOtherbotpGold=[1,1,1,1,1],this.goldarr=[],this.dizhu=0,this.shortTimegameStatue=0,this.nowroundNum=0,this.numtime=0,this.betarr=[],this.callnum=0,this.UsId="",this.nowUserGolds=0,this.shortGold=0,this.notAbandbotp=0,this.therGolds=0,this.otherId="",this.OtherPlayer=[],this.seatnum=0,this._btn_continuegame.visible=!1,this.isClickjixuGameBtn=!1,this.isClickqipaiBtn=!1,GlobalData.liveCloseBtn=!1,GlobalData.isLiveRoom=!1,xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_0,!0),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_1,!0),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_2,!0),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_3,!0),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_4,!0),xlLib.DisplayUtils.setComponentEnabled(this._btn_jiacm_5,!0),this._btn_jiacm_0.touchEnabled=!0,this._btn_jiacm_1.touchEnabled=!0,this._btn_jiacm_2.touchEnabled=!0,this._btn_jiacm_3.touchEnabled=!0,this._btn_jiacm_4.touchEnabled=!0,this._btn_jiacm_5.touchEnabled=!0,this.grpCoins.removeChildren()},e.prototype.getHistoryCallback=function(t){for(var e=t.data,i=0;10>i;i++)if(i<e.length){this["grpHistroy"+i].visible=!0;for(var n=e[i],s=0;4>s;s++)this["grpHistroy"+s+"_"+i].source=1==n[s]?"a8":"a7"}else this["grpHistroy"+i].visible=!1},e.prototype.onTouchCloseSecondPanel=function(){},e.prototype.playClickSound=function(t){xlLib.SoundMgr.instance.playSound(t+"_mp3")},e.prototype.destroy=function(){EventUtil.removeEventListener(EventConst.onGameStatusChange,this.onGameStatusChange,this),EventUtil.removeEventListener(EventConst.players,this.addPlayers,this),EventUtil.removeEventListener(EventConst.onNewUserEnterGame,this.playerJoinRoom,this),EventUtil.removeEventListener(EventConst.onUserBetSelect,this.gametype,this),EventUtil.removeEventListener(EventConst.onUserSeeCard,this.Check,this),EventUtil.removeEventListener(EventConst.onAiSeeCard,this.otherCheck,this),EventUtil.removeEventListener(EventConst.onUserToCard,this.Thancard,this),EventUtil.removeEventListener(EventConst.onUserAllPress,this.ALLIN,this),EventUtil.removeEventListener(EventConst.onUserBetOrderUpdate,this.Bet,this),EventUtil.removeEventListener(EventConst.onAiBetOrderUpdate,this.otherplayerBet,this),EventUtil.removeEventListener(EventConst.onUserWaiveCard,this.discard,this),EventUtil.removeEventListener(EventConst.onAiWaiveCard,this.otherdiscard,this),EventUtil.removeEventListener(EventConst.onUserExceWaiveCard,this.disAutoCard,this),EventUtil.removeEventListener(EventConst.onCheckout,this.settleaccount,this),EventUtil.removeEventListener(EventConst.onUserIsLeave,this.onClickoutBtn,this),EventUtil.removeEventListener(EventConst.onUserOutRoom,this.ocClickContuite,this),this._btn_menu.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_kanpai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiazhu.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_0.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_jiacm_5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_quanxia.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_qipai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_bipai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_luckmoney.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_genzhu.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_autogenzhu.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_cancelautogenzhu.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this.grpHead1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this.grpHead2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this.grpHead3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this.grpHead4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_out.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_setting.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_record.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_playmethod.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_feedback.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_set_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),this._btn_feedback_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClick,this),egret.MainContext.instance.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchStageHandler,this),null!=this.cdTimer&&this.cdTimer.removeEventListener(egret.TimerEvent.TIMER,this.clacTimer,this)},e}(eui.Component);__reflect(ZJHView.prototype,"ZJHView");var GameIconItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="GameIconItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGame,this)},e.prototype.partRemoved=function(e,i){this.effecthot&&xlLib.DisplayUtils.destoryDragonBonesArmature(this.effecthot,"newAnimation"),this.effectnew&&xlLib.DisplayUtils.destoryDragonBonesArmature(this.effectnew,"newAnimation"),xlLib.DisplayUtils.destoryDragonBonesArmature(this.effectmask,"Sprite"),xlLib.DisplayUtils.destoryDragonBonesArmature(this.effectfront,"Sprite"),xlLib.DisplayUtils.destoryDragonBonesArmature(this.effectIcon,"newAnimation"),t.prototype.partRemoved.call(this,e,i)},e.prototype.onEnterGame=function(t){var e=this;EffectUtils.playButtonEffect(this,function(){e.clickCallback()}),xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.clickCallback=function(){if(!this.icondata.isOpen)return void xlLib.TipsUtils.showFloatWordTips("该功能暂时开放！");switch(this.icondata.type){case Const.TYPE_QRNIUNIU:var t=xlLib.PopUpMgr.addPopUp(BRNNroomView,null,!0,!0,null,1);t.setGameIconData(this.icondata);break;case Const.TYPE_TBNN:var e=xlLib.PopUpMgr.addPopUp(TBNNroomView,null,!0,!0,null,1);e.setGameIconData(this.icondata);break;case Const.TYPE_JINGDIANBAIJIALE:var i=xlLib.PopUpMgr.addPopUp(BJLroomView,null,!0,!0,null,1);i.setGameIconData(this.icondata);break;case Const.TYPE_JINGDIANJINHUA:var n=xlLib.PopUpMgr.addPopUp(ZJHroomView,null,!0,!0,null,1);n.setGameIconData(this.icondata);break;case Const.TYPE_ERBAGANGJINDIAN:var s=xlLib.PopUpMgr.addPopUp(ErBaGangroomView,null,!0,!0,null,1);s.setGameIconData(this.icondata)}},e.prototype.setGameIconData=function(t){this.icondata=t;var e,i;switch(this.effectmask=xlLib.DisplayUtils.createDragonBonesDisplay("bg_xiaoliuguang","Sprite"),dragonBones.WorldClock.clock.add(this.effectmask),e=this.effectmask.getDisplay(),e.width=this.width,e.height=this.height,e.x=350,e.y=250,this.addChild(e),xlLib.DisplayUtils.runDragonBonesArmature(this.effectmask,"Sprite"),t.ishot&&(this.effecthot=xlLib.DisplayUtils.createDragonBonesDisplay("bg_remen","Armature"),dragonBones.WorldClock.clock.add(this.effecthot),e=this.effecthot.getDisplay(),e.x=25,e.y=92,this.addChild(e),xlLib.DisplayUtils.runDragonBonesArmature(this.effecthot,"newAnimation")),t.isNew&&(this.effectnew=xlLib.DisplayUtils.createDragonBonesDisplay("bg_xin","Armature"),dragonBones.WorldClock.clock.add(this.effectnew),e=this.effectnew.getDisplay(),e.x=80,e.y=92,this.addChild(e),xlLib.DisplayUtils.runDragonBonesArmature(this.effectnew,"newAnimation")),t.type){case Const.TYPE_TBNN:this.effectfront=xlLib.DisplayUtils.createDragonBonesDisplay("bg_tongbiniuniu","Sprite"),e=this.effectfront.getDisplay(),e.x=63,e.y=-15,this.effectIcon=xlLib.DisplayUtils.createDragonBonesDisplay("tbnn_rukou","armatureName"),i=this.effectIcon.getDisplay(),i.x=63,i.y=-15;break;case Const.TYPE_JINGDIANBAIJIALE:this.effectfront=xlLib.DisplayUtils.createDragonBonesDisplay("bg_baijiale","Sprite"),e=this.effectfront.getDisplay(),e.x=70,e.y=255,this.effectIcon=xlLib.DisplayUtils.createDragonBonesDisplay("bjl_rukou","armatureName"),i=this.effectIcon.getDisplay(),i.x=70,i.y=255;break;case Const.TYPE_ERBAGANGJINDIAN:this.effectfront=xlLib.DisplayUtils.createDragonBonesDisplay("bg_ewrbagang","Sprite"),e=this.effectfront.getDisplay(),e.x=-220,e.y=255,this.effectIcon=xlLib.DisplayUtils.createDragonBonesDisplay("ebg_rukou","armatureName"),i=this.effectIcon.getDisplay(),i.x=-220,i.y=255;break;case Const.TYPE_QRNIUNIU:this.effectfront=xlLib.DisplayUtils.createDragonBonesDisplay("bg_bairenniuniu","Sprite"),e=this.effectfront.getDisplay(),e.x=350,e.y=-15,this.effectIcon=xlLib.DisplayUtils.createDragonBonesDisplay("brnn_rukou","armatureName"),i=this.effectIcon.getDisplay(),i.x=350,i.y=-15;break;case Const.TYPE_JINGDIANJINHUA:this.effectfront=xlLib.DisplayUtils.createDragonBonesDisplay("bg_zhajinhua","Sprite"),e=this.effectfront.getDisplay(),e.x=350,e.y=255,this.effectIcon=xlLib.DisplayUtils.createDragonBonesDisplay("zjh_rukou","armatureName"),i=this.effectIcon.getDisplay(),i.x=350,i.y=255}this.addChildAt(i,0),dragonBones.WorldClock.clock.add(this.effectIcon),xlLib.DisplayUtils.runDragonBonesArmature(this.effectIcon,"newAnimation"),this.addChild(e),dragonBones.WorldClock.clock.add(this.effectfront),xlLib.DisplayUtils.runDragonBonesArmature(this.effectfront,"Sprite")},e}(eui.Component);__reflect(GameIconItem.prototype,"GameIconItem");var GameIconListView=function(t){function e(){var e=t.call(this)||this;return e.skinName="GameIconListViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.setData=function(t){this.gamelist_grp.removeChildren();for(var e,i=8,n=0;n<t.length;n++){e=new GameIconItem,e.setGameIconData(t[n]),this.gamelist_grp.addChild(e);var s=n%4;e.x=20+270*s,0==s&&0!=n&&(i=285),e.y=i}},e}(eui.Component);__reflect(GameIconListView.prototype,"GameIconListView");var Lobby=function(t){function e(){var e=t.call(this)||this;return e.lobbyView=new LobbyView,e.uiLayer.addChild(e.lobbyView),e}return __extends(e,t),e.prototype.destroy=function(){this.lobbyView.destroy(),t.prototype.destroy.call(this)},e.prototype.resize=function(){this.lobbyView&&this.lobbyView.resize()},e}(xlLib.LobbyScene);__reflect(Lobby.prototype,"Lobby");var LobbyView=function(t){function e(){var e=t.call(this)||this;return e.skinName="LobbyViewSkin",e.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onTouchHandler,e),EventUtil.addEventListener(EventConst.ON_SOCKET_CLOSE,e.onSocketClose,e),e._set.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClick2,e),e._service.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClick2,e),e._information.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClick2,e),e._playerinfo.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClick2,e),e._generalize.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClick2,e),e._safebox.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClick2,e),e._welfare.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClick2,e),e._shoppingmall.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClick2,e),e._topup.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClick2,e),e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this._head_label.text=UserInfo.getInstance().username,this._coin_label.text=GlobalFunction.Formatconversion(UserInfo.getInstance().goldcoins),this.initGameIconList()},e.prototype.initGameIconList=function(){var t=[(new GameIconData).initData({name:"通比牛牛",ishot:!0,isOpen:!0,isNew:!1,game:Const.GAME_NIUNIU,type:Const.TYPE_TBNN}),(new GameIconData).initData({name:"炸金花",ishot:!0,isOpen:!0,isNew:!1,game:Const.GAME_ZHAJINHUA,type:Const.TYPE_JINGDIANJINHUA}),(new GameIconData).initData({name:"百家乐",ishot:!0,isOpen:!0,isNew:!1,game:Const.GAME_BAIJIALE,type:Const.TYPE_JINGDIANBAIJIALE}),(new GameIconData).initData({name:"二八杠",ishot:!0,isOpen:!0,isNew:!1,game:Const.GAME_ERBAGANG,type:Const.TYPE_ERBAGANGJINDIAN}),(new GameIconData).initData({name:"百人牛牛",ishot:!0,isOpen:!0,isNew:!0,game:Const.GAME_NIUNIU,type:Const.TYPE_QRNIUNIU})];this.gameIconDataList=t,this.gamelistView=new GameIconListView,this.gamelistView.x=322,this.gamelistView.y=153,this.gamelistView.setData(this.gameIconDataList),this.addChild(this.gamelistView),this.qznnGameIconData=(new GameIconData).initData({name:"抢庄牛牛",ishot:!0,isNew:!1,isOpen:!0,game:Const.GAME_NIUNIU,type:Const.TYPE_QZNN}),this.qznnGameIcon=new QznnIconItem,this.qznnGameIcon.x=42,this.qznnGameIcon.y=158,this.qznnGameIcon.setGameIconData(this.qznnGameIconData),this.addChild(this.qznnGameIcon)},e.prototype.onClick2=function(t){this.playClickSound(),t.target==this._set?(console.log("_set"),xlLib.PopUpMgr.addPopUp(SetView,null,!0,!0,null,1)):t.target==this._playerinfo?(console.log("_playerinfo"),xlLib.PopUpMgr.addPopUp(PlayerInfoView,null,!0,!0,null,1)):t.target==this._service?(console.log("_service"),xlLib.TipsUtils.showFloatWordTips("敬请期待！")):t.target==this._information?(console.log("_information"),xlLib.PopUpMgr.addPopUp(SystemMsgView,null,!0,!0,null,1)):t.target==this._generalize?console.log("_generalize"):t.target==this._safebox?(console.log("_safebox"),xlLib.PopUpMgr.addPopUp(SafeBoxView,null,!0,!0,null,1)):t.target==this._welfare?(console.log("_welfare"),xlLib.PopUpMgr.addPopUp(WelfareView,null,!0,!0,null,1)):t.target==this._shoppingmall?console.log("_shoppingmall"):t.target==this._topup&&(console.log("_topup"),xlLib.PopUpMgr.addPopUp(RechargeView,null,!0,!0,null,1))},e.prototype.onTouchHandler=function(t){},e.prototype.resize=function(){this.bgImg&&(this.bgImg.width=xlLib.Global.screenWidth,this.bgImg.height=xlLib.Global.screenHeight)},e.prototype.onSocketClose=function(t){},e.prototype.onNotify=function(t){},e.prototype.destroy=function(){EventUtil.removeEventListener(EventConst.ON_SOCKET_CLOSE,this.onSocketClose,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchHandler,this),egret.Tween.removeTweens(this)},e.prototype.playClickSound=function(){xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e}(eui.Component);__reflect(LobbyView.prototype,"LobbyView");var QznnIconItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="QznnIconItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onEnterGame,this)},e.prototype.partRemoved=function(e,i){this.effecthot&&xlLib.DisplayUtils.destoryDragonBonesArmature(this.effecthot,"newAnimation"),this.effectnew&&xlLib.DisplayUtils.destoryDragonBonesArmature(this.effectnew,"newAnimation"),xlLib.DisplayUtils.destoryDragonBonesArmature(this.effectmask,"Sprite"),xlLib.DisplayUtils.destoryDragonBonesArmature(this.effectfront,"Sprite"),xlLib.DisplayUtils.destoryDragonBonesArmature(this.effectIcon,"newAnimation"),t.prototype.partRemoved.call(this,e,i)},e.prototype.onEnterGame=function(t){var e=this;EffectUtils.playButtonEffect(this,function(){e.clickCallback()}),xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.clickCallback=function(){if(!this.icondata.isOpen)return void xlLib.TipsUtils.showFloatWordTips("该功能暂时开放！");var t=xlLib.PopUpMgr.addPopUp(QZNNroomView,null,!0,!0,null,1);t.setGameIconData(this.icondata)},e.prototype.setGameIconData=function(t){this.icondata=t;var e,i;switch(this.effectmask=xlLib.DisplayUtils.createDragonBonesDisplay("bg_daliuguang","Sprite"),dragonBones.WorldClock.clock.add(this.effectmask),e=this.effectmask.getDisplay(),e.width=this.width,e.height=this.height,e.x=650,e.y=260,this.addChild(e),xlLib.DisplayUtils.runDragonBonesArmature(this.effectmask,"Sprite"),t.ishot&&(this.effecthot=xlLib.DisplayUtils.createDragonBonesDisplay("bg_remen","Armature"),dragonBones.WorldClock.clock.add(this.effecthot),e=this.effecthot.getDisplay(),e.x=10,e.y=95,this.addChild(e),xlLib.DisplayUtils.runDragonBonesArmature(this.effecthot,"newAnimation")),t.isNew&&(this.effectnew=xlLib.DisplayUtils.createDragonBonesDisplay("bg_xin","Armature"),dragonBones.WorldClock.clock.add(this.effectnew),e=this.effectnew.getDisplay(),e.x=60,e.y=95,this.addChild(e),xlLib.DisplayUtils.runDragonBonesArmature(this.effectnew,"newAnimation")),t.type){case Const.TYPE_QZNN:this.effectfront=xlLib.DisplayUtils.createDragonBonesDisplay("bg_qiangzhuangniuniu","Sprite"),e=this.effectfront.getDisplay(),e.x=650,e.y=260,this.effectIcon=xlLib.DisplayUtils.createDragonBonesDisplay("qznn_rukou","armatureName"),i=this.effectIcon.getDisplay(),i.x=650,i.y=260}this.addChildAt(i,0),dragonBones.WorldClock.clock.add(this.effectIcon),xlLib.DisplayUtils.runDragonBonesArmature(this.effectIcon,"newAnimation"),this.addChild(e),dragonBones.WorldClock.clock.add(this.effectfront),xlLib.DisplayUtils.runDragonBonesArmature(this.effectfront,"Sprite")},e}(eui.Component);__reflect(QznnIconItem.prototype,"QznnIconItem");var RoomTypeItem=function(t){function e(){var e=t.call(this)||this;return e.skinName="RoomTypeItemSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this)},e.prototype.dataChanged=function(){},e}(eui.ItemRenderer);__reflect(RoomTypeItem.prototype,"RoomTypeItem");var RoomView=function(t){function e(){var e=t.call(this)||this;return e.skinName="RoomViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this._btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this),this.resize(),this.scroller.visible=!1,this.createRoomBtn(),this._coin_label.text=""+UserInfo.getInstance().goldcoins},e.prototype.setGameIconData=function(t){switch(this.gameIconData=t,this.gameIconData.type){case Const.TYPE_QZNN:this._title_icon.source="title_qzniuniu_png";break;case Const.TYPE_TBNN:this._title_icon.source="title_tongbiniuniu_png";break;case Const.TYPE_JINGDIANBAIJIALE:this._title_icon.source="title_baijiale_png";break;case Const.TYPE_JINGDIANJINHUA:this._title_icon.source="title_zhajinhua_png";break;case Const.TYPE_ERBAGANGJINDIAN:this._title_icon.source="title_erbagang_png"}},e.prototype.createRoomBtn=function(){for(var t=["room_ty_png","room_xs_png","room_cj_png","room_zj_png","room_gj_png","room_fh_png"],e=["room_ty_png","room_xs_png","room_cj_png","room_zj_png","room_gj_png"],i=["room_ty_png","room_xs_png","room_cj_png"],n=["room_ty_png","room_xs_png"],s=0,r=0;r<t.length;r++){var o=new eui.Image(t[r]);this._room_area_1.addChild(o);var a=r%3;o.x=70+450*a,0==a&&0!=r&&(s=315),o.y=s,o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)}s=0;for(var r=0;r<e.length;r++){var o=new eui.Image(e[r]);this._room_area_2.addChild(o);var a=r%3;o.x=70+450*a,0==a&&0!=r&&(s=315),o.y=s,o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)}s=0;for(var r=0;r<i.length;r++){var o=new eui.Image(i[r]);this._room_area_3.addChild(o);var a=r%3;o.x=70+450*a,0==a&&0!=r&&(s=315),o.y=s,o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)}s=0;for(var r=0;r<n.length;r++){var o=new eui.Image(n[r]);this._room_area_4.addChild(o);var a=r%3;o.x=70+450*a,0==a&&0!=r&&(s=315),o.y=s,o.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)}},e.prototype.onClick=function(t){var e=this;EffectUtils.playButtonEffect(t.target,function(){e.clickCallback()}),this.playClickSound()},e.prototype.clickCallback=function(){var t=UserInfo.getInstance().getGameDataByindex(this.gameIconData.game),e=t.getTypeDataByindex(this.gameIconData.type),i=e.getPlayWayByindex(Const.PLAYWAY_CHUJICHANG),n={userid:UserInfo.getInstance().uid,token:UserInfo.getInstance().token,playway:i.id};switch(this.gameIconData.type){case Const.TYPE_QZNN:xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,n,function(t){xlLib.SceneMgr.instance.changeScene(QZNNScene),xlLib.TipsUtils.showFloatWordTips("加入房间成功！")},this);break;case Const.TYPE_TBNN:xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,n,function(t){xlLib.SceneMgr.instance.changeScene(TBNNScene),xlLib.TipsUtils.showFloatWordTips("加入房间成功！")},this);break;case Const.TYPE_JINGDIANBAIJIALE:xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,n,function(t){xlLib.SceneMgr.instance.changeScene(BJLScene),xlLib.TipsUtils.showFloatWordTips("加入房间成功！")},this);break;case Const.TYPE_JINGDIANJINHUA:xlLib.WebSocketMgr.getInstance().send(EventConst.joinroom,n,function(t){xlLib.SceneMgr.instance.changeScene(ZJHScene),xlLib.TipsUtils.showFloatWordTips("加入房间成功！")},this);break;case Const.TYPE_ERBAGANGJINDIAN:xlLib.SceneMgr.instance.changeScene(RBGScene)}},e.prototype.playClickSound=function(){xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.resize=function(){this._bg_img&&(this._bg_img.width=xlLib.Global.screenWidth,this._bg_img.height=xlLib.Global.screenHeight)},e.prototype.dispose=function(){xlLib.PopUpMgr.removePopUp(this,1)},e.prototype.destroy=function(){this.gameIconData=null,this._btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.dispose,this)},e}(eui.Component);__reflect(RoomView.prototype,"RoomView");var LoginEffectView=function(t){function e(){var e=t.call(this)||this;return e.skinName="LoginEffectViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.donghua.addEventListener(egret.Event.COMPLETE,this.onTweenComplete,this)},e.prototype.onTweenComplete=function(t){this.donghua.play(0)
},e.prototype.play=function(){this.donghua.play(0)},e.prototype.stop=function(){this.donghua.stop()},e.prototype.destroy=function(){},e}(eui.Component);__reflect(LoginEffectView.prototype,"LoginEffectView");var LoginView=function(t){function e(){var e=t.call(this)||this;return e.bjlSubscription=!1,e.lfSubscription=!1,e.xjSubscription=!1,e.nnSubscription=!0,e.skinName="LoginViewSkin",e.once(egret.Event.REMOVED_FROM_STAGE,e.destroy,e),e.resize(),e}return __extends(e,t),e.prototype.resize=function(){this.bgImg&&(this.bgImg.width=xlLib.Global.screenWidth,this.bgImg.height=xlLib.Global.screenHeight)},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.bjlSubscription=!1,this.lfSubscription=!1,this._btn_visitor.addEventListener(egret.TouchEvent.TOUCH_TAP,this._onVisitorLogin,this),this._btn_account.addEventListener(egret.TouchEvent.TOUCH_TAP,this._onAccountLogin,this),this._btn_login.addEventListener(egret.TouchEvent.TOUCH_TAP,this._onLogin,this),this._btn_verify.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onGetCode,this),this._btn_black.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBlack,this),EventUtil.addEventListener(EventConst.ON_SOCKET_SUC,this.onSocketSuc,this),EventUtil.addEventListener(EventConst.ON_SOCKET_FAIL,this.onSocketFail,this),this.logineffectView=new LoginEffectView,this.addChildAt(this.logineffectView,1),this.logineffectView.play()},e.prototype.onBlack=function(t){this._group_btn_0.visible=!0,this._group_btn_2.visible=!1},e.prototype._onVisitorLogin=function(t){xlLib.UIMgr.instance.showLoading(TipsLoading),xlLib.HttpManager.getInstance().send(HttpAddress.guestUrl,null,null,this.onLoginSucess,this.onLoginFail)},e.prototype._onAccountLogin=function(t){this._group_btn_0.visible=!1,this._group_btn_2.visible=!0},e.prototype.onGetCode=function(t){xlLib.HttpManager.getInstance().send(HttpAddress.sendmsgUrl,{mobile:this._phone_txt.text},null,function(t){xlLib.TipsUtils.showFloatWordTips("发送验证码成功！")},function(t){xlLib.TipsUtils.showFloatWordTips("发送验证码失败！")})},e.prototype._onLogin=function(t){return""==this._phone_txt.text||""==this._verify_code_txt.text?void xlLib.TipsUtils.showFloatWordTips("手机号或验证码不能为空！"):GlobalData.hasNetwork?(xlLib.UIMgr.instance.showLoading(TipsLoading),void xlLib.HttpManager.getInstance().send(HttpAddress.login,{mobile:this._phone_txt.text,verifyCode:this._verify_code_txt.text},null,this.onLoginSucess,this.onLoginFail)):void xlLib.TipsUtils.showFloatWordTips("连接失败 请检查网络环境！")},e.prototype.onLoginFail=function(t){xlLib.UIMgr.instance.hideLoading(TipsLoading),xlLib.TipsUtils.showFloatWordTips("登录失败 请检查网络环境！")},e.prototype.onLoginSucess=function(t){var e=t.data;UserInfo.getInstance().initUserInfo(t),xlLib.WebSocketMgr.getInstance().connect(Const.GAME_HOST,Const.GAME_PORT,e.id)},e.prototype.onSocketFail=function(t){xlLib.UIMgr.instance.hideLoading(TipsLoading),xlLib.TipsUtils.showFloatWordTips("登录失败 请检查网络环境！")},e.prototype.onSocketSuc=function(t){var e=["hall_bg_mp3"];xlLib.SoundMgr.instance.playBgMusic(e),xlLib.UIMgr.instance.hideLoading(TipsLoading),xlLib.SceneMgr.instance.changeScene(Lobby),xlLib.TipsUtils.showFloatWordTips("登录成功！")},e.prototype.destroy=function(){this._btn_visitor.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._onVisitorLogin,this),this._btn_account.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._onAccountLogin,this),this._btn_login.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._onLogin,this),this._btn_verify.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onGetCode,this),EventUtil.removeEventListener(EventConst.ON_SOCKET_SUC,this.onSocketSuc,this),EventUtil.removeEventListener(EventConst.ON_SOCKET_FAIL,this.onSocketFail,this)},e}(eui.Component);__reflect(LoginView.prototype,"LoginView");var AnimationUtils;!function(t){function e(){var t=new uiCore.Animation;return this.gameStartAnimator=t,t.animationSource="bar_effect_start_{0}_png",t.autoPlay=!1,t.frameNum=17,t.frameRate=70,t.horizontalCenter=0,t.loop=!1,t.source="bar_effect_start_4_png",t.stopAndVisible=!0,t.verticalCenter=-20,t.visible=!1,t}function i(){var t=new uiCore.Animation;return this.cardBox=t,t.animationSource="0waikuang_{0}_png",t.autoPlay=!1,t.frameNum=17,t.frameRate=58,t.height=290,t.loop=!1,t.scaleX=1,t.scaleY=1,t.source="0waikuang_16_png",t.visible=!1,t.width=590,t.x=11,t.y=32.5,t}function n(){var t=new uiCore.Animation;return this.bankerAnimation=t,t.animationSource="bar_effect_banker_{0}_png",t.autoPlay=!1,t.frameNum=11,t.frameRate=120,t.loop=!1,t.source="bar_effect_banker_10_png",t.stopAndVisible=!1,t.visible=!1,t.x=124,t.y=-52,t}function s(){var t=new uiCore.Animation;return this.cardAnimation=t,t.animationSource="bar_effect_30_{0}_png",t.autoPlay=!1,t.frameNum=17,t.frameRate=60,t.loop=!1,t.source="bar_effect_30_13_png",t.stopAndVisible=!0,t.visible=!1,t.x=-49,t.y=-162,t}function r(){var t=new uiCore.Animation;return this.allKillAnimator=t,t.animationSource="bar_effect_kill_{0}_png",t.autoPlay=!1,t.frameNum=14,t.frameRate=80,t.horizontalCenter=.5,t.loop=!1,t.source="bar_effect_kill_13_png",t.stopAndVisible=!1,t.verticalCenter=0,t.visible=!1,t}function o(){var t=new eui.Image;return this.diceTop=t,t.height=278,t.horizontalCenter=0,t.source="bar_sicbo_top_png",t.verticalCenter=-64,t.visible=!1,t.width=210,t}function a(){var t=new eui.Image;return this.diceBg=t,t.height=309,t.horizontalCenter=.5,t.source="bar_sicbo_all_png",t.verticalCenter=-49.5,t.visible=!1,t.width=231,t}function h(){var t=new eui.Image;return this.diceBottom=t,t.height=197,t.horizontalCenter=.5,t.source="bar_sicbo_bottom_png",t.verticalCenter=7.5,t.visible=!1,t.width=231,t}function l(){var t=new eui.Image;return this.dice1=t,t.height=72,t.horizontalCenter=-39.5,t.source="bar_sicbo_1_png",t.verticalCenter=-4,t.visible=!1,t.width=61,t}function c(){var t=new eui.Image;return this.dice0=t,t.height=72,t.horizontalCenter=41.5,t.source="bar_sicbo_2_png",t.verticalCenter=8,t.visible=!1,t.width=61,t}function u(){var t=new eui.Group;return this.diceGroup=t,t.bottom=-3,t.left=0,t.right=0,t.top=3,t.touchThrough=!0,t.elementsContent=[this.diceBottom_i(),this.dice1_i(),this.dice0_i(),this.diceTop_i(),this.diceBg_i()],t}function p(){var t=new eui.Image;return this.goldFly0=t,t.horizontalCenter=-450,t.scaleX=1,t.scaleY=1,t.source="nn_cion_png",t.verticalCenter=270,t.visible=!1,t}function d(){var t=new eui.Image;return this.goldFly1=t,t.horizontalCenter=-547,t.scaleX=1,t.scaleY=1,t.source="nn_cion_png",t.verticalCenter=20,t.visible=!1,t}function g(){var t=new eui.Image;return this.goldFly2=t,t.horizontalCenter=-75,t.scaleX=1,t.scaleY=1,t.source="nn_cion_png",t.verticalCenter=-227,t.visible=!1,t}function _(){var t=new eui.Image;return this.goldFly3=t,t.horizontalCenter=547,t.scaleX=1,t.scaleY=1,t.source="nn_cion_png",t.verticalCenter=20,t.visible=!1,t}function f(){var t=new eui.Group;return this.players=t,t.percentHeight=100,t.touchThrough=!0,t.percentWidth=100,t.x=0,t.y=0,t.elementsContent=[this.player1_i(),this.player2_i(),this.player3_i(),this.player4_i(),this.goldFly0_i(),this.goldFly1_i(),this.goldFly2_i(),this.goldFly3_i(),this.qzNumSetGroup_i()],t}function v(){var t=new uiCore.Animator;return this.ItemAnimator=t,t.defentAnimationName="05RSYD",t.horizontalCenter=0,t.source="gamehall_gameItem",t.verticalCenter=0,t}function m(t,e){var i=new uiCore.Animation;return this.gameStartAnimator=i,i.animationSource=e,i.autoPlay=!1,i.frameNum=20,i.frameRate=70,i.horizontalCenter=0,i.loop=!1,i.source=t,i.stopAndVisible=!0,i.verticalCenter=-20,i.visible=!1,i}function b(){var t=new uiCore.Animation;return this.gameStartAnimator=t,t.animationSource="qznn_showScore0-1_tex_{0}_png",t.autoPlay=!1,t.frameNum=20,t.frameRate=70,t.horizontalCenter=0,t.loop=!1,t.source="qznn_showScore0-1_tex_0_png",t.stopAndVisible=!0,t.verticalCenter=-20,t.visible=!1,t}function y(){var t=new uiCore.Animation;return this.gameStartAnimator=t,t.animationSource="qznn_showScore0-2_tex_{0}_png",t.autoPlay=!1,t.frameNum=20,t.frameRate=70,t.horizontalCenter=0,t.loop=!1,t.source="qznn_showScore0-2_tex_0_png",t.stopAndVisible=!0,t.verticalCenter=-20,t.visible=!1,t}function E(){var t=new uiCore.Animation;return this.gameStartAnimator=t,t.animationSource="qznn_showScore0-3_tex_{0}_png",t.autoPlay=!1,t.frameNum=20,t.frameRate=70,t.horizontalCenter=0,t.loop=!1,t.source="qznn_showScore0-3_tex_0_png",t.stopAndVisible=!0,t.verticalCenter=-20,t.visible=!1,t}t.gameStartAnimator=e,t.cardBox_i=i,t.bankerAnimation_i=n,t.cardAnimation_i=s,t.allKillAnimator_i=r,t.diceTop_i=o,t.diceBg_i=a,t.diceBottom_i=h,t.dice1_i=l,t.dice0_i=c,t.diceGroup_i=u,t.goldFly0_i=p,t.goldFly1_i=d,t.goldFly2_i=g,t.goldFly3_i=_,t.players_i=f,t.ItemAnimator_i=v,t.goldFlyAnimation=m,t.gameStartAnimator_1=b,t.gameStartAnimator_2=y,t.gameStartAnimator_3=E}(AnimationUtils||(AnimationUtils={}));var EventUtil=function(){function t(){}return t.Event=function(t,e,i,n){return void 0===e&&(e=null),void 0===i&&(i=!1),void 0===n&&(n=!1),new xlLib.ZqEvent(t,e)},t.dispatchEvent=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=!1),void 0===n&&(n=!1);var s=new xlLib.ZqEvent(t,e,i,n);xlLib.ZqListener.getInstance().dispatchEvent(s)},t.hasEventListener=function(t){return xlLib.ZqListener.getInstance().hasEventListener(t)},t.addEventListener=function(t,e,i,n,s){void 0===n&&(n=!1),void 0===s&&(s=0),xlLib.ZqListener.getInstance().addEventListener(t,e,i,n,s)},t.removeEventListener=function(t,e,i,n){void 0===n&&(n=!1),xlLib.ZqListener.getInstance().removeEventListener(t,e,i,n)},t}();__reflect(EventUtil.prototype,"EventUtil");var GlobalFunction=function(){function t(){}return t.tweenHideView=function(t,e,i,n,s,r){void 0===e&&(e=0),void 0===i&&(i=1e3),t.visible=!0,t.alpha=1,egret.Tween.get(t).wait(e).to({alpha:0},i,egret.Ease.circOut).call(function(){t.visible=!1,t.alpha=1,n&&n.call(s,r)})},t.tweenShowView=function(t,e,i,n,s,r){void 0===e&&(e=0),void 0===i&&(i=1e3),t.visible=!1,t.alpha=0,egret.Tween.get(t).wait(e).to({alpha:1},i,egret.Ease.circOut).call(function(){t.visible=!0,t.alpha=1,n&&n.call(s,r)})},t.getDateString=function(t){var e=t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate();return e},t.Formatconversion=function(t){var e=[],i="",n="",s=t/100+"";return t%100==0?s.length/3>0&&s.length/3<1||(s.length/3>1&&s.length/3<2?s=s.slice(0,s.length-3)+","+s.slice(s.length-3):s.length/3>2&&s.length/3<3&&(s=s.slice(0,s.length-6)+","+s.slice(s.length-6,s.length-3)+","+s.slice(s.length-3))):(e=s.split("."),i=e[0],n=e[1],i.length/3>0&&i.length/3<1?s=i+"."+n:i.length/3>1&&i.length/3<2?s=i.slice(0,i.length-3)+","+i.slice(i.length-3)+"."+n:i.length/3>2&&i.length/3<3&&(s=i.slice(0,i.length-6)+","+i.slice(i.length-6,i.length-3)+","+i.slice(i.length-3)+"."+n)),s},t}();__reflect(GlobalFunction.prototype,"GlobalFunction");var uiCore;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.animationSource="demo{0}_png",t.autoPlay=!0,t.loop=!0,t.loopTime=0,t.frameRate=24,t.frameNum=0,t.stopIndex=0,t.stopAndVisible=!1,t.loopID=-1,t.frames=new Array,t._currentFrame=-1,t._isPlaying=!1,t.timerID=0,t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoved,t),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAdded,t),t}return __extends(i,e),Object.defineProperty(i.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),i.prototype.onRemoved=function(t){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoved,this),this.stop()},i.prototype.onAdded=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAdded,this),this.refresh()},i.prototype.childrenCreated=function(){this.getResources()},i.prototype.getResources=function(){if(this.frames=[],0==this.frameNum)for(var e=0;RES.getRes(t.StringUtils.format(this.animationSource,e));)this.frames.push(t.StringUtils.format(this.animationSource,e)),e++;else for(var e=0;e<this.frameNum;e++)this.frames.push(t.StringUtils.format(this.animationSource,e))},i.prototype.play=function(){this.visible=!0,this.timerID=setInterval(this.onInterval.bind(this),this.frameRate),this._isPlaying=!0},i.prototype.playToIndex=function(t){this.visible=!0,this._isPlaying&&this.stop(),t>this.frameNum-1&&(t=this.frameNum-1),this.stopIndex=t,this.timerID=setInterval(this.onIntervalControlByIndex.bind(this),this.frameRate),this._isPlaying=!0},i.prototype.stop=function(){this.currentFrame=0,clearInterval(this.timerID),this._isPlaying=!1,-1!=this.loopID&&clearTimeout(this.loopID)},i.prototype.stopToIndex=function(t){this.setFrame(t),this.currentFrame=t},Object.defineProperty(i.prototype,"currentFrame",{set:function(t){this._currentFrame=t},enumerable:!0,configurable:!0}),i.prototype.setFrame=function(t){this.stop(),t>this.frameNum-1&&(t=this.frameNum-1),this.source=this.frames[t],this.visible=!0},i.prototype.getCurrentFrame=function(){return this._currentFrame},i.prototype.refresh=function(){this.stop(),this.autoPlay?(this.onInterval(),this.play()):this.source=this.frames[this._currentFrame]},i.prototype.onInterval=function(){this.checkRealVisible(this)&&(this.source=this.frames[this._currentFrame],this.currentFrame=this._currentFrame+1,this._currentFrame==this.frames.length&&(this.loop?(this.currentFrame=0,this.loopTime>0&&(this.stop(),this.loopID=setTimeout(this.play.bind(this),this.loopTime))):(this.stop(),this.visible=!this.stopAndVisible),this.completeEvent||(this.completeEvent=new egret.Event(egret.Event.ENDED)),this.dispatchEvent(this.completeEvent)))},i.prototype.onIntervalControlByIndex=function(){this.checkRealVisible(this)&&(this.source=this.frames[this._currentFrame],this.currentFrame=this._currentFrame+1,this._currentFrame==this.frames.length&&(this.currentFrame=0,this.play()),this._currentFrame==this.stopIndex&&(this.stopToIndex(this.stopIndex),this.completeEvent||(this.completeEvent=new egret.Event(egret.Event.ENDED)),this.dispatchEvent(this.completeEvent)))},i.prototype.checkRealVisible=function(t){for(var e=t;e&&!egret.is(e,"egret.Stage");){if(!e.visible)return!1;e=e.parent}return!0},i}(eui.Image);t.Animation=e,__reflect(e.prototype,"uiCore.Animation");var i=function(){function t(){}return t.format=function(t,e){return t.replace("{0}",""+e)},t.isEmpty=function(t){return null==t||void 0==t||0==t.length},t.trim=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},t.textToRichText=function(t){return null!=t?(new egret.HtmlTextParser).parser(t):void 0},t}();t.StringUtils=i,__reflect(i.prototype,"uiCore.StringUtils");var n=function(){function t(){this.effectList=[],this._musicVolume=1,this._effectVolume=1,this.music=null}return t.playEffect=function(t){},t}();t.SoundManager=n,__reflect(n.prototype,"uiCore.SoundManager");var s=function(t){function e(){var e=t.call(this)||this;return e.source="",e.sourceGroup="",e.speed=1,e.autoPlay=!0,e.playOnce=!1,e.defentAnimationName="",e.stopAndVisible=!1,e._isLoaded=!1,e.isAdvanceTime=!1,e.EVENT_LOADCOMPLETE="loadComplete",e.onResourceLoadComplete=function(t){t.groupName==this.sourceGroup&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),this.init())},e}return __extends(e,t),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.armature?this.armature.animation.isPlaying:!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return this._isLoaded},enumerable:!0,configurable:!0}),e.prototype.getResource=function(){""!=this.source&&(""!=this.sourceGroup?RES.isGroupLoaded(this.sourceGroup)?this.armature&&this.contains(this.armature)?(this.armature.removeEventListener(dragonBones.EventObject.COMPLETE,this.onAnimationComplete,this),this.removeChild(this.armature)):this.init():(RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.loadGroup(this.sourceGroup)):this.loadRESComplete()&&(RES.getResAsync(this.source+"_ske_json",this.loadRESComplete,this),RES.getResAsync(this.source+"_tex_json",this.loadRESComplete,this),RES.getResAsync(this.source+"_tex_png",this.loadRESComplete,this)))},e.prototype.loadRESComplete=function(){return RES.getRes(this.source+"_ske_json")&&RES.getRes(this.source+"_tex_json")&&RES.getRes(this.source+"_tex_png")?(this.init(),!1):!0},e.prototype.childrenCreated=function(){this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemovedFromStage,this),this.getResource()},e.prototype.warn=function(t){console.log(t)},e.prototype.init=function(){this._isLoaded=!0;var t=RES.getRes(this.source+"_ske_json"),e=RES.getRes(this.source+"_tex_json"),i=RES.getRes(this.source+"_tex_png");if(!t||!e||!i)return void this.warn("资源"+this.source+"不存在");this.armature&&this.removeChild(this.armature);var n=dragonBones.EgretFactory.factory;n.getDragonBonesData(this.source)||(n.parseDragonBonesData(t),n.parseTextureAtlasData(e,i)),this.armature=n.buildArmatureDisplay(this.source,this.source);var s=n.getAllDragonBonesData(),r=s[this.source],o=r.armatureNames[0];if(this.armature=n.buildArmatureDisplay(o,this.source),this.addChild(this.armature),this.armature.addEventListener(dragonBones.EventObject.COMPLETE,this.onAnimationComplete,this),this.visible=!this.stopAndVisible,this.autoPlay){var a=-1==this.armature.animation.animationList.indexOf(this.defentAnimationName)?this.armature.animation.animationList[0]:this.defentAnimationName;this.playOnce?this.play(a,1).timeScale=this.speed:this.play(a,1).timeScale=this.speed}this.isAdvanceTime||(egret.Ticker.getInstance().register(this.onTicker,this),this.isAdvanceTime=!0),this.dispatchEventWith(this.EVENT_LOADCOMPLETE)},e.prototype.onTicker=function(t){dragonBones.WorldClock.clock.advanceTime(t/1e3)},e.prototype.onRemovedFromStage=function(t){this.stop(),this.isAdvanceTime||egret.Ticker.getInstance().unregister(this.onTicker,this),this.armature&&(this.armature.removeEventListener(dragonBones.EventObject.COMPLETE,this.onAnimationComplete,this),this.armature.dispose(!0),this.armature&&this.armature.parent&&this.armature.parent.removeChild(this.armature)),dragonBones.EgretFactory.factory.getDragonBonesData(this.source)&&dragonBones.EgretFactory.factory.removeDragonBonesData(this.source,!1),this.armature=null,this.okHander=null,this.thisObject=null,this.params=null},e.prototype.onAnimationComplete=function(t){this.visible=!this.stopAndVisible,this.dispatchEvent(t),this.okHander&&this.okHander.apply(this.thisObject,this.params)},e.prototype.play=function(t,e){return this.armature?(this.armature.animation.stop(),this.visible=!0,this.armature.animation.play(t,e)):void 0},e.prototype.stop=function(){this.armature&&this.armature.animation&&(this.armature.animation.stop(),this.visible=!this.stopAndVisible)},e.prototype.getAnimDuration=function(){return 1e3*this.armature.animation.getState(this.armature.animation.animationList[0]).totalTime},e.prototype.addHander=function(t,e,i){this.okHander=t,this.thisObject=e,this.params=i},e.prototype.replaceSlot=function(t,e){var i=this.armature.armature.getSlot(t);i.displayController="none",i.displayIndex=e},e}(eui.Group);t.Animator=s,__reflect(s.prototype,"uiCore.Animator");var r=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.playEffect=function(t,e,i){if(e=e||{},e.initNum!=e.num)var n=e.time,s=e.num,r=e.regulator||100,o=(s-e.initNum)/(n/r),a=e.initNum,h=e.initNum,l=setInterval(function(){a+=o,a>=s&&e.initNum<s&&(clearInterval(l),a=s),s>=a&&e.initNum>s&&(clearInterval(l),a=s);var n=Math.floor(a);n!=h&&(h=n,t.text=i+h+"")},30)},t}();t.LabelEffect=r,__reflect(r.prototype,"uiCore.LabelEffect");var o=function(t){function e(){var e=t.call(this)||this;return e.graphics.beginFill(16711680),e.graphics.drawRect(0,0,100,100),e.graphics.endFill(),e}return __extends(e,t),e.prototype.childrenCreated=function(){},e}(egret.Shape);t.KShape=o,__reflect(o.prototype,"uiCore.KShape")}(uiCore||(uiCore={}));var CommonConsts=function(){function t(){}return t.LOBBY_LASTGAME="lobby_lastGame",t}();__reflect(CommonConsts.prototype,"CommonConsts");var xlLib;!function(t){var e=function(){function t(){this._funcMap={}}return t.prototype.dispatch=function(t,e){void 0===e&&(e=null);var i=this._funcMap[t],n=0;if(null!=i){for(;n<i.length;)i[n]&&i[n][0].call(i[n][1],e),n++;return!0}},t.prototype.addListener=function(t,e,i){if(this._funcMap[t]){var n=this.getNoticeIndex(t,e,i);-1==n&&this._funcMap[t].push([e,i])}else this._funcMap[t]=[],this._funcMap[t].push([e,i])},t.prototype.hasListener=function(t){return this._funcMap[t]&&this._funcMap[t].length>0?!0:!1},t.prototype.removeListener=function(t,e,i){if(this._funcMap[t]){var n=this.getNoticeIndex(t,e,i);-1!=n&&this._funcMap[t].splice(n,1)}},t.prototype.getNoticeIndex=function(t,e,i){var n=-1;for(var s in this._funcMap[t])if(this._funcMap[t][s][0]==e&&this._funcMap[t][s][1]==i){n=parseInt(s);break}return n},t}();t.Dispatcher=e,__reflect(e.prototype,"xlLib.Dispatcher")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1),this.CLASS_NAME="ZqEvent",this.type=t,this._obj=e}return e.prototype.clone=function(t){return new e(this.type,t?t:this._obj)},e.prototype.toString=function(){t.Console.log(this.CLASS_NAME,"type","bubbles","cancelable")},Object.defineProperty(e.prototype,"param",{get:function(){return this._obj},enumerable:!0,configurable:!0}),e.CHAT_ROOM="chat_room",e.CHAT_PRIVATE="chat_private",e.CHAT_SYSTEM="chat_system",e.CHAT_IMPORTANT="chat_important",e.EVENT_L2G_NOTICE="event_l2g_notice",e.CHAT_GM="chat_gm",e.GM_BEFORE="gm_before",e.GM_END="gm_end",e.CHAT_HORN="chat_horn",e.USER_INFO="user_info",e.UPDATE_USER_INFO="update_user_info",e.CHECK_VERSION_UPDATE="check_version_update",e.COMMON_MODEL="common_model",e.EVENT_L2G="event_l2g",e.EVENT_G2L="event_g2l",e.EVENT_ACTIVE_SOCKET_CACHE_OK="on_active_socket_cache_ok",e.EVENT_SERVER_SHUTDOWN="on_server_shutdown",e.EVENT_SERVER_DEBUG_LEVEL="on_server_debug_level",e.GM_INFO="gm_info",e.KICK_OUT="kick_out",e.ON_RECONNEC="on_reconnect",e.ON_SERVER_SHUTDOWN="on_server_shutdown",e.ON_GETZONEINFO="on_get_zoneinfo",e.ON_RESTART="on_restart",e.RECONNECT_FAIL="reconnect_fail",e.NET_ERRER="net_error",e.SHARE="share",e.TASK_EVENT="task_event",e.ONLINE_NUM="online_num",e.HIDE_SLIP_GAME_GUIDE="hide_slip_game_guide",e.NATIVE_TO_EGERET="native_to_egret",e}();t.ZqEvent=e,__reflect(e.prototype,"xlLib.ZqEvent")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){this.CLASS_NAME="ZqListener",this.isInit=!1,this.isInit,null==this._dispatcher&&(this._dispatcher=new t.Dispatcher,this.isInit=!0)}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.addEventListener=function(t,e,i,n,s){void 0===n&&(n=!1),void 0===s&&(s=0),this._dispatcher.addListener(t,e,i)},e.prototype.hasEventListener=function(t){return this._dispatcher.hasListener(t)},e.prototype.removeEventListener=function(t,e,i,n){void 0===n&&(n=!1),this._dispatcher.removeListener(t,e,i)},e.prototype.dispatchEvent=function(t){return this._dispatcher.dispatch(t.type,t)},e.prototype.toString=function(){return this._dispatcher.toString()},e}();t.ZqListener=e,__reflect(e.prototype,"xlLib.ZqListener")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function t(){this.showBack=!0,this.defaultOrientation="auto",this.hasTestChips=!1}return t}();t.IGameConfig=e,__reflect(e.prototype,"xlLib.IGameConfig")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function t(){}return t}();t.IUserInfo=e,__reflect(e.prototype,"xlLib.IUserInfo")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){this._models={}}return Object.defineProperty(e,"Instance",{get:function(){return null==this._self&&(this._self=new e),this._self},enumerable:!0,configurable:!0}),e.prototype.addEvents=function(){},e.prototype.registerCommonModel=function(e,i,n){null==this._models[e]?(this._models[e]=i,this._models["loadName_"+e]=n):t.Console.warn("registerCommonModel:公用模块只能注册一次")},e.prototype.openCommonModel=function(e,i,n,s,r){function o(){s?(a=new h._models[e](n),s.call(r,a)):0==i?(a=new h._models[e](n),t.PopUpMgr.addPopUp(a,null,!0,!0)):t.UIMgr.instance.showUI(h._models[e],n)}void 0===i&&(i=0);var a;if(this._models[e]){var h=this;return this._models["loadName_"+e]?t.ResLoadMgr.instance.load(this._models["loadName_"+e],o,function(){t.Console.error("加载资源组失败:loadName_"+e)},null,t.UIMgr.instance.tipsLoadUI,!0,!0):o(),a}},e.prototype.showCommonUI=function(e,i){return this._models[e]?t.UIMgr.instance.showUI(this._models[e],i):void 0},e.prototype.getCommonUI=function(t,e){if(this._models[t]){var i=new this._models[t](e);return i}},e._self=null,e}();t.CommonModelMgr=e,__reflect(e.prototype,"xlLib.CommonModelMgr")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){this.loadList={}}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.send=function(e,i,n,s,r,o,a){void 0===a&&(a=!0),i=i||{},n=n||egret.URLRequestMethod.GET;var h=this.dataToString(i),l=e+"?"+this.dataToString(i);if(!this.loadList[l]){var c=new egret.URLLoader;c.dataFormat=egret.URLLoaderDataFormat.TEXT;var u=new egret.URLRequest(e);u.method=n;var p=new egret.URLVariables(h);p.variables=i,u.data=p,c.addEventListener(egret.Event.COMPLETE,this.onComplete,this),c.addEventListener(egret.HTTPStatusEvent.HTTP_STATUS,this.onHTTPStatus,this),c.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onIOError,this);var d={urlLoader:c,sucessFunc:s,errorFunc:r,thisObject:o,isJson:!0,showError:a};this.loadList[l]=d,c.load(u),t.Console.log("发送http请求："+l)}},e.prototype.cancel=function(t,e){e=e||{};var i=t+this.dataToString(e);if(this.loadList[i]){this.loadList[i].urlLoader;delete this.loadList[i]}},e.prototype.getKeyByCallBack=function(t){for(var e in this.loadList){var i=this.loadList[e];if(i.sucessFunc==t||i.errorFunc==t)return e}return null},e.prototype.cancelAll=function(){this.loadList={}},e.prototype.onComplete=function(e){var i=e.currentTarget;for(var n in this.loadList)if(this.loadList[n].urlLoader==i){var s=this.loadList[n].sucessFunc,r=this.loadList[n].showError,o=JSON.parse(i.data);t.Console.log("收到http数据："+i.data),r?200==parseInt(o.code)?s.call(this.loadList[n].thisObject,this.loadList[n].isJson?o:i.data):t.TipsUtils.showFloatWordTips(o.message):s.call(this.loadList[n].thisObject,this.loadList[n].isJson?o:i.data),delete this.loadList[n]}},e.prototype.onIOError=function(t){this.loadError(t.currentTarget,t)},e.prototype.onHTTPStatus=function(t){200!=t.status&&this.loadError(t.currentTarget,t.status)},e.prototype.loadError=function(t,e){for(var i in this.loadList)if(this.loadList[i].urlLoader==t){var n=this.loadList[i].errorFunc;n&&n.call(this.loadList[i].thisObject,e),delete this.loadList[i]}},e.prototype.dataToString=function(t){var e="";for(var i in t)e+=encodeURI(i)+"="+encodeURI(t[i])+"&";return e=e.slice(0,e.length-1)},e}();t.HttpManager=e,__reflect(e.prototype,"xlLib.HttpManager")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){}return e.init=function(e){e?this._container=e:t.SceneMgr.instance.currentScene.topLayer?this._container=t.SceneMgr.instance.currentScene.topLayer:this._container=t.SceneMgr.instance.currentScene},e.addPopUp=function(e,n,s,r,o,a,h,l,c){void 0===n&&(n=null),void 0===s&&(s=!1),void 0===r&&(r=!1),void 0===a&&(a=0),void 0===h&&(h=0),void 0===l&&(l=0);var u=t.Global.screenWidth,p=t.Global.screenHeight;e.prototype&&(e=new e(c));var d=egret.getQualifiedClassName(e);null==this.popupDic[d]&&(this.popupDic[d]=[]),this.popupDic[d].push(e),(null==this._container||null==this._container.parent)&&t.SceneMgr.instance.currentScene&&(t.SceneMgr.instance.currentScene.topLayer?this._container=t.SceneMgr.instance.currentScene.topLayer:this._container=t.SceneMgr.instance.currentScene),1!=t.SceneMgr.instance.currentScene.scaleX&&(u=t.Global.designHeight/t.SceneMgr.instance.currentScene.scaleX,p=t.Global.designWidth/t.SceneMgr.instance.currentScene.scaleY);var g=null==n?this._container:n;if(!g.contains(e)){if(r){var _=egret.getQualifiedClassName(e)+e.hashCode;this.darkSpriteDic[_]=t.DisplayUtils.createMask(.7,u,p),g.contains(this.darkSpriteDic[_])||g.addChild(this.darkSpriteDic[_]),this.darkSpriteDic[_].touchEnabled=!0,egret.Tween.get(this.darkSpriteDic[_]).to({alpha:1},150),this.darkSpriteDic[_].visible=!0}if(g&&g.stage){o?g.addChildAt(e,o):g.addChild(e),this.curPanel=e,0!=h&&g?(e.x=u/2-h/2,e.y=p/2-l/2):0==e.anchorOffsetX&&(h=e.width,l=e.height);var f=u/2-h/2,v=p/2-l/2;switch(a){case i.NOMAL:s&&(e.x=f,e.y=v);break;case i.CENTER:s&&(e.x=f,e.y=v),e.alpha=0,e.scaleX=.5,e.scaleY=.5,e.x=e.x+h/4,e.y=e.y+l/4,egret.Tween.get(e).to({alpha:1,scaleX:1,scaleY:1,x:e.x-h/4,y:e.y-l/4},600,egret.Ease.backOut);break;case i.CENTER_S:e.alpha=0,e.scaleX=.5,e.scaleY=.5,e.x=e.x+h/4,e.y=e.y+l/4,egret.Tween.get(e).to({alpha:1,scaleX:1,scaleY:1,x:e.x-h/4,y:e.y-l/4},600,egret.Ease.elasticOut);break;case i.LEFT:s?(e.x=-h,egret.Tween.get(e).to({x:f},500,egret.Ease.cubicOut)):(e.x=-h,egret.Tween.get(e).to({x:0},500,egret.Ease.cubicOut));break;case i.RIGHT:s?(e.x=h,egret.Tween.get(e).to({x:f},500,egret.Ease.cubicOut)):(e.x=h,egret.Tween.get(e).to({x:0},500,egret.Ease.cubicOut));break;case i.TOP:s?(e.y=-l,egret.Tween.get(e).to({y:v},500,egret.Ease.cubicOut)):(e.y=-l,egret.Tween.get(e).to({y:0},500,egret.Ease.cubicOut));break;case i.BOTTOM:s?(e.y=g.stage.stageHeight,egret.Tween.get(e).to({y:v},500,egret.Ease.cubicOut)):(e.y=l,egret.Tween.get(e).to({y:0},500,egret.Ease.cubicOut))}return e}}},e.removePopUp=function(t,e){void 0===e&&(e=0);var i=!0;i=t.prototype?!1:!0;var n=egret.getQualifiedClassName(t);if(this.popupDic[n])if(i)for(var s=0;s<this.popupDic[n].length;s++)this.popupDic[n][s]==t&&(this.removePanel(this.popupDic[n][s],e),this.popupDic[n].splice(s,1));else for(var s=0;s<this.popupDic[n].length;s++)this.removePanel(this.popupDic[n][s],e),this.popupDic[n].shift()},e.clearPopus=function(){if(this.popupDic)for(var t in this.popupDic)for(var e=0;e<this.popupDic[t].length;e++)this.removePanel(this.popupDic[t][e]),this.popupDic[t].shift()},e.removePanel=function(e,n){void 0===n&&(n=0);var s=egret.getQualifiedClassName(e)+e.hashCode,r=function(){this.darkSpriteDic[s]&&this.darkSpriteDic[s].parent&&this.darkSpriteDic[s].parent.removeChild(this.darkSpriteDic[s]),this.darkSpriteDic[s]=null,delete this.darkSpriteDic[s]};this.darkSpriteDic[s]&&egret.Tween.get(this.darkSpriteDic[s]).to({alpha:0},100).call(r,this);var o=600;switch(n){case i.NOMAL:o=0;break;case i.CENTER:egret.Tween.get(e).to({alpha:0,scaleX:0,scaleY:0,x:e.x+e.width/2,y:e.y+e.height/2},300);break;case i.CENTER_S:egret.Tween.get(e).to({alpha:0,scaleX:0,scaleY:0,x:e.x+e.width/2,y:e.y+e.height/2},600,egret.Ease.elasticOut);break;case i.LEFT:egret.Tween.get(e).to({x:-e.width},600,egret.Ease.cubicOut);break;case i.RIGHT:egret.Tween.get(e).to({x:e.width},600,egret.Ease.cubicOut);break;case i.TOP:egret.Tween.get(e).to({y:-e.height},600,egret.Ease.cubicOut);break;case i.BOTTOM:egret.Tween.get(e).to({y:e.height},600,egret.Ease.cubicOut)}egret.setTimeout(function(){t.DisplayUtils.removeFromParent(e)},this,o)},e.hasPopup=function(e){var i=!0,n=egret.getQualifiedClassName(e);if(i="object"==typeof e&&e.prototype?!0:!1){if(!e.stage)return!1;for(var s=0;s<this.popupDic[n].length;s++)if(this.popupDic[n][s]==e)return!0}else if(this.popupDic[n]&&this.popupDic[n].length>0)for(var s=0;s<this.popupDic[n].length;s++){if(this.popupDic[n][s].stage)return!0;t.DisplayUtils.removeFromParent(this.popupDic[n][s])}return!1},e.resize=function(){if(this.popupDic)for(var t in this.popupDic){var e=this.popupDic[t];e&&e.parent&&e.resize&&e.resize()}},e.darkSpriteDic={},e.popupDic=new Object,e}();t.PopUpMgr=e,__reflect(e.prototype,"xlLib.PopUpMgr");var i;!function(t){t[t.NOMAL=0]="NOMAL",t[t.CENTER=1]="CENTER",t[t.CENTER_S=2]="CENTER_S",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT",t[t.TOP=5]="TOP",t[t.BOTTOM=6]="BOTTOM"}(i=t.PopUpEffect||(t.PopUpEffect={}))}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;
return t._autoHide=!0,t._curLoadingId=0,t._currentLoadIndex=0,t}return __extends(i,e),Object.defineProperty(i,"instance",{get:function(){return null==this._self&&(this._self=new i,this._self.initLoadingUI()),this._self},enumerable:!0,configurable:!0}),i.prototype.initLoadingUI=function(){this._loadingMap={},this._thisObj={},this._loadSucc={},this._loadError={}},i.prototype.load=function(e,i,n,s,r,o,a,h){void 0===o&&(o=!0),void 0===a&&(a=!0),a&&null!=a||(a=!0),r?(this._loadingClass=r,a?t.UIMgr.instance.showProcessBar(r):t.UIMgr.instance.showLoadingTimeout(r)):this._loadingClass=t.UIMgr.instance.commonLoadUI,h&&t.ResUtils.setMustRes(h),i&&(this._loadSucc[e]=i),n&&(this._loadError[e]=n),s&&(this._thisObj[e]=s),this._autoHide=o,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onxlLibResLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onxlLibResLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onxlLibResProgress,this),RES.loadGroup(e)},i.prototype.loadArr=function(t,e,i,n,s){this._currentLoadArr&&this._currentLoadArr.length>0?this._currentLoadArr.concat(t):(this._currentLoadArr=t,this._currentLoadIndex=0)},i.prototype.onxlLibResLoadComplete=function(e){var i=e.groupName;e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onxlLibResLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onxlLibResLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onxlLibResProgress,this)),this._loadingClass&&1==this._autoHide&&t.UIMgr.instance.hideLoading(this._loadingClass),this._loadingClass&&(this._loadingClass=null),this._loadSucc[i]&&this._loadSucc[i].call(this._thisObj[i],e),this.removeLoadDic(i)},i.prototype.onxlLibResLoadError=function(e){var i=e.groupName;t.Console.warn("Group:"+e.groupName+" has failed to load"),e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onxlLibResLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onxlLibResLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onxlLibResProgress,this),this._loadError[i]&&this._loadError[i].call(this._thisObj[i],e),this.removeLoadDic(i))},i.prototype.removeLoadDic=function(t){this._loadError[t]=null,delete this._loadError[t],this._thisObj[t]=null,delete this._thisObj[t],this._loadSucc[t]=null,delete this._loadSucc[t]},i.prototype.onxlLibResProgress=function(e){this._loadingClass&&t.UIMgr.instance.showProcessBar(this._loadingClass,e.itemsLoaded,e.itemsTotal,"",e.groupName)},i.prototype.removeRefrence=function(){this._loadSucc&&(this._loadSucc=null),this._loadingClass&&(this._loadingClass=null),this._loadError&&(this._loadSucc=null),this._thisObj&&(this._thisObj=null)},i._self=null,i}(egret.EventDispatcher);t.ResLoadMgr=e,__reflect(e.prototype,"xlLib.ResLoadMgr")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){this._currentScene=null,this._lastScene=null}return Object.defineProperty(e,"instance",{get:function(){return null==this._self&&(this._self=new e),this._self},enumerable:!0,configurable:!0}),e.prototype.init=function(t){null==this._currentScene&&(this._currentScene=t)},e.prototype.changeScene=function(e,i,n){var s=this,r=function(t){t.currentTarget.removeEventListener(egret.Event.ADDED_TO_STAGE,r,this),s._lastScene&&(s._lastScene.destroy(),s._lastScene=null)};if(n&&t.Global.isInGame){var o=this._currentScene.currentGame;return null!=o&&(o.parent&&o.parent.removeChild(o),o.destroy()),o=new e(i),(o.width>t.Global.designWidth||o.height>t.Global.designHeight)&&(o.scaleX=t.Global.designWidth/o.width,o.scaleY=t.Global.designHeight/o.height),this._currentScene.currentGame=o,this._currentScene.gameLayer.addChild(o),t.PopUpMgr.init(),o}var a=new e(i);return a.width>a.height?a.width>t.Global.designHeight&&a.height>t.Global.designWidth&&(a.scaleX=.8875,a.scaleY=640/720):a.width>t.Global.designWidth&&a.height>t.Global.designHeight&&(a.scaleX=640/720,a.scaleY=.8875),null!=this._currentScene&&(this._lastScene=this._currentScene,t.DisplayUtils.removeFromParent(this._lastScene)),this._currentScene=a,this._currentScene.addEventListener(egret.Event.ADDED_TO_STAGE,r,this),egret.MainContext.instance.stage.addChild(this._currentScene),t.PopUpMgr.init(),this._currentScene},Object.defineProperty(e.prototype,"currentScene",{get:function(){return this._currentScene},enumerable:!0,configurable:!0}),e.prototype.lastSceneLeave=function(){null!=this._lastScene&&(this._lastScene.parent&&this._lastScene.parent.removeChild(this._lastScene),this._lastScene.destroy(),this._lastScene=null)},e._self=null,e}();t.SceneMgr=e,__reflect(e.prototype,"xlLib.SceneMgr")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function t(){this.isStopped=!1,this.isMusic=!1,this.name="",this.position=0,this.egret_channel=null}return t.prototype.stop=function(){this.egret_channel&&(this.position=this.egret_channel.position,this.egret_channel.stop(),this.isStopped=!0,this.egret_channel=null)},t}();__reflect(e.prototype,"MySoundChannel");var i=function(){function i(){this._soundRes={},this._musicVolume=.8,this._soundVolume=1,this._musicOpen=!0,this._soundOpen=!0,this._activeSound={},this._activeSoundLoop={},this.loadTimeDic={},this._currentMusicIndex=0,this._currentMusicChanel=null}return Object.defineProperty(i,"instance",{get:function(){var e=this;return null==this._instance&&(this._instance=new i,t.Utils.getLocalStorage(i.SOUND_TOGGLE,function(t){null!=t&&(e._instance.soundOpen=Boolean(Number(t)))}),t.Utils.getLocalStorage(i.MUSIC_TOGGLE,function(t){null!=t&&(e._instance.musicOpen=Boolean(Number(t)))}),egret.Capabilities.engineVersion<"3.2.6"&&setTimeout(function(){},1e4)),this._instance},enumerable:!0,configurable:!0}),i.prototype.onActive=function(t){this._musicOpen&&egret.Capabilities.engineVersion<"3.2.6"&&setTimeout(function(){i.instance.resumeBgMusic()},2e3)},i.prototype.onDeActive=function(t){egret.Capabilities.engineVersion<"3.2.6"&&i.instance.pauseBgMusic()},i.prototype.playSound=function(t,e,i,n,s){if(void 0===e&&(e=1),this._soundOpen){var r,o=this;if(!this._activeSound[t]||0!=this._activeSound[t].$loops){if(n){var a=function(t,e){e.stop(),o.stopSound(t),n&&n.call(s)};r=this.play(t,e,i,[a],!1)}else r=this.play(t,e,i,[],!1);return null!=r&&(this._activeSound[t]=r),r}}},i.prototype.stopSounds=function(){for(var e in this._activeSound)null!=this._activeSound[e]&&void 0!=this._activeSound[e]&&(this._activeSound[e].stop(),this._activeSound[e]=null,delete this._activeSound[e]);for(var e in this._soundRes)this._soundRes[e]=null,delete this._soundRes[e];t.ResUtils.resetSoundLoadTimes()},i.prototype.stopSound=function(t){null!=this._activeSound[t]&&void 0!=this._activeSound[t]&&(this._activeSound[t].stop(),this._activeSound[t].dispatchEventWith(egret.Event.SOUND_COMPLETE),this._activeSound[t]=null,delete this._activeSound[t])},i.prototype.play=function(e,i,n,s,r){void 0===i&&(i=1),void 0===r&&(r=!0);var o,a=this;s&&s.length>0&&(o=function(t){var i=t.currentTarget;null!=i&&void 0!=i&&(i.removeEventListener(egret.Event.SOUND_COMPLETE,o,a),null!=s&&void 0!=s&&(s.length>1?s[0].call(s[1],e,i):s[0](e,i)))});var h=function(t){if(a._soundRes[e]=t,1==r){var o=!0;if(a._currentMusicChanel&&null!=a.loadTimeDic[a._currentMusicChanel.name]&&null!=a.loadTimeDic[e]&&a.loadTimeDic[a._currentMusicChanel.name]>a.loadTimeDic[e]&&(o=!1),1==o){var h=a.play(e,i,n,s,r);a.resetCurrentMusic(h,e)}}else(new Date).getTime()-a.loadTimeDic[e]<=1e3&&(a.loadTimeDic[e]=0,a._activeSound[e]=a.play(e,i,n,s,r))},l=0;if(null!=this.loadTimeDic[e]&&(l=this.loadTimeDic[e]),this.loadTimeDic[e]=(new Date).getTime(),null==this._soundRes[e]||void 0==this._soundRes[e]){if(RES.hasRes(e)){var c=RES.getRes(e);null!=c||void 0!=c?h(c):(t.Console.log("sound声音资源没有预加载到本地,建议进行预加载:"+e),t.ResUtils.getRes(e,h,null,egret.URLLoaderDataFormat.SOUND))}else t.ResUtils.getRes(e,h,null,egret.URLLoaderDataFormat.SOUND);return null}if(this._soundRes[e]){if(0==r&&(new Date).getTime()-l<30)return this.loadTimeDic[e]=l,null;var u=this._soundRes[e].play(n,i);if(null!=u&&void 0!=u){o&&u.addEventListener(egret.Event.SOUND_COMPLETE,o,a);var p=1==r?this._musicVolume:this._soundVolume;return u.volume=p,u}return null}return null},i.prototype.randomSounds=function(t){t&&(this._bgMusics=t);var e=Math.floor(this._bgMusics.length*Math.random());this.play(this._bgMusics[e],0)},i.prototype.playBgMusic=function(t,e){var i=this;if(i._bgMusics=t,e&&(i._currentMusicIndex=e),i._musicOpen&&i._bgMusics.length>0&&(i._currentMusicIndex>=i._bgMusics.length&&(i._currentMusicIndex=0),null==i._currentMusicChanel||i._bgMusics[i._currentMusicIndex]!=i._currentMusicChanel.name)){var n=i.play(i._bgMusics[i._currentMusicIndex],1,e,[i.onMusicEnd,i]);i.resetCurrentMusic(n,i._bgMusics[i._currentMusicIndex])}},i.prototype.onMusicEnd=function(t){var e=this;if(e._currentMusicIndex++,e._currentMusicIndex==e._bgMusics.length&&(e._currentMusicIndex=0),e._musicOpen&&e._bgMusics.length>0){var i=e.play(e._bgMusics[e._currentMusicIndex],1,0,[e.onMusicEnd,e]);e.resetCurrentMusic(i,e._bgMusics[e._currentMusicIndex])}},i.prototype.resetCurrentMusic=function(t,i){if(null!=t&&void 0!=t){var n=new e;n.name=i,n.isMusic=!0,n.egret_channel=t,n.res=this._soundRes[i],null!=this._currentMusicChanel&&this._currentMusicChanel!=n&&this._currentMusicChanel.name!=n.name&&this.stopBgMusic(),this._currentMusicChanel=n,this._currentMusicChanel.isStopped=!1,this._currentMusicChanel.egret_channel.volume=this._musicVolume}},i.prototype.stopBgMusic=function(){this._currentMusicChanel&&(this._currentMusicChanel.stop(),this.loadTimeDic[this._currentMusicChanel.name]=0,this._currentMusicChanel=null)},i.prototype.pauseBgMusic=function(){this._currentMusicChanel&&this._currentMusicChanel.stop()},i.prototype.resumeBgMusic=function(){if(this._musicOpen&&(!this._currentMusicChanel||this._currentMusicChanel.isStopped)){var t=this,e=0;if(this._currentMusicChanel&&(e=this._currentMusicChanel.position),this._bgMusics&&this._bgMusics.length>0){var i=this.play(this._bgMusics[this._currentMusicIndex],1,e,[t.onMusicEnd,t]);this.resetCurrentMusic(i,this._bgMusics[this._currentMusicIndex])}}},i.prototype.isPlayingBgMusic=function(){return this._currentMusicChanel&&0==this._currentMusicChanel.isStopped?!0:!1},i.prototype.isSoundPlaying=function(t){return this._activeSound[t]&&this._activeSound[t].position?!0:!1},Object.defineProperty(i.prototype,"musicVolume",{get:function(){return this._musicVolume},set:function(t){this._musicVolume=t,this._currentMusicChanel.egret_channel.volume=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"soundVolume",{get:function(){return this._soundVolume},set:function(t){this._soundVolume=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"musicOpen",{get:function(){return this._musicOpen},set:function(e){this._musicOpen=e,e?this.resumeBgMusic():this.pauseBgMusic(),t.Utils.setLocalStorage(i.MUSIC_TOGGLE,Number(this._musicOpen))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"soundOpen",{get:function(){return this._soundOpen},set:function(e){this._soundOpen=e,t.Utils.setLocalStorage(i.SOUND_TOGGLE,Number(this._soundOpen))},enumerable:!0,configurable:!0}),i.SOUND_TOGGLE="sound_toggle",i.MUSIC_TOGGLE="music_toggle",i}();t.SoundMgr=i,__reflect(i.prototype,"xlLib.SoundMgr")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),Object.defineProperty(i,"instance",{get:function(){return null==this._self&&(this._self=new i),this._self},enumerable:!0,configurable:!0}),i.prototype.init=function(){this.sendedKb=0,this.receiveKb=0,this.sendB=0,this.receiveB=0,this.secondTimer=new egret.Timer(1e3,0),this.secondTimer.addEventListener(egret.TimerEvent.TIMER,this.dispatchSecondEvent,this),this.secondTimer.start(),this.requestPing()},i.prototype.dispatchSecondEvent=function(e){t.Console.isDevMode||(this.dispatchEventWith(i.SENDANDRECEIVE,!1,{send:this.sendB,receive:this.receiveB}),this.sendB=this.receiveB=0)},i.prototype.requestPing=function(){},Object.defineProperty(i.prototype,"socketStatus",{set:function(t){this.dispatchEventWith(i.SOCKETSTATUS,!1,t)},enumerable:!0,configurable:!0}),i.prototype.messageCharStatistics=function(e,n,s){if(void 0===s&&(s="utf-8"),!t.Console.isDevMode){var r,o,a,h=0;if(s=s?s.toLowerCase():"","utf-16"===s||"utf16"===s)for(o=0,a=e.length;a>o;o++)r=e.charCodeAt(o),h+=65535>=r?2:4;else for(o=0,a=e.length;a>o;o++)r=e.charCodeAt(o),h+=127>=r?1:2047>=r?2:65535>=r?3:4;"send"==n?(this.sendB+=h,this.sendedKb+=h/1024):(this.receiveB+=h,this.receiveKb+=h/1024),this.dispatchEventWith(i.SENDEDANDRECEIVED,!1,{sended:this.sendedKb,received:this.receiveKb})}},i.prototype.destroy=function(){this.secondTimer&&(this.secondTimer.removeEventListener(egret.TimerEvent.TIMER,this.dispatchSecondEvent,this),this.secondTimer.stop())},i.PING="ping",i.SENDANDRECEIVE="sendAndReceive",i.SENDEDANDRECEIVED="sendedAndReceived",i.SOCKETSTATUS="socketStatus",i._self=null,i}(egret.EventDispatcher);t.StatistcsMgr=e,__reflect(e.prototype,"xlLib.StatistcsMgr")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){this._uis=new Object,this._loadings=new Object,this._effects={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._self&&(this._self=new e),this._self},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DefaultLoading",{set:function(t){this.defaultLoadingView=t},enumerable:!0,configurable:!0}),e.prototype.showUI=function(e,i,n,s){void 0===s&&(s=!1);var r=this,o=egret.getQualifiedClassName(e),a=function(t){r._uis[o]&&r._uis[o].hasEventListener(egret.Event.REMOVED_FROM_STAGE,a,r)&&r._uis[o].removeEventListener(egret.Event.REMOVED_FROM_STAGE,a,r),r._uis[o]&&r._uis[o].destroy&&r._uis[o].destroy(),0==s&&(r._uis[o]=null,delete r._uis[o])};return null==this._uis[o]?this._uis[o]=new e(i):this._uis[o].updateUIData&&this._uis[o].updateUIData(i),this._uis[o]?(0==s&&(this._uis[o].hasEventListener(egret.Event.REMOVED_FROM_STAGE,a,this)||this._uis[o].addEventListener(egret.Event.REMOVED_FROM_STAGE,a,this)),(null==this._uis[o].stage||null==this._uis[o].parent)&&(t.SceneMgr.instance.currentScene&&t.SceneMgr.instance.currentScene.topLayer?t.SceneMgr.instance.currentScene.topLayer.addChild(this._uis[o]):egret.MainContext.instance.stage.addChild(this._uis[o])),this._uis[o]):void 0},Object.defineProperty(e.prototype,"commonLoadUI",{get:function(){return this._commonLoadUI},set:function(t){this._commonLoadUI=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tipsLoadUI",{get:function(){return this._tipsLoadUI},set:function(t){this._tipsLoadUI=t},enumerable:!0,configurable:!0}),e.prototype.showProcessBar=function(t,e,i,n,s,r){return void 0===r&&(r=!1),this.showLoading(t,e,i,n,s,r)},e.prototype.showLoadingTimeout=function(t,e,i,n){void 0===e&&(e=""),void 0===i&&(i=3e4),void 0===n&&(n=""),this.showLoading(t,null,null,n,null,!1,e);var s=this;i&&setTimeout(function(){s.hideLoading(t,e)},i)},e.prototype.showLoading=function(e,i,n,s,r,o,a){void 0===o&&(o=!1),void 0===a&&(a=""),""==a?e&&null!=e?a=egret.getQualifiedClassName(e):(a=egret.getQualifiedClassName(this._commonLoadUI),e=this._commonLoadUI):null==e&&(a=egret.getQualifiedClassName(this._tipsLoadUI),e=this._tipsLoadUI),t.StringUtils.stringIsNullOrEmpty(a)||null==e||(null==this._loadings[a]&&(this._loadings[a]=new e),this._loadings[a].setProgress&&this._loadings[a].setProgress(2,100),null==this._loadings[a].stage&&(t.SceneMgr.instance.currentScene?t.SceneMgr.instance.currentScene.currentGame&&t.SceneMgr.instance.currentScene.currentGame.parent?t.SceneMgr.instance.currentScene.currentGame.addChild(this._loadings[a]):t.SceneMgr.instance.currentScene.tipsLayer&&t.SceneMgr.instance.currentScene.tipsLayer.addChild(this._loadings[a]):egret.MainContext.instance.stage.addChild(this._loadings[a])),this._loadings[a].setProgress&&this._loadings[a].setProgress(i,n,s,r,o))},e.prototype.hideLoading=function(e,i,n){void 0===i&&(i=""),void 0===n&&(n=!0),""==i&&(e&&null!=e?i=egret.getQualifiedClassName(e):(i=egret.getQualifiedClassName(this._commonLoadUI),e=this._commonLoadUI)),null!=this._loadings[i]&&(this._loadings[i].setProgress&&this._loadings[i].setProgress(2,100),t.DisplayUtils.removeFromParent(this._loadings[i]),n&&(this._loadings[i]=null,delete this._loadings[i]))},e.prototype.hideUI=function(e,i){void 0===i&&(i=!0);var n=egret.getQualifiedClassName(e);t.DisplayUtils.removeFromParent(this._uis[n]),i&&(this._uis[n]=null,delete this._uis[n])},e.prototype.destroyUI=function(e){var i=egret.getQualifiedClassName(e);null!=this._uis[i]&&void 0!=this._uis[i]&&(t.DisplayUtils.removeFromParent(this._uis[i]),delete this._uis[i])},e.prototype.resize=function(){if(this._uis)for(var t in this._uis){var e=this._uis[t];e&&e.parent&&e.resize&&e.resize()}},e.prototype.clearOldSceneUis=function(){if(this._uis)for(var t in this._uis){var e=this._uis[t];e&&null==e.parent&&delete this._uis[t]}if(this._loadings)for(var t in this._loadings){var e=this._loadings[t];e&&null==e.parent&&delete this._loadings[t]}},e._self=null,e}();t.UIMgr=e,__reflect(e.prototype,"xlLib.UIMgr")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){this._isConnecting=!1,this._connected=!1,this.useLog=!0,this._host="",this._port="",this.handlers=[],this.isPinging=!1,this.actionTimeout=null,this.resetWebSocket()}return e.prototype.resetWebSocket=function(){this.ws&&(this.ws.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.ws.removeEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.ws.removeEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.ws.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketClose,this)),this.ws=new egret.WebSocket,this.ws.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.ws.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.ws.addEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.ws.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketClose,this)},e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},Object.defineProperty(e.prototype,"isConnecting",{get:function(){return this._isConnecting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connected",{get:function(){return this._connected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this._port},enumerable:!0,configurable:!0}),e.prototype.connect=function(e,i,n){if(!this._connected&&!this._isConnecting){this._host=e,this._port=i,this.resetWebSocket(),this._isConnecting=!0,this._connected=!1;var s="ws://",r=s+e+":"+i+"?userid="+n;this.ws.connectByUrl(r),t.Console.log("连接: "+r+"  time："+t.Utils.formatDate(new Date,"yyyy-MM-dd hh:mm:ss"))}},e.prototype.close=function(){this.actionTimeout&&(egret.clearTimeout(this.actionTimeout),this.actionTimeout=null),this.ws.connected&&(this.ws.close(),this._isConnecting=!1,this._connected=!1),this.ws&&(this.ws.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.ws.removeEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.ws.removeEventListener(egret.Event.CLOSE,this.onSocketClose,this),this.ws.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onSocketClose,this)),this.ws=null},e.prototype.registerMsgHandler=function(t,e,i,n){void 0===n&&(n=!1),this.addEvent(t,e,i,n)},e.prototype.removeMsgHandler=function(t,e,i){this.removeEvent(t,e,i)},e.prototype.addEvent=function(t,e,i,n){void 0===n&&(n=!1);var s=this.handlers[t];if(null==s)s=[],this.handlers[t]=s;else for(var r=s.length,o=0;r>o;o++)if(s[o][0]==e&&s[o][1]==i)return;s.push([e,i,n])},e.prototype.removeEvent=function(t,e,i){var n=this.handlers[t];if(null!=n)for(var s=n.length,r=s-1;r>=0;r--)n[r][0]==e&&n[r][1]==i&&n.splice(r,1);n&&0==n.length&&(this.handlers[t]=null,delete this.handlers[t])},e.prototype.send=function(e,i,n,s,r,o){void 0===o&&(o=!1),this.sendMes(e,i,function(e){200==e.code?n.call(s,e):(r&&r.call(s,e),o&&t.TipsUtils.showFloatWordTips(e.message))},s,r,o)},e.prototype.sendMes=function(e,i,n,s,r,o){void 0===o&&(o=!1),this.ws.connected?(null!=i&&"object"==typeof i&&(i.command=e,i=JSON.stringify(i)),this.registerMsgHandler(e,n,s,!0),this.ws.writeUTF(i),this.ws.flush(),console.log("开始发送消息---------------"+i)):t.TipsUtils.showFloatWordTips("服务器已断开，请检查网络环境")},e.prototype.onReceiveMessage=function(t){var e=this.ws.readUTF(),i=JSON.parse(e);this.handlers[i.command]&&(console.log("收到消息 = "+e),this.sendEvent(i.command,i))},e.prototype.sendEvent=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.handlers[t];if(null!=n)for(var s=n.length,r=void 0,o=void 0,a=void 0,h=0;s>h;h++){var l=n[h];l&&(r=l[0],r&&(o=l[1],a=l[2],r.apply(o,e),a&&n.splice(h,1)))}},e.prototype.onSocketOpen=function(e){this._isConnecting=!1,this._connected=!0,EventUtil.dispatchEvent(EventConst.ON_SOCKET_SUC,{}),t.Console.log("网络已连接  time："+t.Utils.formatDate(new Date,"yyyy-MM-dd hh:mm:ss"))},e.prototype.onSocketClose=function(e){(this._connected||this._isConnecting)&&(this._isConnecting=!1,this._connected=!1,EventUtil.dispatchEvent(EventConst.ON_SOCKET_CLOSE,{}),t.Console.log("网络已断开  time："+t.Utils.formatDate(new Date,"yyyy-MM-dd hh:mm:ss")))},e}();t.WebSocketMgr=e,__reflect(e.prototype,"xlLib.WebSocketMgr")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function t(){}return t.init=function(e,i){egret.ExternalInterface.addCallback(t.SENDTOJS,function(e){t.onNativeMessage(e)})},t.setRTMPUrl=function(e,i,s){var r=new n;r.cmd=t.livePlayer,r.main=e,r.sub=i,r.hall=s,egret.ExternalInterface.call(t.SENDTONATIVE,JSON.stringify(r))},t.showVideo=function(){var e=new i;e.cmd=t.showPlayer,e.data="xixi",egret.ExternalInterface.call(t.SENDTONATIVE,JSON.stringify(e))},t.setPlayerNull=function(){var e=new i;e.cmd=t.clearPlayer,e.data="xixi",egret.ExternalInterface.call(t.SENDTONATIVE,JSON.stringify(e))},t.setGotoURL=function(e){var n=new i;n.cmd=t.gotoURL,n.data=e,egret.ExternalInterface.call(t.SENDTONATIVE,JSON.stringify(n))},t.setGameStatus=function(e){var n=new i;n.cmd=t.gameStatus,e?n.data="ingame":n.data="outgame",egret.ExternalInterface.call(t.SENDTONATIVE,JSON.stringify(n))},t.onNativeMessage=function(t){var e=JSON.parse(t);switch(e.cmd){case"netinfo":var i=e.value;GlobalData.hasNetwork=i}},t.SENDTONATIVE="sendToNative",t.SENDTOJS="sendToJS",t.livePlayer="livePlayer",t.clearPlayer="clearPlayer",t.showPlayer="showPlayer",t.gotoURL="gotoURL",t.gameStatus="gameStatus",t}();t.AndroidSDK=e,__reflect(e.prototype,"xlLib.AndroidSDK");var i=function(){function t(){}return t}();t.YHGameObj=i,__reflect(i.prototype,"xlLib.YHGameObj");var n=function(){function t(){}return t}();t.YHVideoObj=n,__reflect(n.prototype,"xlLib.YHVideoObj")}(xlLib||(xlLib={}));var xlLib;!function(t){var e;!function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t[t.DEBUG_SERVER=4]="DEBUG_SERVER",t[t.INFO_SERVER=5]="INFO_SERVER",t[t.WARN_SERVER=6]="WARN_SERVER",t[t.ERROR_SERVER=7]="ERROR_SERVER"}(e=t.LOGLEVEL||(t.LOGLEVEL={}));var i=function(){function i(){}return i.setLogLevel=function(t){1==this.isDevMode?this.LogLevel=e.DEBUG:(this.LogLevel=t,egret.Logger.logLevel=egret.Logger.INFO)},i.init=function(e,i){t.Global.isH5?this.isDevMode=e:this.isDevMode=e,this.setLogLevel(i)},i.getLocalLevel=function(t){return t>=e.DEBUG_SERVER&&(t=this.LogLevel-e.DEBUG_SERVER),t},i.log=function(i){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var r=this.getLocalLevel(this.LogLevel);r<=e.DEBUG&&((null==i||void 0==i||"string"==typeof i&&""==i)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),t.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"LOG",i,n):console.log(i,n),r!=this.LogLevel)},i.debug=function(i){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var r=this.getLocalLevel(this.LogLevel);r<=e.DEBUG&&((null==i||void 0==i||"string"==typeof i&&""==i)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),t.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"DEBUG",i,n):console.log(i,n),r!=this.LogLevel)},i.info=function(i){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var r=this.getLocalLevel(this.LogLevel);r<=e.INFO&&((null==i||void 0==i||"string"==typeof i&&""==i)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),t.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"INFO",i,n):console.log(i,n),r!=this.LogLevel)},i.warn=function(i){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var r=this.getLocalLevel(this.LogLevel);r<=e.WARN&&((null==i||void 0==i||"string"==typeof i&&""==i)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),t.Global.isH5?console.log((new Date).toTimeString().split(" ")[0],"WARN",i,n):console.log(i,n),r!=this.LogLevel)},i.error=function(i){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];var r=this.getLocalLevel(this.LogLevel);r<=e.ERROR&&((null==i||void 0==i||"string"==typeof i&&""==i)&&this.error("日志不能为空,请加标识头,不能再坑队友了!"),t.Global.isH5?console.error((new Date).toTimeString().split(" ")[0],"ERROR",i,n):console.log(i,n),r!=this.LogLevel);var o=i;n&&n.forEach(function(t){t&&(o+=t)}),t.DebugView&&t.DebugView.Instance.addLog(o)},i.isDevMode=!1,i.LOG_LEVEL_STR=["[DEBUG]","[INFO]","[WARN]","[ERROR]"],i.LogLevel=7,i}();t.Console=i,__reflect(i.prototype,"xlLib.Console")}(xlLib||(xlLib={})),onerror=function(t,e,i,n,s){var r="异常捕获:"+t+"url:"+e+"line:"+i;xlLib.Console.error(r),xlLib.DebugView.Instance.addLog(r)};var xlLib;!function(t){function e(t){if(!t)return null;var e=o[t];if(e)return e;var i=t.split("."),n=i.length;e=__uglobal;for(var s=0;n>s;s++){var r=i[s];if(e=e[r],!e)return null}return o[t]=e,e}function i(t){var e="^"+t+".";for(var i in o)i.match(e)&&console.error("匹配成功:"+i)}function n(t){if(!t)return null;var e="^"+t+".";if(-1==t.indexOf("."))for(var i in o)i.match(e)&&(o[i]=null,delete o[i]);else o[t]=null,delete o[t]}function s(t){if(!t||"object"!=typeof t&&!t.prototype)return null;var e=t.prototype?t.prototype:Object.getPrototypeOf(t),i=Object.getPrototypeOf(e);if(!i)return null;var n=r(i.constructor);return n?n:null}function r(t){var e=typeof t;if(!t||"object"!=e&&!t.prototype)return e;var i=t.prototype?t.prototype:Object.getPrototypeOf(t);if(i.hasOwnProperty("__class__"))return i.__class__;var n=i.constructor.toString().trim(),s=n.indexOf("("),r=n.substring(9,s);return Object.defineProperty(i,"__class__",{value:r,enumerable:!1,writable:!0}),r}var o={};t.getDefinitionByName=e,t.test=i,t.delDefinitionByName=n,t.getQualifiedSuperclassName=s,t.getQualifiedClassName=r}(xlLib||(xlLib={}));var __uglobal=__uglobal||this,xlLib;!function(t){var e=function(){function t(){}return t.vibrate=function(t){void 0===t&&(t=1e3),navigator.vibrate?navigator.vibrate(t):navigator.webkitVibrate&&navigator.webkitVibrate(t)},t.getMic=function(){},t.getScreen=function(){},t.callPhone=function(t){try{window.open("tel:"+t,"_self")}catch(e){}},t.sendMessage=function(t){try{window.open("sms:"+t,"_self")}catch(e){}},t.getCurUrl=function(){try{return location.href}catch(t){}},t.curAngle=Number(window.orientation),t}();t.DeviceUtils=e,__reflect(e.prototype,"xlLib.DeviceUtils")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){}return e.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.createAsyncMovieClicp=function(e,i,n,s){void 0===n&&(n=!0);var r,o;return r=new egret.MovieClipDataFactory,o=new egret.MovieClip,t.ResUtils.getRes(e+"_png",function(t,e){r.texture=t,o.movieClipData=r.generateMovieClipData(i),n?o.play(-1):o.gotoAndPlay(0,s)}),t.ResUtils.getRes(e+"_json",function(t,e){r.mcDataSet=t,o.movieClipData=r.generateMovieClipData(i),n?o.play(-1):o.gotoAndPlay(0,s)}),o},e.createMovieClicp=function(t,e){var i,n,s=RES.getRes(t+"_json"),r=RES.getRes(t+"_png");return i=new egret.MovieClipDataFactory(s,r),n=new egret.MovieClip(i.generateMovieClipData(e))},e.createMask=function(e,i,n,s){void 0===e&&(e=.3),void 0===s&&(s=0);var r=new egret.Sprite;return r.graphics.clear(),r.graphics.beginFill(s,e),r.graphics.drawRect(0,0,i?i:t.Global.screenWidth,n?n:t.Global.screenHeight),r.graphics.endFill(),r},e.createShape=function(e,i,n,s){void 0===e&&(e=.3),void 0===s&&(s=0);var r=new egret.Shape;return r.graphics.clear(),r.graphics.beginFill(s,e),r.graphics.drawRect(0,0,i?i:t.Global.screenWidth,n?n:t.Global.screenHeight),r.graphics.endFill(),r},e.createCircle=function(t,e,i){void 0===t&&(t=.3),void 0===i&&(i=0);var n=new egret.Sprite;return n.graphics.clear(),n.graphics.beginFill(i,t),n.graphics.drawCircle(0,0,e),n.graphics.endFill(),n},e.createDragonBonesDisplay=function(e,i,n){var s=RES.getRes(e+"_ske_json"),r=RES.getRes(e+"_tex_json"),o=RES.getRes(e+"_tex_png");if(!s||!r||!o)return void console.log("资源"+e+"不存在");t.StringUtils.stringIsNullOrEmpty(i)&&(i="armature");var a,h=new dragonBones.EgretFactory,l=dragonBones.DataParser.parseDragonBonesData(s);h.addDragonBonesData(l);var c=new dragonBones.EgretTextureAtlas(o,r);return h.addTextureAtlasData(c),n?(a=h.buildFastArmature(i),a.enableAnimationCache(n)):a=h.buildArmature(i),a},e.stopDragonBonesArmature=function(t){egret.stopTick(function(t){return!0},t),t.animation.stop(),dragonBones.WorldClock.clock.remove(t)},e.runDragonBonesArmature=function(e,i,n,s){return void 0===s&&(s=!0),null==e?void t.Console.error("armature不能为空"):(dragonBones.WorldClock.clock.add(e),void(s?e.animation.gotoAndPlay(i,0,-1,n,0):e.animation.gotoAndStop(i,0)))},e.setComponentEnabled=function(t,e){if(e)t.filters=[];else{var i=[.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0],n=new egret.ColorMatrixFilter(i);t.filters=[n]}t.enabled=e},e.destoryDragonBonesArmature=function(e,i){return null==e?void t.Console.error("armature不能为空"):(dragonBones.WorldClock.clock.remove(e),e.animation.stop(),void e.dispose())},e.createTextLabel=function(t,e,i,n,s,r,o,a,h,l,c,u){void 0===t&&(t="none"),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a="left"),void 0===h&&(h=0),void 0===l&&(l=0),void 0===c&&(c=0),void 0===u&&(u=0);var p=new egret.TextField;return p.textColor=e,p.textAlign=a,p.fontFamily="微软雅黑",p.text=t,p.size=i,0!=r&&(p.width=r),0!=o&&(p.height=o),0!=c&&c!=u&&(p.strokeColor=c,p.stroke=u),p.rotation=h,0!=l&&(p.skewX=l),p.x=n,p.y=s,p},e.createEuiTextLabel=function(t,e,i,n,s,r,o,a,h,l,c,u){void 0===t&&(t="none"),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a="left"),void 0===h&&(h=0),void 0===l&&(l=0),void 0===c&&(c=0),void 0===u&&(u=0);var p=new eui.Label;return p.textColor=e,p.textAlign=a,p.fontFamily="微软雅黑",p.text=t,p.size=i,0!=r&&(p.width=r),0!=o&&(p.height=o),0!=c&&c!=u&&(p.strokeColor=c,p.stroke=u),p.rotation=h,0!=l&&(p.skewX=l),p.x=n,p.y=s,p},e.removeFromParent=function(t){t&&t.parent&&t.parent.removeChild(t)},e.removeAllChildren=function(t){for(;t&&t.numChildren&&t.numChildren>0;)this.removeFromParent(t.getChildAt(0))},e.catchScreen=function(t,e){var i=new egret.RenderTexture;return i.drawToTexture(t),i.toDataURL("image/png",e?e:new egret.Rectangle(0,0,t.width,t.height))},e.catchScreenToTex=function(t,e,i){var n=new egret.RenderTexture;return n.drawToTexture(t,e,i),n},e.lightArea=function(e,i){void 0===i&&(i=.8);var n=new egret.DisplayObjectContainer,s=t.DisplayUtils.createShape(i,t.Global.screenWidth,t.Global.screenHeight);n.addChild(s),n.addChild(e),e.blendMode=egret.BlendMode.ERASE;var r=new egret.RenderTexture;r.drawToTexture(n);var o=new egret.Bitmap;return o.texture=r,o},e.ticketStarted=!1,e}();t.DisplayUtils=e,__reflect(e.prototype,"xlLib.DisplayUtils")}(xlLib||(xlLib={}));var EffectUtils;!function(t){function e(t,e){if(void 0===e&&(e=1e3),null==this.rotationArr&&(this.rotationArr=[]),!this.rotationArr[t.hashCode]){null!=this.rotationArr[t.hashCode]&&this.rotationArr[t.hashCode]||(this.rotationArr[t.hashCode]=!0);
var i=function(){this.rotationArr[t.hashCode]&&null!=t&&(t.rotation=0,egret.Tween.get(t).to({rotation:360},e).call(i,this))};t.rotation=0,egret.Tween.get(t).to({rotation:360},e).call(i,this)}}function i(t,e){void 0===e&&(e=1e3);var i=function(){egret.Tween.get(t).to({alpha:0},e).call(n)},n=function(){egret.Tween.get(t).to({alpha:1},e).call(i)};egret.Tween.get(t).to({alpha:0},e).call(n)}function n(t){null==this.rotationArr&&(this.rotationArr=[]),this.rotationArr[t.hashCode]=!1}function s(t){var e=80,i=t.x;egret.Tween.get(t).to({x:t.x-10},e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x+20},e)},this,2*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x-20},e)},this,3*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x+20},e)},this,4*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:i},e)},this,5*e)}function r(e){void 0===e&&(e=1);var i=t.curPanel,n=40,s=i.x,r=i.y;1==e?(egret.Tween.get(i).to({x:i.x-10},n),egret.setTimeout(function(){egret.Tween.get(i).to({x:i.x+20},n)},this,2*n),egret.setTimeout(function(){egret.Tween.get(i).to({x:i.x-20},n)},this,3*n),egret.setTimeout(function(){egret.Tween.get(i).to({x:i.x+20},n)},this,4*n),egret.setTimeout(function(){egret.Tween.get(i).to({x:s},n)},this,5*n)):(egret.Tween.get(i).to({x:i.x-10,y:i.y},n),egret.setTimeout(function(){egret.Tween.get(i).to({x:i.x+20,y:i.y},n)},this,2*n),egret.setTimeout(function(){egret.Tween.get(i).to({x:i.x,y:i.y+15},n)},this,3*n),egret.setTimeout(function(){egret.Tween.get(i).to({x:i.x,y:i.y-20},n)},this,4*n),egret.setTimeout(function(){egret.Tween.get(i).to({x:i.x,y:i.y+10},n)},this,5*n),egret.setTimeout(function(){egret.Tween.get(i).to({x:s,y:r},n)},this,6*n))}function o(t,e,i){switch(void 0===t&&(t=""),void 0===e&&(e=1),void 0===i&&(i=!1),e){case 1:break;case 2:xlLib.TipsUtils.showTipsLeftOrRight(t,i,!0);break;case 3:xlLib.TipsUtils.showTipsLeftOrRight(t,i,!1);break;case 4:xlLib.TipsUtils.showTipsFromCenter(t,i);break;case 5:xlLib.TipsUtils.showTipsBigToSmall(t,i)}}function a(t,e,i){var n=this;if(!this.isPlayEffectPlay){var s=t.anchorOffsetX,r=t.anchorOffsetY;t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2;var o=t.anchorOffsetX-s,a=t.anchorOffsetY-r;t.x+=o,t.y+=a;var h=function(){t.anchorOffsetX=s,t.anchorOffsetY=r,t.x-=o,t.y-=a,t.scaleX=1,t.scaleY=1,null!=e&&e.call(i),egret.Tween.removeTweens(t),n.isPlayEffectPlay=!1},l=function(){egret.Tween.get(t).to({scaleX:1,scaleY:1},100).call(h,this)};egret.Tween.get(t).to({scaleX:.8,scaleY:.8},100,egret.Ease.sineIn).call(l,this)}}function h(t,e,i){if(void 0===e&&(e=1),void 0===i&&(i=null),!this.isPlayEffectPlay){this.isPlayEffectPlay=!0;var n=function(){this.isPlayEffectPlay=!1,i()},s=function(){1==e?egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.elasticOut).call(n,this):2==e?egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.backOut).call(n,this):3==e&&egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},100).call(n,this)};egret.Tween.get(t).to({scaleX:.5,scaleY:.5,x:t.x+t.width/4,y:t.y+t.height/4},100,egret.Ease.sineIn).call(s,this)}}function l(t,e){void 0===e&&(e=function(){});var i=function(){egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.elasticOut).call(e,this)};egret.Tween.get(t).to({scaleX:.5,scaleY:.5,x:t.x+t.width/4,y:t.y+t.height/4},100,egret.Ease.sineIn).call(i,this)}function c(t,e,i){void 0===e&&(e=800),void 0===i&&(i=function(){}),t.alpha=0,t.scaleX=4,t.scaleY=4;var n=function(){i()};egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){n()},this,e)}function u(t,e){void 0===e&&(e=function(){}),t.scaleX=.1,t.scaleY=.1;var i=function(){e()};egret.Tween.get(t).to({scaleX:1,scaleY:1},800,egret.Ease.elasticOut).call(i,this)}function p(t,e,i,n,s){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=function(){}),void 0===s&&(s=200);var r=t.x,o=t.y;t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY-10,t.parent&&t.parent.setChildIndex(t,t.parent.numChildren-1);var a=function(){egret.Tween.get(t).to({x:r,y:o},s),n()},h=function(){t.anchorOffsetX=0,t.anchorOffsetY=0,t.x-=t.width/2,t.y-=t.height/2-10,t.scaleX=1,t.scaleY=1,egret.Tween.get(t).to({x:e-10,y:i},s).call(a,this)};egret.Tween.get(t).to({scaleX:1.2,scaleY:1.2},s).call(h,this)}function d(t,e,i){void 0===e&&(e=function(){}),void 0===i&&(i=400);t.x,t.y;t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,t.x+=t.anchorOffsetX,t.y+=t.anchorOffsetY-10,t.parent&&t.parent.setChildIndex(t,t.parent.numChildren-1);var n=function(){t.anchorOffsetX=0,t.anchorOffsetY=0,t.x-=t.width/2,t.y-=t.height/2-10,t.scaleX=1,t.scaleY=1,e()};egret.Tween.get(t).to({scaleX:1.4,scaleY:1.4},i).call(n,this)}function g(t,e,i){void 0===e&&(e=800),void 0===i&&(i=function(){}),t.alpha=0,t.scaleX=4,t.scaleY=4;var n=function(){i()},s=function(){egret.Tween.get(t).to({alpha:0},800).call(n,this)};egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){s()},this,e)}function _(t){var e=function(){if(null!=t){var i=function(){t.scaleX=1,t.scaleY=1,egret.Tween.get(t).to({alpha:1},1e3).call(e,self)};t.alpha=1,egret.Tween.get(t).to({scaleX:1.5,scaleY:1.5,alpha:0},1e3).call(i,self)}};e()}function f(t,e,i){void 0===i&&(i=50);var n=function(){if(null!=t){var s=function(){egret.Tween.get(t).to({y:t.y-i},e).call(n,this)};egret.Tween.get(t).to({y:t.y+i},e).call(s,this)}};n()}function v(t,e,i){void 0===i&&(i=20);var n=function(){if(null!=t){var s=function(){egret.Tween.get(t).to({rotation:-i},e).call(n,this)};egret.Tween.get(t).to({rotation:i},e).call(s,this)}};n()}function m(t,e,i){void 0===e&&(e=""),void 0===i&&(i=200);for(var n=e.split(""),s=n.length,r=0;s>r;r++)egret.setTimeout(function(){t.appendText(n[Number(this)])},r,i*r)}function b(t,e){for(var i=[[20,300],[15,300],[10,300],[5,300]],n="egret.Tween.get("+t+")",s=0,r=i.length;r>s;s++)n+=".to({'y':"+e+"-"+i[s][0]+"}, "+i[s][1]+")",n+=".to({'y':"+e+"}, "+i[s][1]+")";return n+=";"}function y(t,e){t.alpha=1,egret.Tween.get(t).to({alpha:0},e).to({alpha:1},e).call(this.startFlicker,this,[t])}function E(t){egret.Tween.removeTweens(t)}function C(t,e,i,n,s){void 0===n&&(n=140),void 0===s&&(s=64);var r=0,o=0,a=function(){if(o>10)return clearInterval(r),void(o=0);o++;var a=new eui.Image("nn_cion_png");a.x=e,a.y=i,a.scaleX=1,a.scaleY=1,t.addChild(a),egret.Tween.get(a).to({x:n,y:s,scaleX:1.1,scaleY:1.1},600).wait(100).call(function(){t.removeChild(a)},[t,a])};r=setInterval(a.bind(this),100)}function T(t,e,i,n,s){var r=0,o=0,a=function(){for(var a=Math.round(6*Math.random()+2),h=function(r){var o=new eui.Image("nn_cion_png");o.x=e+Math.round(100*Math.random()+10),o.y=i+Math.round(100*Math.random()+10),o.scaleX=.8,o.scaleY=.8,t.addChild(o);var a=n+Math.round(30*Math.random()+1),h=s+Math.round(30*Math.random()+1);egret.Tween.get(o).to({x:a,y:h,scaleX:1.1,scaleY:1.1},500).call(function(){egret.Tween.removeTweens(o),o.parent.removeChild(o)},[o])},l=0;a>l;l++)h(l);return o++,o>=10?(clearInterval(r),void(o=0)):void 0};r=setInterval(a.bind(this),30)}t.rotationEffect=e,t.blinkEffect=i,t.removeRotationEffect=n,t.shakeObj=s,t.shakeScreen=r,t.showTips=o,t.playButtonEffect=a;t.playEffect=h,t.playEffect2=l,t.playEffect3=c,t.playEffect4=u,t.playRoleActionEffect1=p,t.playRoleActionEffect2=d,t.playEffect5=g,t.playScaleEffect=_,t.flyObj=f,t.rockObj=v,t.typerEffect=m,t.macIconShake=b,t.startFlicker=y,t.stopFlicker=E,t.coinsFly_1=C,t.coinsFly_2=T}(EffectUtils||(EffectUtils={}));var xlLib;!function(t){var e=function(){function e(){}return e.checkJsIsExist=function(e){if(1==t.Global.isH5){document.body.setAttribute("style","");for(var i=document.getElementsByTagName("script"),n=0;n<i.length;n++)if(i[n].src.indexOf(e)>-1)return!0}return!1},e.isLobbyMode=function(){return"LobbyScene"==egret.getQualifiedClassName(t.SceneMgr.instance.currentScene)?!0:!1},e.LoadGame=function(i,n,s,r,o,a){t.ScreenUtils.landscape&&(this.defaultDirect=t.ScreenUtils.landscape),i=RES.getVersionController().getVirtualUrl(i);var h=function(i){r&&(s.preloadUI=r);var h=e.getGameStage(n,s);if(h&&(r&&(h.preLoadCallBack=function(){t.UIMgr.instance.hideLoading(r)}),o?o.call(a,h):t.SoundMgr.instance.stopBgMusic(),0==t.Global.isInGame)){t.Global.isInGame=!0,t.SceneMgr.instance.currentScene.addGame(h);try{var l={};l.gameId=s.gameId,l.time=(new Date).getTime(),t.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,JSON.stringify(l))}catch(c){t.Console.error("设置游戏GameId失败")}}};t.UIMgr.instance.clearOldSceneUis(),null==this.lbscene&&(this.lbscene=t.getQualifiedClassName(t.SceneMgr.instance.currentScene)),this.checkJsIsExist(i)?h():(r&&t.UIMgr.instance.showLoadingTimeout(r,"",0),this.LoadGameJs(i,h))},e.LoadLobby=function(e,i,n,s,r,o){null==e&&(e="resource/main.min.js"),e=RES.getVersionController().getVirtualUrl(e),null==i&&(i="AppMain");var a=function(e){var s=egret.getDefinitionByName(i);s&&t.SceneMgr.instance.changeScene(s,n)};this.checkJsIsExist(e)?a():(s&&t.UIMgr.instance.showLoadingTimeout(s,"",0),this.LoadGameJs(e,a))},e.ExitGame=function(){if(t.Global.gameId=t.Global.lobbyGameId,t.Global.isInGame=!1,t.SoundMgr.instance.stopSounds(),t.SoundMgr.instance.stopBgMusic(),t.ScreenUtils.landscape&&this.defaultDirect!=t.ScreenUtils.landscape&&(t.ScreenUtils.landscape=!t.ScreenUtils.landscape),t.SceneMgr.instance.currentScene.removeGame)t.SceneMgr.instance.currentScene.removeGame(),t.SceneMgr.instance.currentScene.uiLayer.visible=!0;else{var e=t.getDefinitionByName(this.lbscene);t.SceneMgr.instance.changeScene(e)}t.delDefinitionByName("Cmd"),this.removeGameJs(),t.UIMgr.instance.clearOldSceneUis(),t.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,null),t.Global.dispatchEvent(t.ZqEvent.UPDATE_USER_INFO),t.Global.dispatchEvent(t.ZqEvent.CHECK_VERSION_UPDATE)},e.reloadGame=function(e,i,n,s,r,o){1==t.Global.lobbyMode&&(t.Global.gameId=t.Global.lobbyGameId,t.Global.isInGame=!1,t.ScreenUtils.landscape&&this.defaultDirect!=t.ScreenUtils.landscape&&(t.ScreenUtils.landscape=!t.ScreenUtils.landscape),t.SoundMgr.instance.stopSounds(),t.SoundMgr.instance.stopBgMusic(),t.SceneMgr.instance.currentScene.removeGame?(t.SceneMgr.instance.currentScene.removeGame(),t.SceneMgr.instance.currentScene.uiLayer.visible=!0):t.SceneMgr.instance.changeScene(t.LobbyScene),t.delDefinitionByName("Cmd"),this.removeGameJs(),t.UIMgr.instance.clearOldSceneUis(),t.Utils.setLocalStorage(CommonConsts.LOBBY_LASTGAME,null),t.Global.dispatchEvent(t.ZqEvent.UPDATE_USER_INFO),t.Global.dispatchEvent(t.ZqEvent.CHECK_VERSION_UPDATE),this.LoadGame(e,i,n,s,r,o))},Object.defineProperty(e,"lastGame",{get:function(){var t;return t=0},enumerable:!0,configurable:!0}),e.LoadGameJs=function(t,e,i){},e.getGameStage=function(t,e){var i=egret.getDefinitionByName(t);return i?new i(e):void 0},e.removeGameJs=function(){if(1==t.Global.isH5){var e=document.getElementById("lobbygame"),i=document.getElementsByTagName("HEAD").item(0);e&&i.removeChild(e)}},e.egretLoaded=function(){var t=document.getElementById("loading");document.body.removeChild(t)},e}();t.GameModuleUtils=e,__reflect(e.prototype,"xlLib.GameModuleUtils")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){}return e.init=function(t,i){egret.ExternalInterface.addCallback(e.SENDTOJS,function(t){e.onNativeMessage(t)})},e.setRTMPUrl=function(i,n,s){var r=new t.YHVideoObj;r.cmd=e.livePlayer,r.main=i,r.sub=n,r.hall=s,egret.ExternalInterface.call(t.AndroidSDK.SENDTONATIVE,JSON.stringify(r))},e.showVideo=function(){var i=new t.YHGameObj;i.cmd=e.showPlayer,i.data="xixi",egret.ExternalInterface.call(t.AndroidSDK.SENDTONATIVE,JSON.stringify(i))},e.setPlayerNull=function(){var i=new t.YHGameObj;i.cmd=e.clearPlayer,i.data="xixi",egret.ExternalInterface.call(e.SENDTONATIVE,JSON.stringify(i))},e.setGotoURL=function(i){var n=new t.YHGameObj;n.cmd=e.gotoURL,n.data=i,egret.ExternalInterface.call(e.SENDTONATIVE,JSON.stringify(n))},e.setGameStatus=function(i){var n=new t.YHGameObj;n.cmd=e.gameStatus,i?n.data="ingame":n.data="outgame",egret.ExternalInterface.call(e.SENDTONATIVE,JSON.stringify(n))},e.onNativeMessage=function(t){var e=JSON.parse(t);switch(e.cmd){case"netinfo":var i=e.value;GlobalData.hasNetwork=i}},e.SENDTONATIVE="sendToNative",e.SENDTOJS="sendToJS",e.livePlayer="livePlayer",e.clearPlayer="clearPlayer",e.showPlayer="showPlayer",e.gotoURL="gotoURL",e.gameStatus="gameStatus",e}();t.IosSDK=e,__reflect(e.prototype,"xlLib.IosSDK")}(xlLib||(xlLib={}));var md5=function(){function t(){this.hexcase=0,this.b64pad=""}return t.prototype.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},t.prototype.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},t.prototype.any_hmac_md5=function(t,e,i){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),i)},t.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},t.prototype.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},t.prototype.rstr_hmac_md5=function(t,e){var i=this.rstr2binl(t);i.length>16&&(i=this.binl_md5(i,8*t.length));for(var n=Array(16),s=Array(16),r=0;16>r;r++)n[r]=909522486^i[r],s[r]=1549556828^i[r];var o=this.binl_md5(n.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(s.concat(o),640))},t.prototype.rstr2hex=function(t){try{this.hexcase}catch(e){this.hexcase=0}for(var i,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",s="",r=0;r<t.length;r++)i=t.charCodeAt(r),s+=n.charAt(i>>>4&15)+n.charAt(15&i);return s},t.prototype.rstr2b64=function(t){try{this.b64pad}catch(e){this.b64pad=""}for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",s=t.length,r=0;s>r;r+=3)for(var o=t.charCodeAt(r)<<16|(s>r+1?t.charCodeAt(r+1)<<8:0)|(s>r+2?t.charCodeAt(r+2):0),a=0;4>a;a++)n+=8*r+6*a>8*t.length?this.b64pad:i.charAt(o>>>6*(3-a)&63);return n},t.prototype.rstr2any=function(t,e){var i,n,s,r,o,a=e.length,h=Array(Math.ceil(t.length/2));for(i=0;i<h.length;i++)h[i]=t.charCodeAt(2*i)<<8|t.charCodeAt(2*i+1);var l=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),c=Array(l);for(n=0;l>n;n++){for(o=Array(),r=0,i=0;i<h.length;i++)r=(r<<16)+h[i],s=Math.floor(r/a),r-=s*a,(o.length>0||s>0)&&(o[o.length]=s);c[n]=r,h=o}var u="";for(i=c.length-1;i>=0;i--)u+=e.charAt(c[i]);return u},t.prototype.str2rstr_utf8=function(t){for(var e,i,n="",s=-1;++s<t.length;)e=t.charCodeAt(s),i=s+1<t.length?t.charCodeAt(s+1):0,e>=55296&&56319>=e&&i>=56320&&57343>=i&&(e=65536+((1023&e)<<10)+(1023&i),s++),127>=e?n+=String.fromCharCode(e):2047>=e?n+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?n+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(n+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return n},t.prototype.str2rstr_utf16le=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i),t.charCodeAt(i)>>>8&255);return e},t.prototype.str2rstr_utf16be=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t.charCodeAt(i)>>>8&255,255&t.charCodeAt(i));return e},t.prototype.rstr2binl=function(t){for(var e=Array(t.length>>2),i=0;i<e.length;i++)e[i]=0;for(var i=0;i<8*t.length;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return e},t.prototype.binl2rstr=function(t){for(var e="",i=0;i<32*t.length;i+=8)e+=String.fromCharCode(t[i>>5]>>>i%32&255);return e},t.prototype.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var i=1732584193,n=-271733879,s=-1732584194,r=271733878,o=0;o<t.length;o+=16){var a=i,h=n,l=s,c=r;i=this.md5_ff(i,n,s,r,t[o+0],7,-680876936),r=this.md5_ff(r,i,n,s,t[o+1],12,-389564586),s=this.md5_ff(s,r,i,n,t[o+2],17,606105819),n=this.md5_ff(n,s,r,i,t[o+3],22,-1044525330),i=this.md5_ff(i,n,s,r,t[o+4],7,-176418897),r=this.md5_ff(r,i,n,s,t[o+5],12,1200080426),s=this.md5_ff(s,r,i,n,t[o+6],17,-1473231341),n=this.md5_ff(n,s,r,i,t[o+7],22,-45705983),i=this.md5_ff(i,n,s,r,t[o+8],7,1770035416),r=this.md5_ff(r,i,n,s,t[o+9],12,-1958414417),s=this.md5_ff(s,r,i,n,t[o+10],17,-42063),n=this.md5_ff(n,s,r,i,t[o+11],22,-1990404162),i=this.md5_ff(i,n,s,r,t[o+12],7,1804603682),r=this.md5_ff(r,i,n,s,t[o+13],12,-40341101),s=this.md5_ff(s,r,i,n,t[o+14],17,-1502002290),n=this.md5_ff(n,s,r,i,t[o+15],22,1236535329),i=this.md5_gg(i,n,s,r,t[o+1],5,-165796510),r=this.md5_gg(r,i,n,s,t[o+6],9,-1069501632),s=this.md5_gg(s,r,i,n,t[o+11],14,643717713),n=this.md5_gg(n,s,r,i,t[o+0],20,-373897302),i=this.md5_gg(i,n,s,r,t[o+5],5,-701558691),r=this.md5_gg(r,i,n,s,t[o+10],9,38016083),s=this.md5_gg(s,r,i,n,t[o+15],14,-660478335),n=this.md5_gg(n,s,r,i,t[o+4],20,-405537848),i=this.md5_gg(i,n,s,r,t[o+9],5,568446438),r=this.md5_gg(r,i,n,s,t[o+14],9,-1019803690),s=this.md5_gg(s,r,i,n,t[o+3],14,-187363961),n=this.md5_gg(n,s,r,i,t[o+8],20,1163531501),i=this.md5_gg(i,n,s,r,t[o+13],5,-1444681467),r=this.md5_gg(r,i,n,s,t[o+2],9,-51403784),s=this.md5_gg(s,r,i,n,t[o+7],14,1735328473),n=this.md5_gg(n,s,r,i,t[o+12],20,-1926607734),i=this.md5_hh(i,n,s,r,t[o+5],4,-378558),r=this.md5_hh(r,i,n,s,t[o+8],11,-2022574463),s=this.md5_hh(s,r,i,n,t[o+11],16,1839030562),n=this.md5_hh(n,s,r,i,t[o+14],23,-35309556),i=this.md5_hh(i,n,s,r,t[o+1],4,-1530992060),r=this.md5_hh(r,i,n,s,t[o+4],11,1272893353),s=this.md5_hh(s,r,i,n,t[o+7],16,-155497632),n=this.md5_hh(n,s,r,i,t[o+10],23,-1094730640),i=this.md5_hh(i,n,s,r,t[o+13],4,681279174),r=this.md5_hh(r,i,n,s,t[o+0],11,-358537222),s=this.md5_hh(s,r,i,n,t[o+3],16,-722521979),n=this.md5_hh(n,s,r,i,t[o+6],23,76029189),i=this.md5_hh(i,n,s,r,t[o+9],4,-640364487),r=this.md5_hh(r,i,n,s,t[o+12],11,-421815835),s=this.md5_hh(s,r,i,n,t[o+15],16,530742520),n=this.md5_hh(n,s,r,i,t[o+2],23,-995338651),i=this.md5_ii(i,n,s,r,t[o+0],6,-198630844),r=this.md5_ii(r,i,n,s,t[o+7],10,1126891415),s=this.md5_ii(s,r,i,n,t[o+14],15,-1416354905),n=this.md5_ii(n,s,r,i,t[o+5],21,-57434055),i=this.md5_ii(i,n,s,r,t[o+12],6,1700485571),r=this.md5_ii(r,i,n,s,t[o+3],10,-1894986606),s=this.md5_ii(s,r,i,n,t[o+10],15,-1051523),n=this.md5_ii(n,s,r,i,t[o+1],21,-2054922799),i=this.md5_ii(i,n,s,r,t[o+8],6,1873313359),r=this.md5_ii(r,i,n,s,t[o+15],10,-30611744),s=this.md5_ii(s,r,i,n,t[o+6],15,-1560198380),n=this.md5_ii(n,s,r,i,t[o+13],21,1309151649),i=this.md5_ii(i,n,s,r,t[o+4],6,-145523070),r=this.md5_ii(r,i,n,s,t[o+11],10,-1120210379),s=this.md5_ii(s,r,i,n,t[o+2],15,718787259),n=this.md5_ii(n,s,r,i,t[o+9],21,-343485551),i=this.safe_add(i,a),n=this.safe_add(n,h),s=this.safe_add(s,l),r=this.safe_add(r,c)}return[i,n,s,r]},t.prototype.md5_cmn=function(t,e,i,n,s,r){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(n,r)),s),i)},t.prototype.md5_ff=function(t,e,i,n,s,r,o){return this.md5_cmn(e&i|~e&n,t,e,s,r,o)},t.prototype.md5_gg=function(t,e,i,n,s,r,o){return this.md5_cmn(e&n|i&~n,t,e,s,r,o)},t.prototype.md5_hh=function(t,e,i,n,s,r,o){return this.md5_cmn(e^i^n,t,e,s,r,o)},t.prototype.md5_ii=function(t,e,i,n,s,r,o){return this.md5_cmn(i^(e|~n),t,e,s,r,o)},t.prototype.safe_add=function(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i},t.prototype.bit_rol=function(t,e){return t<<e|t>>>32-e},t}();__reflect(md5.prototype,"md5");var xlLib;!function(t){var e=function(){function e(){}return e.randomInt=function(t,e){if(0>=e-t)return 0;var i=e-t;return Math.floor(Math.random()*i)+t},e.inRange=function(t,e,i){return t>=e&&i>=t},e.div=function(t,e){return Math.floor(t/e)},e.getZeroTimeStamp=function(){var t=new Date,e=t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+t.getUTCDate();return new Date(e).getTime()/1e3},e.getTimeStamp=function(){var t=(new Date).getTime()/1e3;return parseInt(t.toString())},e.getAngle=function(t,e,i,n){var s=i-t,r=n-e,o=Math.sqrt(Math.pow(s,2)+Math.pow(r,2)),a=s/o,h=Math.acos(a),l=180/(Math.PI/h);return 0>r?l=-l:0==r&&0>s&&(l=180),l},e.getCurrencyUnitByLen=function(t){var e="";switch(t){case 2:e="百";break;case 3:e="千";break;case 4:e="万";break;case 5:e="十万";break;case 6:e="百万";break;case 7:e="千万";break;case 8:e="亿";break;case 9:e="十亿";break;case 10:e="百亿";break;case 11:e="千亿";break;case 12:e="兆"}return e},e.getFormatCurrentStr=function(e){var i="";if(e>=1e4){var n=parseFloat(""+e/1e4);return t.NumberUtils.toFixed(n,2)+"万"}if(e>=1e3&&1e4>e){var n=parseFloat(""+e/1e3);return t.NumberUtils.toFixed(n,2)+"千"}return i=e+""},e.toFixed=function(t,e){t=t.toString();var i=t.lastIndexOf(".");return-1==i?t:t.substring(0,i+e+1)},e}();t.NumberUtils=e,__reflect(e.prototype,"xlLib.NumberUtils")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){}return e.resetSoundLoadTimes=function(){for(var t in this._resRequestSoundLoadTimes)this._resRequestSoundLoadTimes[t]=null,delete this._resRequestSoundLoadTimes[t]},e.setMustRes=function(e){try{this._mustResList=[];for(var i in e){var n=e[i];n&&n.resName&&-1==this._mustResList.indexOf(n.resName)&&this._mustResList.push(n.resName)}}catch(s){t.Console.warn("setMustRes:必须资源列表出错,请检查必须资源列表格式")}},e.init=function(){0==this.inited&&(this.inited=!0,RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),egret.startTick(this.onDragonBonesTick,egret.MainContext.instance.stage))},e.onDragonBonesTick=function(t){return dragonBones.WorldClock.clock.advanceTime(-1),!0},e.onItemLoadError=function(e){this._mustResList.indexOf(e.resItem.name)>=0&&t.Utils.restart(e.resItem.name+"资源加载失败,请重新启动游戏","确定")},e.getRes=function(t,e,i,n){function s(n){if(o._needLoadDicCallBack[t]){for(;o._needLoadDicCallBack[t].length>0;){var r=o._needLoadDicCallBack[t].shift();r[0].call(r[1],n,t)}delete o._needLoadDicCallBack[t]}else null!=i?e.call(i,n,t):e&&e(n,t);if(-1!=o._loadingDic.indexOf(t)&&(o._asynLoadLevel--,o._loadingDic.splice(o._loadingDic.indexOf(t),1)),o._needloadDic.length>0&&this._asynLoadLevel<this.MAX_LOAD_LEVEL){var a=o._needloadDic.shift();o.getRes(a,s,o)}}function r(i){o._resRequestSoundLoadTimes[t]=0;var n=i;e(n,t)}var o=this;if(n==egret.URLLoaderDataFormat.SOUND){if(null!=this._resRequestSoundLoadTimes[t])return 0==this._resRequestSoundLoadTimes[t]?void 0:void this._resRequestSoundLoadTimes[t]++;this._resRequestSoundLoadTimes[t]=1,RES.getResAsync(t,r,this)}else if(RES.hasRes(t)){var a=RES.getRes(t);if(a)s(a);else{if(this._loadingDic.indexOf(t)>=0){var h=[e,i];return null==this._needLoadDicCallBack[t]&&(this._needLoadDicCallBack[t]=[]),void this._needLoadDicCallBack[t].push(h)}if(this._asynLoadLevel<this.MAX_LOAD_LEVEL)this._loadingDic.push(t),this._asynLoadLevel++,RES.getResAsync(t,s,this);else{var h=[e,i];-1==this._needloadDic.indexOf(t)&&this._needloadDic.push(t),null==this._needLoadDicCallBack[t]&&(this._needLoadDicCallBack[t]=[]),this._needLoadDicCallBack[t].push(h)}}}else RES.getResByUrl(t,s,this)},e.clearResConfigByConfigName=function(t){for(var e;e<t.length;e++)RES.destroyRes(t[e])},e.clearResConfigByGroupName=function(t){this.clearResConfigByConfigName(t)},e.getMovieClip=function(t,e,i,n,s){function r(s,r){if(o++,o==a.length){var h=new egret.MovieClipDataFactory(RES.getRes(t+"_json"),RES.getRes(t+"_png")),l=new egret.MovieClip(h.generateMovieClipData(e));return void i.call(n,l)}}void 0===s&&(s=!1);var o=0;null==e&&(e="");var a=[t+"_json",t+"_png"];for(var h in a)this.getRes(a[h],r,this)},e.freeMovieClip=function(t,e,i){},e.loadResConfig=function(t){},e.loadGameGroupReses=function(t,e,n,s,r,o){void 0===o&&(o="resource/");var a=function(o){o.groupName==t&&(this.loadedConfig[t].status=i.LOADED,RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,a,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,n,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,s,this),e.call(r,o))},h=function(e){e.groupName==t&&n&&n.call(r,e)},l=function(e){e.groupName==t&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,a,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,n,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,s,this),s&&s.call(r,e))},c=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,c,this);var i=[];for(var n in e.target.resConfig.groupDic)i.push(n);RES.createGroup(t,i),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,a,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,h,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,l,this),RES.loadGroup(t)};null==this.loadedConfig[t]?(this.loadedConfig[t]={},this.loadedConfig[t].status=i.LOADDING,RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,c,this),RES.loadConfig(t,o)):this.loadedConfig[t].status==i.LOADED&&e.call(r)},e.MAX_LOAD_LEVEL=1,e._asynLoadLevel=0,e._loadingDic=[],e._needloadDic=[],e._needLoadDicCallBack={},e._resRequestSoundLoadTimes={},e._mustResList=[],e.inited=!1,e.loadedConfig={},e}();t.ResUtils=e,__reflect(e.prototype,"xlLib.ResUtils");var i;!function(t){t[t.LOADDING=0]="LOADDING",t[t.LOADED=1]="LOADED"}(i=t.GROUP_LOAD_STATUS||(t.GROUP_LOAD_STATUS={}))}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){}return e.init=function(e){this.scaleMode=e,t.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,t.Global.screenHeight=egret.MainContext.instance.stage.stageHeight,egret.MainContext.instance.stage.addEventListener(egret.Event.RESIZE,this.onResizeNotify,this),this.resetScaleMode(),this.scaleFactor=t.Global.screenHeight/t.Global.designHeight},e.onDeactive=function(e){t.Global.isActive=!1,egret.Tween.pauseTweens(egret.MainContext.instance.stage),t.SoundMgr.instance.onDeActive(e)},e.onActive=function(e){t.Global.isActive=!0,egret.Tween.resumeTweens(egret.MainContext.instance.stage),t.SoundMgr.instance.onActive(e)},e.onResizeNotify=function(){1==t.Global.isH5?(t.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,t.Global.screenHeight=egret.MainContext.instance.stage.stageHeight):1==this._landscape?(t.Global.screenWidth=egret.MainContext.instance.stage.stageHeight,t.Global.screenHeight=egret.MainContext.instance.stage.stageWidth):(t.Global.screenWidth=egret.MainContext.instance.stage.stageWidth,t.Global.screenHeight=egret.MainContext.instance.stage.stageHeight),this.scaleFactor=t.Global.screenHeight/t.Global.designHeight,t.SceneMgr.instance.currentScene&&t.SceneMgr.instance.currentScene.resize(),t.PopUpMgr.resize(),t.UIMgr.instance.resize()},e.resetScaleMode=function(){this.scaleMode?egret.MainContext.instance.stage.scaleMode=this.scaleMode:egret.Capabilities.isMobile?egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH:egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.SHOW_ALL},Object.defineProperty(e,"landscape",{get:function(){return this._landscape},set:function(e){if(this._landscape=e,1==t.Global.isH5)1==this._landscape?(egret.MainContext.instance.stage.orientation=egret.OrientationMode.LANDSCAPE,egret.MainContext.instance.stage.setContentSize(t.Global.designHeight,t.Global.designWidth)):(egret.MainContext.instance.stage.orientation=egret.OrientationMode.AUTO,egret.MainContext.instance.stage.setContentSize(t.Global.designWidth,t.Global.designHeight));else if(1==this._landscape){var i=0,n=0;if(t.Global.screenWidth<t.Global.screenHeight){i=t.Global.screenWidth/t.Global.designWidth,n=(t.Global.screenHeight-i*t.Global.designHeight)/2;var s=t.Global.screenWidth;t.Global.screenWidth=t.Global.screenHeight,t.Global.screenHeight=s}else i=t.Global.screenHeight/t.Global.designWidth,n=(t.Global.screenWidth-i*t.Global.designHeight)/2;t.SceneMgr.instance.currentScene.x=t.Global.designWidth,t.SceneMgr.instance.currentScene.y=n,t.SceneMgr.instance.currentScene.rotation=90}else{var s=t.Global.screenWidth;t.Global.screenWidth=t.Global.screenHeight,t.Global.screenHeight=s,t.SceneMgr.instance.currentScene.rotation=0,t.SceneMgr.instance.currentScene.x=0,t.SceneMgr.instance.currentScene.y=0}this.onResizeNotify()},enumerable:!0,configurable:!0}),e.scaleFactor=1,e}();t.ScreenUtils=e,__reflect(e.prototype,"xlLib.ScreenUtils")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){}return e.stringIsNullOrEmpty=function(t){return null==t||0==t.length},e.ltrim=function(t){return t.replace(/(^\s*)/g,"")},e.rtrim=function(t){return t.replace(/(\s*$)/g,"")},e.trim=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},e.sTrim=function(t){return t.replace(/\s/g,"")},e.checkPhone=function(t){return/^1[34578]\d{9}$/.test(t)?!0:!1},e.checkEmail=function(t){return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(t)?!0:!1},e.getPosition=function(t,e,i){void 0===i&&(i=1);for(var n=new RegExp(e,"g");i--;)n.test(t);var s=n.lastIndex-e.length;return 0>s?null:s},e.formatCurrency=function(t,e,i,n){void 0===i&&(i=!1),void 0===n&&(n=5);var s="";isNaN(t)&&(t=0);var r=t+"";null!=e&&"万"==e&&(n?5>n&&(n=5):n=5,r.length>=n?r=r.slice(0,r.length-4):e="");var o=r.split("."),a=!1,h="",l=r;if(o.length>=2&&(a=!0,h=o[1],l=o[0]),1==i){for(var c="",u=l.length,p=Math.ceil(u/3),d=1;p>=d;d++){var g=u-3*d;0>g&&(g=0);var _=u-3*d+3,f=l.substring(g,_)+(1==i?",":"");c=f+c}c=c.substr(0,c.length-1)}else c=l;var v="";return v=a?""+s+c+"."+h:""+s+c,null!=e&&(v+=e),v},e.md5=function(t){return this.md5Object=this.md5Object||new md5,this.md5Object.hex_md5(t)},e.formatCurrencyToUnit=function(e,i,n){void 0===i&&(i=4),void 0===n&&(n=!0);var s,r="",o="";4>i&&(i=4);var a=e.toString().split("."),h=!1,l="",c="";if(a.length>=2&&(h=!0,l=a[1]),c=a[0],c.length>i&&(s=c.length-i),s>=i&&(c=c.replace(c.substr(i,c.length),""),r=t.NumberUtils.getCurrencyUnitByLen(s)),c.length>=4&&1==n){for(var u="",p=c.length,d=Math.ceil(p/3),g=1;d>=g;g++){var _=p-3*g;0>_&&(_=0);var f=p-3*g+3,v=c.substring(_,f)+(1==n?",":"");u=v+u}u=u.substr(0,u.length-1)}else u=c;return o=u+r},e.formatCurrencyByTotalLen=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=8),5>i&&(i=5);var n="";isNaN(t)&&(t=0);var s=Number(t)+"",r="";s.length>=i?s.length-4>=i?(s=s.slice(0,s.length-8),r="亿"):(s=s.slice(0,s.length-4),r="万"):r="";var o=s.split("."),a=!1,h="",l=s;if(o.length>=2&&(a=!0,h=o[1],l=o[0]),1==e){for(var c="",u=l.length,p=Math.ceil(u/3),d=1;p>=d;d++){var g=u-3*d;0>g&&(g=0);var _=u-3*d+3,f=l.substring(g,_)+(1==e?",":"");c=f+c}c=c.substr(0,c.length-1)}else c=l;var v="";return v=a?""+n+c+"."+h:""+n+c,null!=r&&(v+=r),v},e.formatCurrencyNomal=function(t){if(t.indexOf("万")>=0&&(t=t.slice(0,t.length-1),t+="0000"),t.indexOf(",")>=0){var e=t.split(",");t="";for(var i=0;i<e.length;i++)t+=e[i]}return t},e.formatMMSS=function(t){var e=Math.floor(t/60)+"",i=t%60+"";return e.length<2&&(e="0"+e),i.length<2&&(i="0"+i),e+":"+i},e.formatHHMMSS=function(t,e){void 0===e&&(e=":");var i=Math.floor(t/60/60)+"",n=Math.floor(t/60)-60*parseInt(i)+"",s=t%60+"";return i.length<2&&(i="0"+i),n.length<2&&(n="0"+n),s.length<2&&(s="0"+s),i+e+n+e+s},e.formatDDHHMMSS=function(t,e){void 0===e&&(e=":");var i=t,n="",s="",r="",o="",a="天",h="时",l="分";return n=Math.floor(i/60/60/24)+"",i-=24*parseInt(n)*60*60,i>0&&(s=Number(i/60/60)+""),i-=60*parseInt(s)*60,i>0&&(r=Math.floor(i/60)+""),i-=60*parseInt(r),i>0&&(o=t%60+""),n.length<2&&(n="0"+n),s.length<2&&(s="0"+s),r.length<2&&(r="0"+r),o.length<2&&(o="0"+o),"天"==e?n+a+s+h+r+l+o:n+e+s+e+r+e+o},e.getVariables=function(t){for(var e=t.split("="),i={},n=0;n<e.length;)i[e[n]]=e[n+1],n+=2;return i},e.prototype.getStrRealLngth=function(t){var e=t.length,i=0;if(e){for(var n=0;e>n;n++)i+=t.charCodeAt(n)>255?2:1;return i}return 0},e}();t.StringUtils=e,__reflect(e.prototype,"xlLib.StringUtils")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function t(t,e,i,n){void 0===n&&(n=0),this.loopLimit=0,this.last=0,this.jumped=0,this.isStart=!1,this.begin=0,this.delay=t,this.callFun=e,this._thisObj=i,this.loopLimit=n}return t.prototype.stop=function(){-1!=t.timerlists.indexOf(this)&&(this.isStart=!1,t.timerlists.splice(t.timerlists.indexOf(this),1))
},t.prototype.start=function(){null==t.timer&&(t.timerNumber=0,t.timer=new egret.Timer(10),t.timer.addEventListener(egret.TimerEvent.TIMER,t.timerHandler,t),t.timer.start()),this.isStart=!0,this.current=this.delay,this.last=egret.getTimer(),this.begin=this.last,this.jumped=0,t.timerlists.push(this)},t.prototype.remain=function(){return this.current},t.prototype.needRender=function(){if(!this.isStart)return 0;this.current=this.current-(egret.getTimer()-this.last),this.last=egret.getTimer();var t=(this.last-this.begin)/this.delay;return t-this.jumped},t.prototype.excute=function(){this.jumped++,0!=this.loopLimit&&this.jumped>this.loopLimit&&this.stop(),this.current=this.delay,this.callFun.call(this._thisObj)},t.timerHandler=function(){for(var e,i=0,n=0,s=0;s<t.timerlists.length;)for(e=t.timerlists[s],s++,i=e.needRender(),i>30&&(i=1),n=0,i>50&&(i=1);i>n;)n++,e.excute()},t.TIMERBASE_DELAY=10,t.timerNumber=0,t.timerlists=[],t}();t.TimerBase=e,__reflect(e.prototype,"xlLib.TimerBase")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){}return e.showTipsDownToUp=function(e,i,n,s){void 0===e&&(e=""),void 0===s&&(s=!1);var r;"string"==typeof e?(r=new egret.TextField,r.size=32,s?r.textColor=t.Global.TextColors.red:r.textColor=t.Global.TextColors.green,r.alpha=0,r.text=e,r.strokeColor=16776960,r.stroke=2,r.textAlign=egret.HorizontalAlign.CENTER):r=e,r.y=n,r.x=i,null!=t.SceneMgr.instance.currentScene&&null!=t.SceneMgr.instance.currentScene.tipsLayer?t.SceneMgr.instance.currentScene.tipsLayer.contains(r)||t.SceneMgr.instance.currentScene.tipsLayer.addChild(r):egret.MainContext.instance.stage.addChild(r);var o=function(){t.DisplayUtils.removeFromParent(r),r=null},a=function(){egret.Tween.get(r).to({y:r.y-50,alpha:0},500).call(o,this)};r.visible=!0,egret.Tween.get(r).to({y:r.y-120,alpha:1},800,egret.Ease.backOut).wait(2e3).call(a,this)},e.showFloatWordTips=function(e){this._tips?(egret.Tween.removeTweens(this._tips),t.DisplayUtils.removeFromParent(this._tips)):this._tips=new t.FloatTips,this._tips.alpha=1,this._tips.setTipsText(e),this._tips.x=t.Global.screenWidth-this._tips.width>>1,this._tips.y=t.Global.screenHeight-this._tips.height>>1,t.SceneMgr.instance.currentScene.tipsLayer.addChild(this._tips),egret.Tween.get(this._tips).wait(500).to({y:this._tips.y-50,alpha:0},1e3).call(function(){this._tips.alpha=1,t.DisplayUtils.removeFromParent(this._tips)},this)},e.showTipsLeftOrRight=function(e,i,n){void 0===e&&(e=""),void 0===i&&(i=!1),void 0===n&&(n=!0);var s;"string"==typeof e?(s=new egret.TextField,s.size=24,i?s.textColor=t.Global.TextColors.red:s.textColor=t.Global.TextColors.green,s.alpha=0,s.text=e,s.strokeColor=0,s.stroke=2,s.bold=!0,s.textAlign=egret.HorizontalAlign.CENTER):s=e,n?s.x=-s.width:s.x=t.Global.screenWidth,s.y=t.Global.screenHeight/2,t.SceneMgr.instance.currentScene.tipsLayer.contains(s)||t.SceneMgr.instance.currentScene.tipsLayer.addChild(s),n?egret.Tween.get(s).to({x:t.Global.screenWidth/2-s.width/2-50,alpha:1},300,egret.Ease.sineInOut):egret.Tween.get(s).to({x:t.Global.screenHeight/2-s.width/2+50,alpha:1},300,egret.Ease.sineInOut),egret.setTimeout(function(){n?egret.Tween.get(s).to({x:s.x+100},500):egret.Tween.get(s).to({x:s.x-100},500)},this,300),egret.setTimeout(function(){n?egret.Tween.get(s).to({x:t.Global.screenWidth},300,egret.Ease.sineIn):egret.Tween.get(s).to({x:-s.width},300,egret.Ease.sineIn)},this,800),egret.setTimeout(function(){t.SceneMgr.instance.currentScene.tipsLayer.contains(s)&&(t.SceneMgr.instance.currentScene.tipsLayer.removeChild(s),s=null)},this,1100)},e.showTipsFromCenter=function(e,i){void 0===e&&(e=""),void 0===i&&(i=!1);var n;"string"==typeof e?(n=new egret.TextField,n.size=24,i?n.textColor=t.Global.TextColors.red:n.textColor=t.Global.TextColors.green,n.alpha=0,n.text=e,n.strokeColor=0,n.stroke=2,n.bold=!0,n.textAlign=egret.HorizontalAlign.CENTER):n=e,n.y=t.Global.screenHeight/2,n.scaleX=0,n.scaleY=0,n.anchorOffsetX=n.width>>1,n.anchorOffsetY=n.height>>1,n.x=t.Global.screenWidth/2,t.SceneMgr.instance.currentScene.tipsLayer.contains(n)||t.SceneMgr.instance.currentScene.tipsLayer.addChild(n);var s=function(){t.SceneMgr.instance.currentScene.tipsLayer.contains(n)&&(t.SceneMgr.instance.currentScene.tipsLayer.removeChild(n),n=null)};egret.Tween.get(n).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(n).to({alpha:0},500).call(s,this)},this,1e3)},e.showTipsBigToSmall=function(e,i){void 0===e&&(e=""),void 0===i&&(i=!1);var n;"string"==typeof e?(n=new egret.TextField,n.size=24,i?n.textColor=t.Global.TextColors.red:n.textColor=t.Global.TextColors.green,n.alpha=0,n.text=e,n.strokeColor=0,n.stroke=2,n.bold=!0,n.textAlign=egret.HorizontalAlign.CENTER):n=e,n.y=t.Global.screenHeight/2,n.anchorOffsetX=n.width>>1,n.anchorOffsetY=n.height>>1,n.scaleX=4,n.scaleY=4,n.x=t.Global.screenWidth/2,t.SceneMgr.instance.currentScene.tipsLayer.contains(n)||t.SceneMgr.instance.currentScene.tipsLayer.addChild(n);var s=function(){t.SceneMgr.instance.currentScene.tipsLayer.contains(n)&&(t.SceneMgr.instance.currentScene.tipsLayer.removeChild(n),n=null)};egret.Tween.get(n).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(n).to({alpha:0},500).call(s,this)},this,1e3)},e}();t.TipsUtils=e,__reflect(e.prototype,"xlLib.TipsUtils")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(){function e(){}return e.setLocalStorage=function(e,i){t.Global.nativeStorage?t.Global.nativeStorage.save({key:e,id:e,rawData:i,expires:null}):window.localStorage?localStorage.setItem(e,i):window.document&&window.document.cookie||egret&&egret.localStorage.setItem(e,i)},e.getLocalStorage=function(e,i){if(t.Global.nativeStorage)t.Global.nativeStorage.load({key:e,id:e,autoSync:!0,syncInBackground:!0}).then(function(t){i(t)})["catch"](function(t){i(null)});else if(window.localStorage){if(!i)return localStorage.getItem(e);i(localStorage.getItem(e))}else if(window.document&&window.document.cookie);else if(egret){if(!i)return egret.localStorage.getItem(e);i(egret.localStorage.getItem(e))}else{if(!i)return null;i(null)}},e.clearLocalStorage=function(e){try{if(1==t.Global.lobbyMode&&1==t.Global.isInGame)return;e?t.Global.nativeStorage?t.Global.nativeStorage.remove({key:e}):window.localStorage?localStorage.removeItem(e):window.document&&window.document.cookie||egret&&egret.localStorage.removeItem(e):t.Global.nativeStorage?t.Global.nativeStorage.clearMap():window.localStorage?localStorage.clear():window.document&&window.document.cookie||egret&&egret.localStorage.clear()}catch(i){}},e.isIOS=function(){return 0==t.Global.isH5&&"iOS"==egret.Capabilities.os?!0:!1},e.isAndroid=function(){return 0==t.Global.isH5&&"Android"==egret.Capabilities.os?!0:!1},e.isWindowsPC=function(){return 0==t.Global.isH5&&"Windows PC"==egret.Capabilities.os?!0:!1},e.restart=function(e,i){var n=this,s=n.isrebooting;if(n.isrebooting=!0,1==t.Global.isH5){var r=confirm(e);1==r||(n.isrebooting=!1)}else s||t.Global.dispatchEvent(t.ZqEvent.ON_RESTART,[e,i])},e.getDistance=function(t,e,i,n){if(Math.abs(t)>90||Math.abs(i)>90)return 0;if(Math.abs(e)>180||Math.abs(n)>180)return 0;var s=this.rad(t),r=this.rad(i),o=s-r,a=this.rad(e)-this.rad(n),h=2*Math.asin(Math.sqrt(Math.pow(Math.sin(o/2),2)+Math.cos(s)*Math.cos(r)*Math.pow(Math.sin(a/2),2)));return h*=this.EARTH_RADIUS,h=Math.round(1e4*h)/1e4},e.rad=function(t){return t*Math.PI/180},e.cloneObj=function(t){var i;if("object"==typeof t){for(var n in t)i[n]="object"==typeof t[n]?e.cloneObj(t[n]):t[n];return i}},e.formatDate=function(t,e){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},e.isrebooting=!1,e.EARTH_RADIUS=6378137,e}();t.Utils=e,__reflect(e.prototype,"xlLib.Utils")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(e){function i(i){void 0===i&&(i="assets");var n=e.call(this)||this;return n.w=0,n.h=0,n.assets=RES.getRes(i),n.w=t.Global.screenWidth,n.h=t.Global.screenHeight,n.initPanel(),n}return __extends(i,e),i.prototype.initPanel=function(){},i.prototype.initData=function(){},i.prototype.onEnter=function(){},i.prototype.onExit=function(){},i.prototype.closePanel=function(){t.PopUpMgr.removePopUp(this)},i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i}(egret.DisplayObjectContainer);t.BasePanel=e,__reflect(e.prototype,"xlLib.BasePanel")}(xlLib||(xlLib={}));var xlLib;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.init(),t}return __extends(i,e),i.prototype.init=function(){this.tipsBg=t.DisplayUtils.createBitmapByName("tipsBg");var e=new egret.Rectangle(190,10,2,2);this.tipsBg.scale9Grid=e,this.addChild(this.tipsBg),this._tips_tf=t.DisplayUtils.createTextLabel("",16777215,22),this.addChild(this._tips_tf)},i.prototype.setTipsText=function(t){this._tips_tf.text=t,this.tipsBg.width=this._tips_tf.width+80,this.width=this.tipsBg.width,this._tips_tf.x=this.width-this._tips_tf.width>>1,this._tips_tf.y=this.height-this._tips_tf.height>>1,this.tipsBg.x=this.width-this.tipsBg.width>>1},i}(egret.DisplayObjectContainer);t.FloatTips=e,__reflect(e.prototype,"xlLib.FloatTips")}(xlLib||(xlLib={}));var Main=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e.isSocketSuc=!1,e.isResLoadEnd=!1,e}return __extends(e,t),e.prototype.start=function(){t.prototype.start.call(this),egret.lifecycle.onPause=function(){egret.ticker.pause(),xlLib.SoundMgr.instance.musicOpen=!1,xlLib.SoundMgr.instance.soundOpen=!1},egret.lifecycle.onResume=function(){egret.ticker.resume(),xlLib.SoundMgr.instance.musicOpen=!0,xlLib.SoundMgr.instance.soundOpen=!0};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.setMaxLoadingThread(4);var i=new xlLib.initOptions;i.debug=!1,xlLib.init(i),xlLib.UIMgr.instance.commonLoadUI=LodingView,xlLib.UIMgr.instance.tipsLoadUI=TipsLoading,xlLib.ResUtils.init(),xlLib.ReceiveMessageMgr.getInstance().initPushMessage(),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/"),xlLib.SoundMgr.instance.musicOpen=!0,xlLib.SoundMgr.instance.soundOpen=!0},e.prototype.showLoadingIcon=function(){this.loadingIcon||(this.loadingIcon=xlLib.DisplayUtils.createBitmapByName("loading_png"),this.loadingIcon.x=xlLib.Global.screenWidth>>1,this.loadingIcon.y=xlLib.Global.screenHeight>>1,this.loadingIcon.anchorOffsetX=this.loadingIcon.width/2,this.loadingIcon.anchorOffsetY=this.loadingIcon.height/2),this.addChild(this.loadingIcon),this.starRotation()},e.prototype.starRotation=function(){egret.Tween.get(this.loadingIcon).to({rotation:this.loadingIcon.rotation+40},100).call(this.starRotation,this)},e.prototype.removeLodingIcon=function(){egret.Tween.removeTweens(this.loadingIcon),this.loadingIcon&&this.loadingIcon.parent&&this.loadingIcon.parent.removeChild(this.loadingIcon),this.loadingIcon=null,RES.destroyRes("loading_png")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){if("preload"==t.groupName){this.showLoadingIcon();var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.loadGroup("load")}else"load"==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,this.createScene())},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.startCreateScene()},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName},e.prototype.startCreateScene=function(){xlLib.Utils.isAndroid?xlLib.AndroidSDK.init():xlLib.Utils.isIOS&&xlLib.IosSDK.init(),this.removeLodingIcon(),xlLib.ResLoadMgr.instance.load("hall",this.onLoadComplete,this.onResourceLoadError,this,LodingView,!0)},e.prototype.onLoadComplete=function(t){this.isResLoadEnd=!0,this.isSocketSuc=!0,this.startEnterGame()},e.prototype.startEnterGame=function(){this.isSocketSuc&&this.isResLoadEnd&&(this.loginView=new LoginView,this.uiLayer.addChild(this.loginView))},e.prototype.resize=function(){this.loginView&&this.loginView.resize()},e}(xlLib.GameDoc);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var SafeBoxView=function(t){function e(){var e=t.call(this)||this;return e.skinName="SafeBoxViewSkin",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.btn_close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickCloBtn,this);var e=[{name:"存入",down_url:"deposit_down_btn_png",up_url:"deposit_up_btn_png"},{name:"取出",down_url:"out_down_btn_png",up_url:"out_up_btn_png"},{name:"自动存入",down_url:"autodeposit_down_btn_png",up_url:"autodeposit_up_btn_png"}];this._safebox_meun.dataProvider=new eui.ArrayCollection(e),this._safebox_meun.useVirtualLayout=!0,this._safebox_meun.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onBarItemTap,this),this.toggle=new EToggleSwitch(this,"ts_off_bg_png","ts_on_bg_png","toggleswitch_btn_png"),this.toggle.x=350,this.toggle.y=65,this.group_autodeposit.addChild(this.toggle),this.toggle.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnToggleSwitch,this)},e.prototype.onBarItemTap=function(t){this._viewstack_safebox.selectedIndex=t.itemIndex,xlLib.SoundMgr.instance.playSound("Special_menu_mp3")},e.prototype.OnToggleSwitch=function(t){this.toggle.getSelected()?console.log("关闭"):console.log("打开")},e.prototype.OnClickCloBtn=function(t){xlLib.SoundMgr.instance.playSound("Special_menu_mp3"),xlLib.PopUpMgr.removePopUp(e,1)},e.prototype._MaxBtnHid=function(){this.group_deposit.visible=!1,this.group_out.visible=!1,this.group_autodeposit.visible=!1},e.prototype._MinBtnHid=function(){},e.prototype.partAdded=function(e,i){t.prototype.partAdded.call(this,e,i)},e.prototype.destroy=function(){this.btn_close.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnClickCloBtn,this)},e}(eui.Component);__reflect(SafeBoxView.prototype,"SafeBoxView");